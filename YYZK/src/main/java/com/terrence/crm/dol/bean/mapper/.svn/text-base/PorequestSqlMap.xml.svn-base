<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Porequest">

        
	<resultMap id="RM.Porequest" class="com.terrence.crm.dol.bean.Porequest">
        <result property="finterid" column="finterid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fbillno" column="fbillno"/>
        <result property="createdate" column="createdate"/>
        <result property="checkdate" column="checkdate"/>
        <result property="fclosed" column="fclosed"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fsource" column="fsource"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="checkid" column="checkid"/>
        <result property="bomPushid" column="bomPushid"/>
        <result property="fcomment" column="fcomment"/>
        <result property="rejectedwhy" column="rejectedwhy"/>
        <result property="frequesterid" column="frequesterid"/>
        <result property="fnote" column="fnote"/>
        <result property="fseltrantype" column="fseltrantype"/>

        <result property="fheadselfp0128" column="fheadselfp0128"/>
        <result property="fbiztype" column="fbiztype"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fmrp" column="fmrp"/>
        <result property="fmrpautoclosed" column="fmrpautoclosed"/>
        <result property="fmrpclosed" column="fmrpclosed"/>
        <result property="fchildren" column="fchildren"/>
        <result property="fgeneratepurbudqty" column="fgeneratepurbudqty"/>
        
        <result property="checkstatus" column="checkstatus"/>
        <result property="checkdesc" column="checkdesc"/>
        
        <result property="createrName" column="createrName"/>
        <result property="addStatus" column="addStatus"/>
        <result property="sourceCode" column="sourceCode"/>
        <result property="sourceId" column="sourceId"/>
        
        <result property="closeuserId" column="closeuserId"/>
        <result property="closeuserName" column="closeuserName"/>
        <result property="closetime" column="closetime"/>
        <result property="pushuserId" column="pushuserId"/>
        <result property="pushuserName" column="pushuserName"/>
        <result property="pushtime" column="pushtime"/>
    </resultMap>
    
    <resultMap id="RM.Porequest.page" class="com.terrence.crm.dol.bean.Porequest">
        <result property="finterid" column="finterid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fbillno" column="fbillno"/>
        <result property="createdate" column="createdate"/>
        <result property="checkdate" column="checkdate"/>
        <result property="fclosed" column="fclosed"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fsource" column="fsource"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="checkid" column="checkid"/>
        <result property="bomPushid" column="bomPushid"/>
        <result property="fcomment" column="fcomment"/>
        <result property="rejectedwhy" column="rejectedwhy"/>
        <result property="frequesterid" column="frequesterid"/>
        <result property="fnote" column="fnote"/>
        <result property="fseltrantype" column="fseltrantype"/>

        <result property="fheadselfp0128" column="fheadselfp0128"/>
        <result property="fbiztype" column="fbiztype"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fmrp" column="fmrp"/>
        <result property="fmrpautoclosed" column="fmrpautoclosed"/>
        <result property="fmrpclosed" column="fmrpclosed"/>
        <result property="fchildren" column="fchildren"/>
        <result property="fgeneratepurbudqty" column="fgeneratepurbudqty"/>
        
        <result property="checkstatus" column="checkstatus"/>
        <result property="checkdesc" column="checkdesc"/>
        
        <result property="createrName" column="createrName"/>
        <result property="addStatus" column="addStatus"/>
        <result property="sourceCode" column="sourceCode"/>
        <result property="sourceId" column="sourceId"/>
        
        <result property="closeuserId" column="closeuserId"/>
        <result property="closeuserName" column="closeuserName"/>
        <result property="closetime" column="closetime"/>
        <result property="pushuserId" column="pushuserId"/>
        <result property="pushuserName" column="pushuserName"/>
        <result property="pushtime" column="pushtime"/>
        
         <result property="admin" resultMap="RM.Admin.tasks.list"/>
        <result property="depart" resultMap="RM.Department.tasks.teamname.select2"/>
    </resultMap>
    
    <resultMap id="RM.Porequest.porequestentry.tasks.detail" class="com.terrence.crm.dol.bean.Porequest"><!-- 代办任务查看 -->
        <result property="finterid" column="finterid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fbillno" column="fbillno"/>
        <result property="createdate" column="createdate"/>
        <result property="checkdate" column="checkdate"/>
        <result property="fclosed" column="fclosed"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fsource" column="fsource"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="checkid" column="checkid"/>
        <result property="bomPushid" column="bomPushid"/>
        <result property="fcomment" column="fcomment"/>
         <result property="rejectedwhy" column="rejectedwhy"/>
         <result property="frequesterid" column="frequesterid"/>
         <result property="fnote" column="fnote"/>
         <result property="fseltrantype" column="fseltrantype"/>
         <result property="fheadselfp0128" column="fheadselfp0128"/>
        <result property="fbiztype" column="fbiztype"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fmrp" column="fmrp"/>
        <result property="fmrpautoclosed" column="fmrpautoclosed"/>
        <result property="fmrpclosed" column="fmrpclosed"/>
        <result property="fchildren" column="fchildren"/>
        <result property="fgeneratepurbudqty" column="fgeneratepurbudqty"/>
        <result property="checkstatus" column="checkstatus"/>
        <result property="checkdesc" column="checkdesc"/>
        <result property="createrName" column="createrName"/>
        <result property="addStatus" column="addStatus"/>
        <result property="sourceCode" column="sourceCode"/>
        <result property="sourceId" column="sourceId"/>
        
        <result property="closeuserId" column="closeuserId"/>
        <result property="closeuserName" column="closeuserName"/>
        <result property="closetime" column="closetime"/>
        <result property="pushuserId" column="pushuserId"/>
        <result property="pushuserName" column="pushuserName"/>
        <result property="pushtime" column="pushtime"/>
        
         <result property="admin" resultMap="RM.Admin.tasks.list"/>
        <result property="taName" column="taName"/>
        <result property="listporequestentry" column="finterid" select="Porequestentry.find.List.tasks"/>
    </resultMap>
   
	<resultMap id="RM.Porequestentry.tasks.listall" class="com.terrence.crm.dol.bean.Porequestentry">
        <result property="poid" column="poid"/>
        <result property="inventoryid" column="inventoryid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
        <result property="amount" column="amount"/>
        <result property="createdate" column="createdate"/>
        <result property="startdate" column="startdate"/>
        <result property="rta" column="rta"/>
        <result property="ata" column="ata"/>
        <result property="status" column="status"/>
        <result property="issend" column="issend"/>
        <result property="unitname" column="unitname"/>
        <result property="fbillno" column="fbillno"/>
        <result property="bompushid" column="bompushid"/>
        <result property="fmrpclosed" column="fmrpclosed"/>
        <result property="fcomment" column="fcomment"/>
        <result property="ispush" column="ispush"/>
        <result property="supplyid" column="supplyid"/>
        <result property="empid" column="empid"/>
        <result property="deptid" column="deptid"/>
        <result property="f101" column="f_101"/>
        <result property="f102" column="f_102"/>
         <result property="admin" resultMap="RM.Admin.tasks.list"/>
        <result property="supplier" resultMap="RM.Supplier.tasks.fname.list"/>
        <result property="depart" resultMap="RM.Department.tasks.teamname.select2"/>
    </resultMap>
    
     <resultMap id="RM.Admin.tasks.list" class="com.terrence.crm.dol.bean.Admin">
        <result property="adminName" column="adminName"/>
    </resultMap>
    <resultMap id="RM.Supplier.tasks.fname.list" class="com.terrence.crm.dol.bean.Supplier">
        <result property="fname" column="fname"/>
    </resultMap>
	<resultMap id="RM.Department.tasks.teamname.select2" class="com.terrence.crm.dol.bean.Department">
        <result property="teamname" column="teamname"/>
    </resultMap>
    
    <resultMap id="RM.Porequest.FDetail" class="com.terrence.crm.dol.bean.Porequest"><!-- 审核人 -->
        <result property="finterid" column="finterid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fbillno" column="fbillno"/>
        <result property="createdate" column="createdate"/>
        <result property="checkdate" column="checkdate"/>
        <result property="fclosed" column="fclosed"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fsource" column="fsource"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="checkid" column="checkid"/>
        <result property="bomPushid" column="bomPushid"/>
        <result property="fcomment" column="fcomment"/>
         <result property="rejectedwhy" column="rejectedwhy"/>
         <result property="frequesterid" column="frequesterid"/>
         <result property="fnote" column="fnote"/>
        <result property="fseltrantype" column="fseltrantype"/>
        
        <result property="fheadselfp0128" column="fheadselfp0128"/>
        <result property="fbiztype" column="fbiztype"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fmrp" column="fmrp"/>
        <result property="fmrpautoclosed" column="fmrpautoclosed"/>
        <result property="fmrpclosed" column="fmrpclosed"/>
        <result property="fchildren" column="fchildren"/>
        <result property="fgeneratepurbudqty" column="fgeneratepurbudqty"/>
        
        <result property="checkstatus" column="checkstatus"/>
        <result property="checkdesc" column="checkdesc"/>
        
        <result property="createrName" column="createrName"/>
        <result property="addStatus" column="addStatus"/>
        <result property="sourceCode" column="sourceCode"/>
        <result property="sourceId" column="sourceId"/>
        
        <result property="closeuserId" column="closeuserId"/>
        <result property="closeuserName" column="closeuserName"/>
        <result property="closetime" column="closetime"/>
        <result property="pushuserId" column="pushuserId"/>
        <result property="pushuserName" column="pushuserName"/>
        <result property="pushtime" column="pushtime"/>
        
         <result property="admin" resultMap="RM.Admin.tasks.list"/>
        <result property="taName" column="taName"/>
        <result property="depart" resultMap="RM.Department.tasks.teamname.select2"/>
    </resultMap>
    <resultMap id="RM.Porequest.tongbu.find" class="com.terrence.crm.dol.bean.Porequest">
        <result property="finterid" column="finterid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fbillno" column="fbillno"/>
        <result property="createdate" column="createdate"/>
        <result property="checkdate" column="checkdate"/>
        <result property="fclosed" column="fclosed"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fsource" column="fsource"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="checkid" column="checkid"/>
        <result property="bomPushid" column="bomPushid"/>
        <result property="fcomment" column="fcomment"/>
         <result property="rejectedwhy" column="rejectedwhy"/>
         <result property="frequesterid" column="frequesterid"/>
         <result property="fnote" column="fnote"/>
        <result property="fseltrantype" column="fseltrantype"/>
        <result property="fheadselfp0128" column="fheadselfp0128"/>
        <result property="fbiztype" column="fbiztype"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fmrp" column="fmrp"/>
        <result property="fmrpautoclosed" column="fmrpautoclosed"/>
        <result property="fmrpclosed" column="fmrpclosed"/>
        <result property="fchildren" column="fchildren"/>
        <result property="fgeneratepurbudqty" column="fgeneratepurbudqty"/>
        <result property="checkstatus" column="checkstatus"/>
        <result property="checkdesc" column="checkdesc"/>
        
        <result property="createrName" column="createrName"/>
        <result property="addStatus" column="addStatus"/>
        <result property="sourceCode" column="sourceCode"/>
        <result property="sourceId" column="sourceId"/>
        
        <result property="closeuserId" column="closeuserId"/>
        <result property="closeuserName" column="closeuserName"/>
        <result property="closetime" column="closetime"/>
        <result property="pushuserId" column="pushuserId"/>
        <result property="pushuserName" column="pushuserName"/>
        <result property="pushtime" column="pushtime"/>
        
         <result property="admin" resultMap="RM.Admin.tasks.list"/>
        <result property="taName" column="taName"/>
        <result property="depart" resultMap="RM.Department.tasks.teamname.select2"/>
        <result property="frequesterName" column="frequesterName"/>
    </resultMap>
	<!-- 用于select查询公用抽取的列 -->
	<sql id="Porequest.columns">
	    <![CDATA[
        	t_porequest.finterid ,
        	t_porequest.fbillerid ,
        	t_porequest.fbillno ,
        	t_porequest.createdate ,
        	t_porequest.checkdate ,
        	t_porequest.fclosed ,
        	t_porequest.fstatus ,
        	t_porequest.fsource ,
        	t_porequest.fdeptid ,
        	t_porequest.checkid ,
        	t_porequest.bomPushid ,
        	t_porequest.fcomment,
        	t_porequest.rejectedwhy,
        	t_porequest.frequesterid,
        	t_porequest.fnote,
        	t_porequest.fseltrantype,
        	t_porequest.fheadselfp0128,
        	t_porequest.fbiztype,
        	t_porequest.ftrantype,
        	t_porequest.fmrp,
        	t_porequest.fmrpautoclosed,
        	t_porequest.fmrpclosed,
        	t_porequest.fchildren,
        	t_porequest.fgeneratepurbudqty,
        	t_porequest.checkstatus,
        	t_porequest.checkdesc,
        	t_porequest.createrName,
        	t_porequest.addStatus,
        	t_porequest.sourceCode,
        	t_porequest.sourceId,
        	
        	t_porequest.closeuserId,
			t_porequest.closeuserName,
			t_porequest.closetime,
			t_porequest.pushuserId,
			t_porequest.pushuserName,
			t_porequest.pushtime
        	
        	
	    ]]>
	</sql>
	
   <insert id="Porequest.insert" >
        INSERT INTO
        t_porequest (
        	fbillerid ,
        	fbillno ,
        	createdate ,
        	checkdate ,
        	fclosed ,
        	fstatus ,
        	fsource ,
        	fdeptid ,
        	checkid ,
        	bomPushid ,
        	<isNotNull prepend="," property="fcomment">fcomment</isNotNull>
        	<isNotNull prepend="," property="fheadselfp0128">fheadselfp0128</isNotNull>
        	<isNotNull prepend="," property="fbiztype">fbiztype</isNotNull>
        	<isNotNull prepend="," property="ftrantype">ftrantype</isNotNull>
        	<isNotNull prepend="," property="fmrp">fmrp</isNotNull>
        	<isNotNull prepend="," property="fmrpautoclosed">fmrpautoclosed</isNotNull>
        	<isNotNull prepend="," property="fmrpclosed">fmrpclosed</isNotNull>
        	<isNotNull prepend="," property="fchildren">fchildren</isNotNull>
        	<isNotNull prepend="," property="fgeneratepurbudqty">fgeneratepurbudqty</isNotNull>
        	<isNotNull prepend="," property="checkstatus">checkstatus</isNotNull>
        	<isNotNull prepend="," property="checkdesc">checkdesc</isNotNull>
        	
        	<isNotNull prepend="," property="createrName">createrName</isNotNull>
        	<isNotNull prepend="," property="addStatus">addStatus</isNotNull>
        	<isNotNull prepend="," property="sourceCode">sourceCode</isNotNull>
        	<isNotNull prepend="," property="sourceId">sourceId</isNotNull>
        	
        	<isNotNull prepend="," property="closeuserId">closeuserId</isNotNull>
        	<isNotNull prepend="," property="closeuserName">closeuserName</isNotNull>
        	<isNotNull prepend="," property="closetime">closetime</isNotNull>
        	<isNotNull prepend="," property="pushuserId">pushuserId</isNotNull>
        	<isNotNull prepend="," property="pushuserName">pushuserName</isNotNull>
        	<isNotNull prepend="," property="pushtime">pushtime</isNotNull>
        	
        ) VALUES (
        	#fbillerid# ,
        	#fbillno# ,
        	#createdate# ,
        	#checkdate# ,
        	#fclosed# ,
        	#fstatus# ,
        	#fsource# ,
        	#fdeptid# ,
        	#checkid# ,
        	#bomPushid#,
        	<isNotNull prepend="," property="fcomment">#fcomment#</isNotNull>
        	<isNotNull prepend="," property="fheadselfp0128">#fheadselfp0128#</isNotNull>
        	<isNotNull prepend="," property="fbiztype">#fbiztyp#</isNotNull>
        	<isNotNull prepend="," property="ftrantype">#ftrantype#</isNotNull>
        	<isNotNull prepend="," property="fmrp">#fmrp#</isNotNull>
        	<isNotNull prepend="," property="fmrpautoclosed">#fmrpautoclosed#</isNotNull>
        	<isNotNull prepend="," property="fmrpclosed">#fmrpclosed#</isNotNull>
        	<isNotNull prepend="," property="fchildren">#fchildren#</isNotNull>
        	<isNotNull prepend="," property="fgeneratepurbudqty">#fgeneratepurbudqty#</isNotNull>
        	<isNotNull prepend="," property="checkstatus">#checkstatus#</isNotNull>
        	<isNotNull prepend="," property="checkdesc">#checkdesc#</isNotNull>
        	
        	<isNotNull prepend="," property="createrName">#createrName#</isNotNull>
        	<isNotNull prepend="," property="addStatus">#addStatus#</isNotNull>
        	<isNotNull prepend="," property="sourceCode">#sourceCode#</isNotNull>
        	<isNotNull prepend="," property="sourceId">#sourceId#</isNotNull>
        	
        	<isNotNull prepend="," property="closeuserId">#closeuserId#</isNotNull>
        	<isNotNull prepend="," property="closeuserName">#closeuserName#</isNotNull>
        	<isNotNull prepend="," property="closetime">#closetime#</isNotNull>
        	<isNotNull prepend="," property="pushuserId">#pushuserId#</isNotNull>
        	<isNotNull prepend="," property="pushuserName">#pushuserName#</isNotNull>
        	<isNotNull prepend="," property="pushtime">#pushtime#</isNotNull>
        )
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="finterid" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>
    
    
    <insert id="Porequest.insert.PQ" ><!--  -->
        INSERT INTO
        t_porequest (
        fsource
        <dynamic prepend="">
	        <isNotEmpty prepend="," property="fbillerid">
	        	fbillerid
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fbillno">
	        	fbillno 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createdate">
	        	createdate
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkdate">
	        	checkdate
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fclosed">
	        	fclosed
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fstatus">
	        	fstatus
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdeptid">
	        	fdeptid
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkid">
	        	checkid
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bomPushid">
	        	bomPushid
	        </isNotEmpty>
	          <isNotNull prepend="," property="fcomment">
	        	fcomment
	        </isNotNull>
	          <isNotEmpty prepend="," property="icmofbillno">
	        	icmofbillno
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="rejectedwhy">
	        	rejectedwhy
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="frequesterid">
	        	frequesterid
	        </isNotEmpty>
        	<isNotEmpty prepend="," property="fnote">
	        	fnote
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fseltrantype">
	        	fseltrantype
	        </isNotEmpty>
	        
	        <isNotNull prepend="," property="fheadselfp0128">
	        	fheadselfp0128
	        </isNotNull>
	        <isNotNull prepend="," property="fbiztype">
	        	fbiztype
	        </isNotNull>
	        <isNotNull prepend="," property="ftrantype">
	        	ftrantype
	        </isNotNull>
	        <isNotNull prepend="," property="fmrp">
	        	fmrp
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpautoclosed">
	        	fmrpautoclosed
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpclosed">
	        	fmrpclosed
	        </isNotNull>
	        <isNotNull prepend="," property="fchildren">
	        	fchildren
	        </isNotNull>
	        <isNotNull prepend="," property="fgeneratepurbudqty">
	        	fgeneratepurbudqty
	        </isNotNull>
	        
	        <isNotNull prepend="," property="checkstatus">
	        	checkstatus
	        </isNotNull>
	        <isNotNull prepend="," property="checkdesc">
	        	checkdesc
	        </isNotNull>
	        
	        <isNotNull prepend="," property="createrName">
	        	createrName
	        </isNotNull>
	        <isNotNull prepend="," property="addStatus">
	        	addStatus
	        </isNotNull>
	        <isNotNull prepend="," property="sourceCode">
	        	sourceCode
	        </isNotNull>
	        <isNotNull prepend="," property="sourceId">
	        	sourceId
	        </isNotNull>
	        
	        <isNotEmpty prepend="," property="closeuserId">
	        	closeuserId=#closeuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closeuserName">
	        	closeuserName=#closeuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closetime">
	        	closetime=#closetime#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserId">
	        	pushuserId=#pushuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserName">
	        	pushuserName=#pushuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushtime">
	        	pushtime=#pushtime#
	        </isNotEmpty>
	    </dynamic>
        ) VALUES (
         #fsource#
        <dynamic prepend="">
	        <isNotEmpty prepend="," property="fbillerid">
	        	#fbillerid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fbillno">
	        	#fbillno#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createdate">
	        	#createdate#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkdate">
	        	#checkdate#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fclosed">
	        	#fclosed#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fstatus">
	        	#fstatus#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdeptid">
	        	#fdeptid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkid">
	        	#checkid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bomPushid">
	        	#bomPushid#
	        </isNotEmpty>
	         <isNotNull prepend="," property="fcomment">
	        	#fcomment#
	        </isNotNull>
	         <isNotEmpty prepend="," property="icmofbillno">
	        	#icmofbillno#
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="rejectedwhy">
	        	#rejectedwhy#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="frequesterid">
	        	#frequesterid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fnote">
	        	#fnote#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fseltrantype">
	        	#fseltrantype#
	        </isNotEmpty>
	        <isNotNull prepend="," property="fheadselfp0128">
	        	#fheadselfp0128#
	        </isNotNull>
	        <isNotNull prepend="," property="fbiztype">
	        	#fbiztype#
	        </isNotNull>
	        <isNotNull prepend="," property="ftrantype">
	        	#ftrantype#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrp">
	        	#fmrp#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpautoclosed">
	        	#fmrpautoclosed#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpclosed">
	        	#fmrpclosed#
	        </isNotNull>
	        <isNotNull prepend="," property="fchildren">
	        	#fchildren#
	        </isNotNull>
	        <isNotNull prepend="," property="fgeneratepurbudqty">
	        	#fgeneratepurbudqty#
	        </isNotNull>
	        
	        <isNotNull prepend="," property="checkstatus">
	        	#checkstatus#
	        </isNotNull>
	        <isNotNull prepend="," property="checkdesc">
	        	#checkdesc#
	        </isNotNull>
	        
	        <isNotNull prepend="," property="createrName">
	        	#createrName#
	        </isNotNull>
	        <isNotNull prepend="," property="addStatus">
	        	#addStatus#
	        </isNotNull>
	        <isNotNull prepend="," property="sourceCode">
	        	#sourceCode#
	        </isNotNull>
	        <isNotNull prepend="," property="sourceId">
	        	#sourceId#
	        </isNotNull>
	        
	        <isNotEmpty prepend="," property="closeuserId">
	        	closeuserId=#closeuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closeuserName">
	        	closeuserName=#closeuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closetime">
	        	closetime=#closetime#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserId">
	        	pushuserId=#pushuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserName">
	        	pushuserName=#pushuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushtime">
	        	pushtime=#pushtime#
	        </isNotEmpty>
	    </dynamic>
        )
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="finterid" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>
    

	<update id="Porequest.update" parameterClass="com.terrence.crm.dol.bean.Porequest">         
        UPDATE t_porequest 
        <dynamic prepend="SET">
	        <isNotEmpty prepend="," property="fbillerid">
	        	fbillerid = #fbillerid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fbillno">
	        	fbillno = #fbillno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createdate">
	        	createdate = #createdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkdate">
	        	checkdate = #checkdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fclosed">
	        	fclosed = #fclosed# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fstatus">
	        	fstatus = #fstatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsource">
	        	fsource = #fsource# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdeptid">
	        	fdeptid = #fdeptid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkid">
	        	checkid = #checkid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bomPushid">
	        	bomPushid = #bomPushid# 
	        </isNotEmpty>
	        <isNotNull prepend="," property="fcomment">
	        	fcomment = #fcomment#
	        </isNotNull>
	         <isNotEmpty prepend="," property="rejectedwhy">
	        	rejectedwhy = #rejectedwhy# 
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="frequesterid">
	        	frequesterid = #frequesterid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fnote">
	        	fnote = #fnote#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fseltrantype">
	        	fseltrantype = #fseltrantype#
	        </isNotEmpty>
	        
	        <isNotNull prepend="," property="fheadselfp0128">
	        	fheadselfp0128 =#fheadselfp0128#
	        </isNotNull>
	        <isNotNull prepend="," property="fbiztype">
	        	fbiztype = #fbiztype#
	        </isNotNull>
	        <isNotNull prepend="," property="ftrantype">
	        	ftrantype = #ftrantype#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrp">
	        	fmrp = #fmrp#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpautoclosed">
	        	fmrpautoclosed = #fmrpautoclosed#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpclosed">
	        	fmrpclosed = #fmrpclosed#
	        </isNotNull>
	        <isNotNull prepend="," property="fchildren">
	        	fchildren = #fchildren#
	        </isNotNull>
	        <isNotNull prepend="," property="fgeneratepurbudqty">
	        	fgeneratepurbudqty = #fgeneratepurbudqty#
	        </isNotNull>
	       
	        <isNotNull prepend="," property="checkstatus">
	        	checkstatus = #checkstatus#
	        </isNotNull>
	        <isNotNull prepend="," property="checkdesc">
	        	checkdesc = #checkdesc#
	        </isNotNull>
	        
	        <isNull prepend="," property="checkstatus">
	        	checkstatus = null 
	        </isNull>
	        <isNull prepend="," property="checkdesc">
	        	checkdesc = null
	        </isNull>
	        
	        <isNotNull prepend="," property="createrName">
	        	createrName=#createrName#
	        </isNotNull>
	        <isNotNull prepend="," property="addStatus">
	        	addStatus=#addStatus#
	        </isNotNull>
	        <isNotNull prepend="," property="sourceCode">
	        	sourceCode=#sourceCode#
	        </isNotNull>
	        <isNotNull prepend="," property="sourceId">
	        	sourceId=#sourceId#
	        </isNotNull>
	        
	        <isNotEmpty prepend="," property="closeuserId">
	        	closeuserId=#closeuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closeuserName">
	        	closeuserName=#closeuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closetime">
	        	closetime=#closetime#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserId">
	        	pushuserId=#pushuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserName">
	        	pushuserName=#pushuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushtime">
	        	pushtime=#pushtime#
	        </isNotEmpty>
	    </dynamic>
        WHERE 
	        finterid = #finterid# 
    </update>
    
    
    <update id="Porequest.update.forAudit" parameterClass="com.terrence.crm.dol.bean.Porequest">   <!-- 审核状态修改 -->      
        UPDATE t_porequest 

        <dynamic prepend="set">
	        <isNotEmpty prepend="," property="fbillerid">
	        	fbillerid = #fbillerid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fbillno">
	        	fbillno = #fbillno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createdate">
	        	createdate = #createdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkdate">
	        	checkdate = #checkdate#
	        </isNotEmpty>
	        <isNull prepend="," property="checkdate">
	        	checkdate = null
	        </isNull>
	        <isNotEmpty prepend="," property="fclosed">
	        	fclosed = #fclosed# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fstatus">
	        	fstatus = #fstatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsource">
	        	fsource = #fsource# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdeptid">
	        	fdeptid = #fdeptid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkid">
	        	checkid = #checkid# 
	        </isNotEmpty>
	        <isNull prepend="," property="checkid">
	        	checkid = null
	        </isNull>
	        <isNotEmpty prepend="," property="bomPushid">
	        	bomPushid = #bomPushid# 
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="rejectedwhy">
	        	rejectedwhy = #rejectedwhy# 
	        </isNotEmpty>
	         <isNull prepend="," property="rejectedwhy">
	        	rejectedwhy = null 
	        </isNull>
	        <isNotEmpty prepend="," property="frequesterid">
	        	frequesterid = #frequesterid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fnote">
	        	fnote = #fnote#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fseltrantype">
	        	fseltrantype = #fseltrantype#
	        </isNotEmpty>
	        
	        <isNotNull prepend="," property="fheadselfp0128">
	        	fheadselfp0128 =#fheadselfp0128#
	        </isNotNull>
	        <isNotNull prepend="," property="fbiztype">
	        	fbiztype = #fbiztype#
	        </isNotNull>
	        <isNotNull prepend="," property="ftrantype">
	        	ftrantype = #ftrantype#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrp">
	        	fmrp = #fmrp#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpautoclosed">
	        	fmrpautoclosed = #fmrpautoclosed#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpclosed">
	        	fmrpclosed = #fmrpclosed#
	        </isNotNull>
	        <isNotNull prepend="," property="fchildren">
	        	fchildren = #fchildren#
	        </isNotNull>
	        <isNotNull prepend="," property="fgeneratepurbudqty">
	        	fgeneratepurbudqty = #fgeneratepurbudqty#
	        </isNotNull>
	         
	         <isNotNull prepend="," property="checkstatus">
	        	checkstatus = #checkstatus#
	        </isNotNull>
	        <isNotNull prepend="," property="checkdesc">
	        	checkdesc = #checkdesc#
	        </isNotNull>
	        <isNull prepend="," property="checkstatus">
	        	checkstatus = null
	        </isNull>
	        <isNull prepend="," property="checkdesc">
	        	checkdesc = null
	        </isNull>
	        
	        <isNotNull prepend="," property="createrName">
	        	createrName=#createrName#
	        </isNotNull>
	        <isNotNull prepend="," property="addStatus">
	        	addStatus=#addStatus#
	        </isNotNull>
	        <isNotNull prepend="," property="sourceCode">
	        	sourceCode=#sourceCode#
	        </isNotNull>
	        <isNotNull prepend="," property="sourceId">
	        	sourceId=#sourceId#
	        </isNotNull>
	        
	        <isNotEmpty prepend="," property="closeuserId">
	        	closeuserId=#closeuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closeuserName">
	        	closeuserName=#closeuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closetime">
	        	closetime=#closetime#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserId">
	        	pushuserId=#pushuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserName">
	        	pushuserName=#pushuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushtime">
	        	pushtime=#pushtime#
	        </isNotEmpty>
	    </dynamic>
        WHERE 
	        finterid in ($finterids$) 
    </update>
    
    
      <update id="Porequest.update.isclose" parameterClass="com.terrence.crm.dol.bean.Porequest">   <!-- 关闭状态修改 -->      
        UPDATE t_porequest 
        <dynamic prepend="SET">
	        <isNotEmpty prepend="," property="fbillerid">
	        	fbillerid = #fbillerid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fbillno">
	        	fbillno = #fbillno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createdate">
	        	createdate = #createdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkdate">
	        	checkdate = #checkdate#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fclosed">
	        	fclosed = #fclosed# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fstatus">
	        	fstatus = #fstatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsource">
	        	fsource = #fsource# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdeptid">
	        	fdeptid = #fdeptid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkid">
	        	checkid = #checkid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bomPushid">
	        	bomPushid = #bomPushid# 
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="rejectedwhy">
	        	rejectedwhy = #rejectedwhy# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="frequesterid">
	        	frequesterid = #frequesterid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fnote">
	        	fnote = #fnote#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fseltrantype">
	        	fseltrantype = #fseltrantype#
	        </isNotEmpty>
	        
	        <isNotNull prepend="," property="fheadselfp0128">
	        	fheadselfp0128 =#fheadselfp0128#
	        </isNotNull>
	        <isNotNull prepend="," property="fbiztype">
	        	fbiztype = #fbiztype#
	        </isNotNull>
	        <isNotNull prepend="," property="ftrantype">
	        	ftrantype = #ftrantype#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrp">
	        	fmrp = #fmrp#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpautoclosed">
	        	fmrpautoclosed = #fmrpautoclosed#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpclosed">
	        	fmrpclosed = #fmrpclosed#
	        </isNotNull>
	        <isNotNull prepend="," property="fchildren">
	        	fchildren = #fchildren#
	        </isNotNull>
	        <isNotNull prepend="," property="fgeneratepurbudqty">
	        	fgeneratepurbudqty = #fgeneratepurbudqty#
	        </isNotNull>
	        
	        <isNotNull prepend="," property="checkstatus">
	        	checkstatus = #checkstatus#
	        </isNotNull>
	        <isNotNull prepend="," property="checkdesc">
	        	checkdesc = #checkdesc#
	        </isNotNull>
	        
	        <isNotNull prepend="," property="createrName">
	        	createrName=#createrName#
	        </isNotNull>
	        <isNotNull prepend="," property="addStatus">
	        	addStatus=#addStatus#
	        </isNotNull>
	        <isNotNull prepend="," property="sourceCode">
	        	sourceCode=#sourceCode#
	        </isNotNull>
	        <isNotNull prepend="," property="sourceId">
	        	sourceId=#sourceId#
	        </isNotNull>
	        
	        <isNotEmpty prepend="," property="closeuserId">
	        	closeuserId=#closeuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closeuserName">
	        	closeuserName=#closeuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closetime">
	        	closetime=#closetime#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserId">
	        	pushuserId=#pushuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserName">
	        	pushuserName=#pushuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushtime">
	        	pushtime=#pushtime#
	        </isNotEmpty>
	    </dynamic>
        WHERE 
	        finterid  = #finterid#
    </update>
    
    
     <update id="update.Porequest.find.rejected" parameterClass="com.terrence.crm.dol.bean.Porequest">   <!-- 审核状态修改 -->      
        UPDATE t_porequest 
        <dynamic prepend="SET">
	        <isNotEmpty prepend="," property="fbillerid">
	        	fbillerid = #fbillerid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fbillno">
	        	fbillno = #fbillno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createdate">
	        	createdate = #createdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkdate">
	        	checkdate = #checkdate#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fclosed">
	        	fclosed = #fclosed# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fstatus">
	        	fstatus = #fstatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsource">
	        	fsource = #fsource# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdeptid">
	        	fdeptid = #fdeptid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkid">
	        	checkid = #checkid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bomPushid">
	        	bomPushid = #bomPushid# 
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="rejectedwhy">
	        	rejectedwhy = #rejectedwhy# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="frequesterid">
	        	frequesterid = #frequesterid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fnote">
	        	fnote = #fnote#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fseltrantype">
	        	fseltrantype = #fseltrantype#
	        </isNotEmpty>
	        
	        <isNotNull prepend="," property="fheadselfp0128">
	        	fheadselfp0128 =#fheadselfp0128#
	        </isNotNull>
	        <isNotNull prepend="," property="fbiztype">
	        	fbiztype = #fbiztype#
	        </isNotNull>
	        <isNotNull prepend="," property="ftrantype">
	        	ftrantype = #ftrantype#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrp">
	        	fmrp = #fmrp#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpautoclosed">
	        	fmrpautoclosed = #fmrpautoclosed#
	        </isNotNull>
	        <isNotNull prepend="," property="fmrpclosed">
	        	fmrpclosed = #fmrpclosed#
	        </isNotNull>
	        <isNotNull prepend="," property="fchildren">
	        	fchildren = #fchildren#
	        </isNotNull>
	        <isNotNull prepend="," property="fgeneratepurbudqty">
	        	fgeneratepurbudqty = #fgeneratepurbudqty#
	        </isNotNull>
	        
	        <isNotNull prepend="," property="checkstatus">
	        	checkstatus = #checkstatus#
	        </isNotNull>
	        <isNotNull prepend="," property="checkdesc">
	        	checkdesc = #checkdesc#
	        </isNotNull>
	        
	        <isNotNull prepend="," property="createrName">
	        	createrName=#createrName#
	        </isNotNull>
	        <isNotNull prepend="," property="addStatus">
	        	addStatus=#addStatus#
	        </isNotNull>
	        <isNotNull prepend="," property="sourceCode">
	        	sourceCode=#sourceCode#
	        </isNotNull>
	        <isNotNull prepend="," property="sourceId">
	        	sourceId=#sourceId#
	        </isNotNull>
	        
	        <isNotEmpty prepend="," property="closeuserId">
	        	closeuserId=#closeuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closeuserName">
	        	closeuserName=#closeuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="closetime">
	        	closetime=#closetime#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserId">
	        	pushuserId=#pushuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushuserName">
	        	pushuserName=#pushuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pushtime">
	        	pushtime=#pushtime#
	        </isNotEmpty>
	    </dynamic>
        WHERE 
	        finterid in ($finterids$) 
    </update>
    
    
     <update id="update.Porequest.at.delete.poorder" parameterClass="com.terrence.crm.dol.bean.Porequest">   <!-- 删除订单时修改状态 -->      
        UPDATE t_porequest 
        <dynamic prepend="SET">
	      
	        <isNotEmpty prepend="," property="fclosed">
	        	fclosed = #fclosed# 
	        </isNotEmpty>
	       	       
	    </dynamic>
        WHERE 
	      fbillno = #fbillno# 
    </update>
    
    
	<delete id="Porequest.delete" parameterClass="java.lang.Long">
    <![CDATA[
        delete from t_porequest where
       finterid = #finterid# 
    ]]>
    </delete>
    
    <delete id="Porequest.deleteMultiple">
    <![CDATA[
        DELETE FROM 
        	t_porequest 
        WHERE
       finterid in ($finterid$) 
    ]]>
    </delete>
    
     <delete id="Porequest.delete.Pid"><!-- 列表删除 -->
   
        DELETE FROM 
        	t_porequest 
        WHERE
       finterid in ($finterids$)
    </delete>
    
    <select id="Porequest.getById" resultMap="RM.Porequest">
	    select <include refid="Porequest.columns"/>
	    
	        from t_porequest 
	        where 
		        finterid = #finterid# 
	    
    </select>
    
	<select id="Porequest.getByProperty" resultMap="RM.Porequest">
		select <include refid="Porequest.columns"/> from t_porequest where $propertyName$=#propertyValue#
	</select>
	
	<sql id="Porequest.findPage.where">
	    <dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="finterid">
	             t_porequest.finterid = #finterid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fbillerid">
	             t_porequest.fbillerid = #fbillerid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fbillno">
	             t_porequest.fbillno = #fbillno#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="createdateBegin">
	             t_porequest.createdate &gt;= #createdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="createdateEnd">
	             t_porequest.createdate &lt;= #createdateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="checkdateBegin">
	             t_porequest.checkdate &gt;= #checkdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="checkdateEnd">
	             t_porequest.checkdate &lt;= #checkdateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fclosed">
	             t_porequest.fclosed = #fclosed#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fstatus">
	             t_porequest.fstatus = #fstatus#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fsource">
	             t_porequest.fsource = #fsource#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fdeptid">
	             t_porequest.fdeptid = #fdeptid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="checkid">
	             t_porequest.checkid = #checkid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="bomPushid">
	             t_porequest.bomPushid = #bomPushid#
	       </isNotEmpty>
	       
	       <isNotEmpty prepend="AND" property="icmofbillno">
	             t_porequest.icmofbillno = #icmofbillno#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="rejectedwhy">
	             t_porequest.rejectedwhy = #rejectedwhy#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="frequesterid">
	        	t_porequest.frequesterid = #frequesterid#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fnote">
	        	t_porequest.fnote = #fnote#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fseltrantype">
	        	t_porequest.fseltrantype = #fseltrantype#
	        </isNotEmpty>
	        
	        <isNotEmpty prepend="AND" property="fheadselfp0128">
	        	t_porequest.fheadselfp0128 =#fheadselfp0128#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fbiztype">
	        	t_porequest.fbiztype = #fbiztype#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="ftrantype">
	        	t_porequest.ftrantype = #ftrantype#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fmrp">
	        	t_porequest.fmrp = #fmrp#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fmrpautoclosed">
	        	t_porequest.fmrpautoclosed = #fmrpautoclosed#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fmrpclosed">
	        	t_porequest.fmrpclosed = #fmrpclosed#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fchildren">
	        	t_porequest.fchildren = #fchildren#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fgeneratepurbudqty">
	        	t_porequest.fgeneratepurbudqty = #fgeneratepurbudqty#
	        </isNotEmpty>
	        
	        <isNotEmpty prepend="AND" property="checkstatus">
	        	t_porequest.checkstatus = #checkstatus#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="checkdesc">
	        	t_porequest.checkdesc = #checkdesc#
	        </isNotEmpty>
	        
	        <isNotEmpty prepend="AND" property="createrName">
	        	t_porequest.createrName = #createrName#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="addStatus">
	        	t_porequest.addStatus = #addStatus#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="sourceCode">
	        	t_porequest.sourceCode = #sourceCode#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="sourceId">
	        	t_porequest.sourceId = #sourceId#
	        </isNotEmpty>
	        
	        <isNotEmpty prepend="AND" property="closeuserId">
	        	t_porequest.closeuserId = #closeuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="closeuserName">
	        	t_porequest.closeuserName = #closeuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="closetime">
	        	t_porequest.closetime = #closetime#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="pushuserId">
	        	t_porequest.pushuserId = #pushuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="pushuserName">
	        	t_porequest.pushuserName = #pushuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="pushtime">
	        	t_porequest.pushtime = #pushtime#
	        </isNotEmpty>
	    </dynamic>	
	</sql>
	 
    <sql id="Porequest.findPage.and">
			<isNotEmpty prepend="AND" property="finterid">
	             t_porequest.finterid = #finterid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fbillerid">
	             t_porequest.fbillerid = #fbillerid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fbillno">
	             t_porequest.fbillno = #fbillno#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="createdateBegin">
	             t_porequest.createdate &gt;= #createdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="createdateEnd">
	             t_porequest.createdate &lt;= #createdateEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="checkdateBegin">
	             t_porequest.checkdate &gt;= #checkdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="checkdateEnd">
	             t_porequest.checkdate &lt;= #checkdateEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fclosed">
	             t_porequest.fclosed = #fclosed#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fstatus">
	             t_porequest.fstatus = #fstatus#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fsource">
	             t_porequest.fsource = #fsource#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fdeptid">
	             t_porequest.fdeptid = #fdeptid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="checkid">
	             t_porequest.checkid = #checkid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="bomPushid">
	             t_porequest.bomPushid = #bomPushid#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="rejectedwhy">
	             t_porequest.rejectedwhy = #rejectedwhy#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="frequesterid">
	        	t_porequest.frequesterid = #frequesterid#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fnote">
	        	t_porequest.fnote = #fnote#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fseltrantype">
	        	t_porequest.fseltrantype = #fseltrantype#
	        </isNotEmpty>
	        
	        <isNotEmpty prepend="AND" property="fheadselfp0128">
	        	t_porequest.fheadselfp0128 =#fheadselfp0128#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fbiztype">
	        	t_porequest.fbiztype = #fbiztype#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="ftrantype">
	        	t_porequest.ftrantype = #ftrantype#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fmrp">
	        	t_porequest.fmrp = #fmrp#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fmrpautoclosed">
	        	t_porequest.fmrpautoclosed = #fmrpautoclosed#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fmrpclosed">
	        	t_porequest.fmrpclosed = #fmrpclosed#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fchildren">
	        	t_porequest.fchildren = #fchildren#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fgeneratepurbudqty">
	        	t_porequest.fgeneratepurbudqty = #fgeneratepurbudqty#
	        </isNotEmpty>
	        
	        <isNotEmpty prepend="AND" property="checkstatus">
	        	t_porequest.checkstatus = #checkstatus#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="checkdesc">
	        	t_porequest.checkdesc = #checkdesc#
	        </isNotEmpty>
	        
	        <isNotEmpty prepend="AND" property="createrName">
	        	t_porequest.createrName = #createrName#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="addStatus">
	        	t_porequest.addStatus = #addStatus#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="sourceCode">
	        	t_porequest.sourceCode = #sourceCode#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="sourceId">
	        	t_porequest.sourceId = #sourceId#
	        </isNotEmpty>
	        
	        <isNotEmpty prepend="AND" property="closeuserId">
	        	t_porequest.closeuserId = #closeuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="closeuserName">
	        	t_porequest.closeuserName = #closeuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="closetime">
	        	t_porequest.closetime = #closetime#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="pushuserId">
	        	t_porequest.pushuserId = #pushuserId#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="pushuserName">
	        	t_porequest.pushuserName = #pushuserName#
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="pushtime">
	        	t_porequest.pushtime = #pushtime#
	        </isNotEmpty>
	</sql>
	
	
	
    <select id="Porequest.Entity" resultMap="RM.Porequest">
    	SELECT 	<include refid="Porequest.columns"/> FROM t_porequest <include refid="Porequest.findPage.where"/>
    </select>
    
    <select id="Porequest.findList" resultMap="RM.Porequest">
    	SELECT 
    		<include refid="Porequest.columns"/> 
    	FROM 
    		t_porequest
		<include refid="Porequest.findPage.where"/>
		<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    
    <select id="Porequest.findPage.count" resultClass="long">
    <![CDATA[
        select 
        count(*)
        from t_porequest
    ]]>
		<include refid="Porequest.findPage.where"/>    
    </select>
    <!--
    	分页查询已经使用Dialect进行分页,也可以不使用Dialect直接编写分页
    	因为分页查询将传 #offset#,#pageSize#,#lastRows# 三个参数,不同的数据库可以根于此三个参数属性应用不同的分页实现
    -->
    <select id="Sql.Porequest.findPage" resultMap="RM.Porequest">
    	select <include refid="Porequest.columns"/>	    
	        from t_porequest 	   
		<include refid="Porequest.findPage.where"/>		
		<isNotEmpty property="sortColumns">ORDER BY $sortColumns$</isNotEmpty>
		
    </select>
    
	<select id="Porequest.findPage" resultMap="RM.Porequest.page">
    	select <include refid="Porequest.columns"/>,t_department.teamname,t_admin.adminName   
	        from t_porequest
	    left join t_department on  t_porequest.fdeptid  = t_department.teamid
	    left join t_admin on t_porequest.frequesterid = t_admin.adminId 
	     where 1=1
	   <isNotEmpty property="notTop">  and 
       finterid 
	   not in(select $notTop$ 
       finterid 
	   from t_porequest <include refid="Porequest.findPage.where"/>
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	   	</isNotEmpty>    
	   	<include refid="Porequest.findPage.and"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    
    
     
    
     <select id="Porequest.find.PQDetail" resultMap="RM.Porequest"><!-- 123 -->
	    select <include refid="Porequest.columns"/>
	    
	        from t_porequest 
	        where 
		        finterid = #finterid# 
	    
    </select>
    <select id="Porequest.find.List.auditlist" resultMap="RM.Porequest"><!-- 检查是否审核 -->
	    select <include refid="Porequest.columns"/>
	    
	        from t_porequest 
	        where  fstatus = 1 and  finterid in ($finterids$)
    </select>
    
    
    
     <select id="Porequest.find.tasks" resultMap="RM.Porequest.porequestentry.tasks.detail"><!-- 点击待办任务查看-->
	    select <include refid="Porequest.columns"/> ,t_admin.adminName ,ta.adminName taName 
	     from t_porequest 
	         left join t_admin on t_porequest.fbillerid = t_admin.adminId
	          left join t_admin ta on t_porequest.checkid = ta.adminId
	     
	        where 
		        fbillno = #fbillno# 
	    
    </select>
     <select id="Porequestentry.find.List.tasks" resultMap="RM.Porequestentry.tasks.listall"><!-- 申请单明细 -->
	    select t_porequestentry.inventoryid ,
        	t_porequestentry.poid ,
        	t_porequestentry.inventoryid ,
        	t_porequestentry.finterid ,
        	t_porequestentry.itemcode ,
        	t_porequestentry.itemname ,
        	t_porequestentry.itemmode ,
        	t_porequestentry.amount ,
        	t_porequestentry.createdate ,
        	t_porequestentry.startdate ,
        	t_porequestentry.rta ,
        	t_porequestentry.ata ,
        	t_porequestentry.status ,
        	t_porequestentry.issend ,
        	t_porequestentry.unitname ,
        	t_porequestentry.fbillno ,
        	t_porequestentry.bompushid ,
        	t_porequestentry.fmrpclosed ,
        	t_porequestentry.fcomment ,
        	t_porequestentry.ispush ,
        	t_porequestentry.supplyid ,
        	t_porequestentry.empid ,
        	t_porequestentry.deptid ,
        	t_porequestentry.f_101 ,
        	t_porequestentry.f_102  ,t_admin.adminName ,t_supplier.fname,t_department.teamname
	        from t_porequestentry 
	         left join t_admin  on t_porequestentry.empid = t_admin.adminId
	        left join t_supplier on t_porequestentry.supplyid = t_supplier.supplierid
	        left join t_department on  t_porequestentry.deptid  = t_department.teamid 
	        where   finterid in ($finterids$)
    </select>
    
     <select id="Porequest.findDetail" resultMap="RM.Porequest.FDetail">
	    select <include refid="Porequest.columns"/>,t_admin.adminName ,ta.adminName taName,t_department.teamname
	    
	        from t_porequest 
	         left join t_admin on t_porequest.fbillerid = t_admin.adminId
	          left join t_admin ta on t_porequest.checkid = ta.adminId
	          left join t_department on t_department.teamid=t_porequest.fdeptid
	        where 
		        finterid = #finterid# 
	    
    </select>
    
    <select id="Porequest.find.porequest.no" resultMap="RM.Porequest"><!-- 查询反审的单据编码 -->
	    select <include refid="Porequest.columns"/>
	    
	        from t_porequest
	        where 
		        finterid in ($finterids$) 
	    
    </select>
    
     <select id="Porequest.find.jected" resultMap="RM.Porequest"><!-- 查询-->
	    select <include refid="Porequest.columns"/>
	        from t_porequest
	        where 
		        finterid in ($finterids$) 
	    
    </select>
    
    <select id="Porequet.find.porequestEntity" resultMap="RM.Porequest"><!-- 查询-->
	    select <include refid="Porequest.columns"/>
	        from t_porequest
	        where 
		        fbillno = #fbillno# 
	    
    </select>
    
   <select id="Porequet.finddata.tongdata" resultMap="RM.Porequest.tongbu.find"><!-- 同步到k3数据库中的查询-->
	    select <include refid="Porequest.columns"/> ,t_admin.adminName ,ta.adminName taName,t_department.teamname,re.adminName frequesterName
	     from t_porequest 
	         left join t_admin on t_porequest.fbillerid = t_admin.adminId
	          left join t_admin ta on t_porequest.checkid = ta.adminId
	     		left join t_department on t_porequest.fdeptid=t_department.teamid
	     		left join t_admin re on t_porequest.frequesterid = re.adminId
	        where 
		         finterid in ($finterids$) 
	    
    </select>
  
</sqlMap>
