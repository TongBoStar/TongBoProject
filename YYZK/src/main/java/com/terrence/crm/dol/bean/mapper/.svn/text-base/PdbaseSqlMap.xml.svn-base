<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Pdbase">

        
	<resultMap id="RM.Pdbase" class="com.terrence.crm.dol.bean.Pdbase">
        <result property="pdbaseid" column="pdbaseid"/>
        <result property="fyear" column="fyear"/>
        <result property="salestypename" column="salestypename"/>
        <result property="adminId" column="adminId"/>
        <result property="flevel" column="flevel"/>
        <result property="minamount" column="minamount"/>
        <result property="maxamount" column="maxamount"/>
        <result property="poc" column="poc"/>
        <result property="rewards" column="rewards"/>
        <result property="overratio1" column="overratio1"/>
        <result property="overratio2" column="overratio2"/>
        <result property="overratio3" column="overratio3"/>
        <result property="backratio" column="backratio"/>
        <result property="blanckratio" column="blanckratio"/>
        <result property="remainratio" column="remainratio"/>
        <result property="createdate" column="createdate"/>
        <result property="provinceid" column="provinceid"/>
        <result property="pratio" column="pratio"/>
        <result property="pmanagerratio" column="pmanagerratio"/>
        <result property="createemp" column="createemp"/>
        <result property="prebonus" column="prebonus"/>
        <result property="fullbonus" column="fullbonus"/>
        <result property="frestrict" column="frestrict"/>
        <result property="pl3000" column="pl3000"/>
        <result property="pl4200" column="pl4200"/>
        <result property="ssv3500" column="ssv3500"/>
        <result property="pl2000" column="pl2000"/>
        
        <result property="pmsalesratio" column="pmsalesratio"/>
        <result property="companyratio" column="companyratio"/>
        <result property="kpis" column="kpis"/>
        <result property="fbase" column="fbase"/>
        <result property="bratio" column="bratio"/>
        <result property="allkpratio" column="allkpratio"/>
    </resultMap>
	
	  
	<resultMap id="RM.pdbase.list.update.data" class="com.terrence.crm.dol.bean.Pdbase">
        <result property="pdbaseid" column="pdbaseid"/>
        <result property="fyear" column="fyear"/>
        <result property="salestypename" column="salestypename"/>
        <result property="adminId" column="adminId"/>
        <result property="flevel" column="flevel"/>
        <result property="minamount" column="minamount"/>
        <result property="maxamount" column="maxamount"/>
        <result property="poc" column="poc"/>
        <result property="rewards" column="rewards"/>
        <result property="overratio1" column="overratio1"/>
        <result property="overratio2" column="overratio2"/>
        <result property="overratio3" column="overratio3"/>
        <result property="backratio" column="backratio"/>
        <result property="blanckratio" column="blanckratio"/>
        <result property="remainratio" column="remainratio"/>
        <result property="createdate" column="createdate"/>
        <result property="provinceid" column="provinceid"/>
        <result property="pratio" column="pratio"/>
        <result property="pmanagerratio" column="pmanagerratio"/>
        <result property="createemp" column="createemp"/>
        <result property="prebonus" column="prebonus"/>
        <result property="fullbonus" column="fullbonus"/>
        <result property="frestrict" column="frestrict"/>
        <result property="pl3000" column="pl3000"/>
        <result property="pl4200" column="pl4200"/>
        <result property="ssv3500" column="ssv3500"/>
        <result property="pl2000" column="pl2000"/>
        <result property="pmsalesratio" column="pmsalesratio"/>
        <result property="companyratio" column="companyratio"/>
          <result property="kpis" column="kpis"/>
        <result property="fbase" column="fbase"/>
        <result property="adminName" column="adminName"/>
        <result property="provincename" column="provincename"/>
        <result property="saleName" column="saleName"/>
        <result property="bratio" column="bratio"/>
        <result property="allkpratio" column="allkpratio"/>
    </resultMap>
    
    
    <resultMap id="RM.Pdbase.page.list.data" class="com.terrence.crm.dol.bean.Pdbase">
        <result property="pdbaseid" column="pdbaseid"/>
        <result property="fyear" column="fyear"/>
        <result property="salestypename" column="salestypename"/>
        <result property="adminId" column="adminId"/>
        <result property="flevel" column="flevel"/>
        <result property="minamount" column="minamount"/>
        <result property="maxamount" column="maxamount"/>
        <result property="poc" column="poc"/>
        <result property="rewards" column="rewards"/>
        <result property="overratio1" column="overratio1"/>
        <result property="overratio2" column="overratio2"/>
        <result property="overratio3" column="overratio3"/>
        <result property="backratio" column="backratio"/>
        <result property="blanckratio" column="blanckratio"/>
        <result property="remainratio" column="remainratio"/>
        <result property="createdate" column="createdate"/>
        <result property="provinceid" column="provinceid"/>
        <result property="pratio" column="pratio"/>
        <result property="pmanagerratio" column="pmanagerratio"/>
        <result property="createemp" column="createemp"/>
        <result property="prebonus" column="prebonus"/>
        <result property="fullbonus" column="fullbonus"/>
        <result property="frestrict" column="frestrict"/>
        <result property="pl3000" column="pl3000"/>
        <result property="pl4200" column="pl4200"/>
        <result property="ssv3500" column="ssv3500"/>
        <result property="pl2000" column="pl2000"/>
        <result property="pmsalesratio" column="pmsalesratio"/>
        <result property="companyratio" column="companyratio"/>
          <result property="kpis" column="kpis"/>
        <result property="fbase" column="fbase"/>
        <result property="adminName" column="adminName"/>
        <result property="provincename" column="provincename"/>
        <result property="saleName" column="saleName"/>
        <result property="bratio" column="bratio"/>
        <result property="allkpratio" column="allkpratio"/>
    </resultMap>
    
    
    
    <resultMap id="pdbase.rm.admin.team.duy.select" class="com.terrence.crm.dol.bean.Pdbase">
        <result property="pdbaseid" column="pdbaseid"/>
        <result property="fyear" column="fyear"/>
        <result property="salestypename" column="salestypename"/>
        <result property="adminId" column="adminId"/>
        <result property="flevel" column="flevel"/>
        <result property="minamount" column="minamount"/>
        <result property="maxamount" column="maxamount"/>
        <result property="poc" column="poc"/>
        <result property="rewards" column="rewards"/>
        <result property="overratio1" column="overratio1"/>
        <result property="overratio2" column="overratio2"/>
        <result property="overratio3" column="overratio3"/>
        <result property="backratio" column="backratio"/>
        <result property="blanckratio" column="blanckratio"/>
        <result property="remainratio" column="remainratio"/>
        <result property="createdate" column="createdate"/>
        <result property="provinceid" column="provinceid"/>
        <result property="pratio" column="pratio"/>
        <result property="pmanagerratio" column="pmanagerratio"/>
        <result property="createemp" column="createemp"/>
        <result property="prebonus" column="prebonus"/>
        <result property="fullbonus" column="fullbonus"/>
        <result property="frestrict" column="frestrict"/>
        <result property="pl3000" column="pl3000"/>
        <result property="pl4200" column="pl4200"/>
        <result property="ssv3500" column="ssv3500"/>
        <result property="pl2000" column="pl2000"/>
        <result property="pmsalesratio" column="pmsalesratio"/>
        <result property="companyratio" column="companyratio"/>
        <result property="kpis" column="kpis"/>
        <result property="fbase" column="fbase"/>
        <result property="adminName" column="adminName"/>
        <result property="dutyname" column="dutyname"/>
        <result property="teamid" column="teamid"/>
        <result property="fname" column="fname"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="bratio" column="bratio"/>
        <result property="allkpratio" column="allkpratio"/>
        <result property="teamlist" column='{teamid=teamid,fdeptid=fdeptid,fname=fname}' select="select.count.data.team.shuliang"/>
        
    </resultMap>
    
    <resultMap class="com.terrence.crm.dol.bean.Team" id="select.team.shu.data">
    	<result property="total" column="total"/>
    </resultMap>
	<!-- 用于select查询公用抽取的列 -->
	<sql id="Pdbase.columns">
	    <![CDATA[
        	t_pdbase.pdbaseid ,
        	t_pdbase.fyear ,
        	t_pdbase.salestypename ,
        	t_pdbase.adminId ,
        	t_pdbase.flevel ,
        	t_pdbase.minamount ,
        	t_pdbase.maxamount ,
        	t_pdbase.poc ,
        	t_pdbase.rewards ,
        	t_pdbase.overratio1 ,
        	t_pdbase.overratio2 ,
        	t_pdbase.overratio3 ,
        	t_pdbase.backratio ,
        	t_pdbase.blanckratio ,
        	t_pdbase.remainratio ,
        	t_pdbase.createdate ,
        	t_pdbase.provinceid ,
        	t_pdbase.pratio ,
        	t_pdbase.pmanagerratio ,
        	t_pdbase.createemp ,
        	t_pdbase.prebonus ,
        	t_pdbase.fullbonus ,
        	t_pdbase.frestrict ,
        	t_pdbase.pl3000 ,
        	t_pdbase.pl4200 ,
        	t_pdbase.ssv3500 ,
        	t_pdbase.pl2000 ,
        	t_pdbase.pmsalesratio,
        	t_pdbase.companyratio,
        	t_pdbase.kpis,
        	t_pdbase.fbase,
        	t_pdbase.bratio,
        	t_pdbase.allkpratio
	    ]]>
	</sql>
	
   <insert id="Pdbase.insert" >
        INSERT INTO
        t_pdbase (
        	fyear ,
        	salestypename ,
        	adminId ,
        	flevel ,
        	minamount ,
        	maxamount ,
        	poc ,
        	rewards ,
        	overratio1 ,
        	overratio2 ,
        	overratio3 ,
        	backratio ,
        	blanckratio ,
        	remainratio ,
        	createdate ,
        	provinceid ,
        	pratio ,
        	pmanagerratio ,
        	createemp ,
        	prebonus ,
        	fullbonus ,
        	frestrict ,
        	pmsalesratio,
        	companyratio,
        	fbase,
        	kpis,
        	allkpratio 
        	<dynamic prepend="">
       		<isNotEmpty prepend="," property="pl3000">pl3000</isNotEmpty>
       		<isNotEmpty prepend="," property="pl4200">pl4200</isNotEmpty>
       		<isNotEmpty prepend="," property="ssv3500">ssv3500</isNotEmpty>
       		<isNotEmpty prepend="," property="pl2000">pl2000</isNotEmpty>
       		<isNotEmpty prepend="," property="bratio">bratio</isNotEmpty>
       		
       		</dynamic>
        ) VALUES (
        	#fyear# ,
        	#salestypename# ,
        	#adminId# ,
        	#flevel# ,
        	#minamount# ,
        	#maxamount# ,
        	#poc# ,
        	#rewards# ,
        	#overratio1# ,
        	#overratio2# ,
        	#overratio3# ,
        	#backratio# ,
        	#blanckratio# ,
        	#remainratio# ,
        	#createdate# ,
        	#provinceid# ,
        	#pratio# ,
        	#pmanagerratio# ,
        	#createemp# ,
        	#prebonus# ,
        	#fullbonus# ,
        	#frestrict# ,
        	
        	#pmsalesratio#,
        	#companyratio#,
        	#fbase#,
        	#kpis#,
        	#allkpratio# 
        	<dynamic prepend="">
       		<isNotEmpty prepend="," property="pl3000">#pl3000#</isNotEmpty>
       		<isNotEmpty prepend="," property="pl4200">#pl4200#</isNotEmpty>
       		<isNotEmpty prepend="," property="ssv3500">#ssv3500#</isNotEmpty>
       		<isNotEmpty prepend="," property="pl2000">#pl2000#</isNotEmpty>
       		<isNotEmpty prepend="," property="bratio">#bratio#</isNotEmpty>

       		</dynamic>
        )
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="pdbaseid" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>

	<update id="Pdbase.update" parameterClass="com.terrence.crm.dol.bean.Pdbase">         
        UPDATE t_pdbase 
        <dynamic prepend="SET">
	        <isNotEmpty prepend="," property="fyear">
	        	fyear = #fyear# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="salestypename">
	        	salestypename = #salestypename# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="adminId">
	        	adminId = #adminId# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="flevel">
	        	flevel = #flevel# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="minamount">
	        	minamount = #minamount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="maxamount">
	        	maxamount = #maxamount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="poc">
	        	poc = #poc# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="rewards">
	        	rewards = #rewards# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="overratio1">
	        	overratio1 = #overratio1# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="overratio2">
	        	overratio2 = #overratio2# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="overratio3">
	        	overratio3 = #overratio3# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="backratio">
	        	backratio = #backratio# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="blanckratio">
	        	blanckratio = #blanckratio# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="remainratio">
	        	remainratio = #remainratio# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createdate">
	        	createdate = #createdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="provinceid">
	        	provinceid = #provinceid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pratio">
	        	pratio = #pratio# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pmanagerratio">
	        	pmanagerratio = #pmanagerratio# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createemp">
	        	createemp = #createemp# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="prebonus">
	        	prebonus = #prebonus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fullbonus">
	        	fullbonus = #fullbonus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="frestrict">
	        	frestrict = #frestrict# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pl3000">
	        	pl3000 = #pl3000# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pl4200">
	        	pl4200 = #pl4200# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ssv3500">
	        	ssv3500 = #ssv3500# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="pl2000">
	        	pl2000 = #pl2000# 
	        </isNotEmpty>
	        
	         <isNotEmpty prepend="," property="pmsalesratio">
	        	pmsalesratio = #pmsalesratio# 
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="companyratio">
	        	companyratio = #companyratio# 
	        </isNotEmpty>
	        
	         <isNotEmpty prepend="," property="kpis">
	        	kpis = #kpis# 
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="fbase">
	        	fbase = #fbase# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bratio">
	        	bratio = #bratio# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="allkpratio">
	        	allkpratio = #allkpratio# 
	        </isNotEmpty>
	    </dynamic>
        WHERE 
	        pdbaseid = #pdbaseid# 
    </update>
    
	<delete id="Pdbase.delete" parameterClass="java.lang.Long">
    <![CDATA[
        delete from t_pdbase where
       pdbaseid = #pdbaseid# 
    ]]>
    </delete>
    
    <delete id="Pdbase.deleteMultiple">
    <![CDATA[
        DELETE FROM 
        	t_pdbase 
        WHERE
       pdbaseid in ($pdbaseid$) 
    ]]>
    </delete>
    
    <select id="Pdbase.getById" resultMap="RM.Pdbase">
	    select <include refid="Pdbase.columns"/>
	    
	        from t_pdbase 
	        where 
		        pdbaseid = #pdbaseid# 
	    
    </select>
    
	<select id="Pdbase.getByProperty" resultMap="RM.Pdbase">
		select <include refid="Pdbase.columns"/> from t_pdbase where $propertyName$=#propertyValue#
	</select>
	
	<sql id="Pdbase.findPage.where">
	    <dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="pdbaseid">
	             t_pdbase.pdbaseid = #pdbaseid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fyear">
	             t_pdbase.fyear = #fyear#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="salestypename">
	             t_pdbase.salestypename like '%$salestypename$%'
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="adminId">
	             t_pdbase.adminId = #adminId#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="flevel">
	             t_pdbase.flevel = #flevel#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="minamount">
	             t_pdbase.minamount = #minamount#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="maxamount">
	             t_pdbase.maxamount = #maxamount#
	       </isNotEmpty>
	       
	       <isNotEmpty prepend="AND" property="fmoney">
	       		t_pdbase.maxamount &gt; #fmoney# and t_pdbase.minamount &lt;= #fmoney#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="poc">
	             t_pdbase.poc = #poc#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="rewards">
	             t_pdbase.rewards = #rewards#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="overratio1">
	             t_pdbase.overratio1 = #overratio1#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="overratio2">
	             t_pdbase.overratio2 = #overratio2#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="overratio3">
	             t_pdbase.overratio3 = #overratio3#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="backratio">
	             t_pdbase.backratio = #backratio#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="blanckratio">
	             t_pdbase.blanckratio = #blanckratio#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="remainratio">
	             t_pdbase.remainratio = #remainratio#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="createdateBegin">
	             t_pdbase.createdate &gt;= #createdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="createdateEnd">
	             t_pdbase.createdate &lt;= #createdateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="provinceid">
	             t_pdbase.provinceid = #provinceid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="pratio">
	             t_pdbase.pratio = #pratio#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="pmanagerratio">
	             t_pdbase.pmanagerratio = #pmanagerratio#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="createemp">
	             t_pdbase.createemp = #createemp#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="prebonus">
	             t_pdbase.prebonus = #prebonus#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fullbonus">
	             t_pdbase.fullbonus = #fullbonus#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="frestrict">
	             t_pdbase.frestrict = #frestrict#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="pl3000">
	             t_pdbase.pl3000 = #pl3000#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="pl4200">
	             t_pdbase.pl4200 = #pl4200#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="ssv3500">
	             t_pdbase.ssv3500 = #ssv3500#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="pl2000">
	             t_pdbase.pl2000 = #pl2000#
	       </isNotEmpty>
	         <isNotEmpty prepend="AND" property="pmsalesratio">
	        	t_pdbase.pmsalesratio = #pmsalesratio# 
	        </isNotEmpty>
	         <isNotEmpty prepend="AND" property="companyratio">
	        	t_pdbase.companyratio = #companyratio# 
	        </isNotEmpty>
	       <isNotEmpty prepend="AND" property="kpis">
	        	t_pdbase.kpis = #kpis# 
	        </isNotEmpty>
	         <isNotEmpty prepend="AND" property="fbase">
	        	t_pdbase.fbase = #fbase# 
	        </isNotEmpty>
	         <isNotEmpty prepend="AND" property="fbase">
	        	t_pdbase.bratio = #bratio# 
	        </isNotEmpty>
	    </dynamic>	
	</sql>
	 
    <sql id="Pdbase.findPage.and">
			<isNotEmpty prepend="AND" property="pdbaseid">
	             t_pdbase.pdbaseid = #pdbaseid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fyear">
	             t_pdbase.fyear = #fyear#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="salestypename">
	             t_pdbase.salestypename like '%$salestypename$%'
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="adminId">
	             t_pdbase.adminId = #adminId#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="flevel">
	             t_pdbase.flevel = #flevel#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="minamount">
	             t_pdbase.minamount = #minamount#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="maxamount">
	             t_pdbase.maxamount = #maxamount#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fmoney">
	       		t_pdbase.maxamount &gt; #fmoney# and t_pdbase.minamount &lt;= #fmoney#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="poc">
	             t_pdbase.poc = #poc#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="rewards">
	             t_pdbase.rewards = #rewards#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="overratio1">
	             t_pdbase.overratio1 = #overratio1#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="overratio2">
	             t_pdbase.overratio2 = #overratio2#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="overratio3">
	             t_pdbase.overratio3 = #overratio3#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="backratio">
	             t_pdbase.backratio = #backratio#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="blanckratio">
	             t_pdbase.blanckratio = #blanckratio#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="remainratio">
	             t_pdbase.remainratio = #remainratio#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="createdateBegin">
	             t_pdbase.createdate &gt;= #createdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="createdateEnd">
	             t_pdbase.createdate &lt;= #createdateEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="provinceid">
	             t_pdbase.provinceid = #provinceid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="pratio">
	             t_pdbase.pratio = #pratio#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="pmanagerratio">
	             t_pdbase.pmanagerratio = #pmanagerratio#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="createemp">
	             t_pdbase.createemp = #createemp#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="prebonus">
	             t_pdbase.prebonus = #prebonus#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fullbonus">
	             t_pdbase.fullbonus = #fullbonus#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="frestrict">
	             t_pdbase.frestrict = #frestrict#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="pl3000">
	             t_pdbase.pl3000 = #pl3000#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="pl4200">
	             t_pdbase.pl4200 = #pl4200#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="ssv3500">
	             t_pdbase.ssv3500 = #ssv3500#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="pl2000">
	             t_pdbase.pl2000 = #pl2000#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="pmsalesratio">
	        	t_pdbase.pmsalesratio = #pmsalesratio# 
	        </isNotEmpty>
	         <isNotEmpty prepend="AND" property="companyratio">
	        	t_pdbase.companyratio = #companyratio# 
	        </isNotEmpty>
	        <isNotEmpty prepend="AND" property="kpis">
	        	t_pdbase.kpis = #kpis# 
	        </isNotEmpty>
	         <isNotEmpty prepend="AND" property="fbase">
	        	t_pdbase.fbase = #fbase# 
	        </isNotEmpty> <isNotEmpty prepend="AND" property="fbase">
	        	t_pdbase.bratio = #bratio# 
	        </isNotEmpty>
	</sql>
	
    <select id="Pdbase.Entity" resultMap="RM.Pdbase">
    	SELECT 	<include refid="Pdbase.columns"/> FROM t_pdbase <include refid="Pdbase.findPage.where"/>
    </select>
    
    <select id="Pdbase.findList" resultMap="RM.Pdbase">
    	SELECT 
    		<include refid="Pdbase.columns"/> 
    	FROM 
    		t_pdbase
		<include refid="Pdbase.findPage.where"/>
		<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    
    <select id="Pdbase.findPage.count" resultClass="long">
    <![CDATA[
        select 
        count(*)
        from t_pdbase
    ]]>
		<include refid="Pdbase.findPage.where"/>    
    </select>
    <!--
    	分页查询已经使用Dialect进行分页,也可以不使用Dialect直接编写分页
    	因为分页查询将传 #offset#,#pageSize#,#lastRows# 三个参数,不同的数据库可以根于此三个参数属性应用不同的分页实现
    -->
    <select id="Sql.Pdbase.findPage" resultMap="RM.Pdbase">
    	select <include refid="Pdbase.columns"/>	    
	        from t_pdbase 	   
		<include refid="Pdbase.findPage.where"/>		
		<isNotEmpty property="sortColumns">ORDER BY $sortColumns$</isNotEmpty>
		
    </select>
    
	<select id="Pdbase.findPage" resultMap="RM.Pdbase">
    	select <include refid="Pdbase.columns"/>	    
	        from t_pdbase where 1=1 
	   <isNotEmpty property="notTop">  and 
       pdbaseid 
	   not in(select $notTop$ 
       pdbaseid 
	   from t_pdbase <include refid="Pdbase.findPage.where"/>
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	   	</isNotEmpty>    
	   	<include refid="Pdbase.findPage.and"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
	
		
    </select>
    
    
    
     <select id="Pdbase.find.page.data.list.count" resultClass="long">
    <![CDATA[
        select 
        count(*)
        from t_pdbase
        left join t_admin on t_pdbase.adminId = t_admin.adminId
   		left join t_salestype on t_pdbase.salestypename=t_salestype.fname
   		left join t_province on t_pdbase.provinceid = t_province.provinceid
    ]]>
		<include refid="Pdbase.findPage.where"/>    
    </select>
    <select id="Pdbase.find.page.data.list" resultMap="RM.Pdbase.page.list.data">
    	select <include refid="Pdbase.columns"/>,t_admin.adminName adminName,t_province.provincename provincename,t_salestype.fname saleName	    
	        from t_pdbase 
	        left join t_admin on t_pdbase.adminId = t_admin.adminId
    		left join t_salestype on t_pdbase.salestypename=t_salestype.fname
    		left join t_province on t_pdbase.provinceid = t_province.provinceid
	        where 1=1 
	   <isNotEmpty property="notTop">  and 
       pdbaseid 
	   not in(select $notTop$ 
       pdbaseid 
	   from t_pdbase 
	   left join t_admin on t_pdbase.adminId = t_admin.adminId
   		left join t_salestype on t_pdbase.salestypename=t_salestype.fname
   		left join t_province on t_pdbase.provinceid = t_province.provinceid
	   <include refid="Pdbase.findPage.where"/>
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	   	</isNotEmpty>    
	   	<include refid="Pdbase.findPage.and"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
	
		
    </select>
    
    
     <select id="Pdbase.find.entity.data" resultMap="RM.pdbase.list.update.data">
    	SELECT 
    		<include refid="Pdbase.columns"/> ,t_admin.adminName adminName,t_province.provincename provincename,t_salestype.fname saleName
    	FROM 
    		t_pdbase
    		left join t_admin on t_pdbase.adminId = t_admin.adminId
    		left join t_salestype on t_pdbase.salestypename=t_salestype.fname
    		left join t_province on t_pdbase.provinceid = t_province.provinceid
		<include refid="Pdbase.findPage.where"/>
		
    </select>
    
     <select id="Pdbase.find.JieSuan.table.data" resultMap="pdbase.rm.admin.team.duy.select">
    	SELECT 
    		<include refid="Pdbase.columns"/>,t_admin.adminName adminName,t_duty.dutyname dutyname,t_admin.teamid teamid,
    		t_team.fname fname,t_team.fdeptid fdeptid
    	FROM 
    		t_pdbase
    		 
    		 left join t_admin on t_pdbase.adminId = t_admin.adminId
			 left join t_team on t_admin.teamseq = t_team.teamseq
			 left join t_duty on t_admin.dutyid = t_duty.dutyid
			 
		<include refid="Pdbase.findPage.where"/>
		<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    
    <select id="select.count.data.team.shuliang" resultMap="select.team.shu.data">
    	select COUNT(*) total from t_team where fdeptid=#fdeptid# and fname = #fname# group by fdeptid,fname
    </select>
	
</sqlMap>
