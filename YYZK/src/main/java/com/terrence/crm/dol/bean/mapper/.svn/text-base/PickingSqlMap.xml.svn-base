<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Picking">

        
	<resultMap id="RM.Picking" class="com.terrence.crm.dol.bean.Picking">
        <result property="pickingid" column="pickingid"/>
        <result property="empid" column="empid"/>
        <result property="seqcode" column="seqcode"/>
        <result property="takedate" column="takedate"/>
        <result property="fbillno" column="fbillno"/>
        <result property="dispatchid" column="dispatchid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fsmanagerid" column="fsmanagerid"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fpurposeid" column="fpurposeid"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="fcheckerid" column="fcheckerid"/>
        <result property="fcheckdate" column="fcheckdate"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fupstockwhensave" column="fupstockwhensave"/>
        <result property="fseltrantype" column="fseltrantype"/>
        <result property="ffmanagerid" column="ffmanagerid"/>
        <result property="fdate" column="fdate"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="fqty" column="fqty"/>
        <result property="itemcode" column="itemcode"/>
        <result property="fsourcebillid" column="fsourcebillid"/>
        <result property="dbno" column="dbno"/>
        <result property="isreturn" column="isreturn"/>
        <result property="fstatusDesc" column="fstatusDesc"/>
    </resultMap>
    
    <resultMap id="RM.Picking.new" class="com.terrence.crm.dol.bean.Picking">
        <result property="pickingid" column="pickingid"/>
        <result property="empid" column="empid"/>
        <result property="seqcode" column="seqcode"/>
        <result property="takedate" column="takedate"/>
        <result property="fbillno" column="fbillno"/>
        <result property="dispatchid" column="dispatchid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fsmanagerid" column="fsmanagerid"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fpurposeid" column="fpurposeid"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="fcheckerid" column="fcheckerid"/>
        <result property="fcheckdate" column="fcheckdate"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fupstockwhensave" column="fupstockwhensave"/>
        <result property="fseltrantype" column="fseltrantype"/>
        <result property="ffmanagerid" column="ffmanagerid"/>
        <result property="fdate" column="fdate"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="fqty" column="fqty"/>
        <result property="itemcode" column="itemcode"/>
        <result property="fsourcebillid" column="fsourcebillid"/>
        <result property="dbno" column="dbno"/>
        <result property="iserp" column="iserp"/>
        <result property="notes" column="notes"/>
        <result property="isold" column="isold"/>
        <result property="isreturn" column="isreturn"/>     
        <result property="fstatusDesc" column="fstatusDesc"/>   
    </resultMap>
    
	<resultMap id="RM.Picking.Admin.Team" class="com.terrence.crm.dol.bean.Picking">
        <result property="pickingid" column="pickingid"/>
        <result property="empid" column="empid"/>
        <result property="seqcode" column="seqcode"/>
        <result property="takedate" column="takedate"/>
        <result property="fbillno" column="fbillno"/>
        <result property="dispatchid" column="dispatchid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fsmanagerid" column="fsmanagerid"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fpurposeid" column="fpurposeid"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="fcheckerid" column="fcheckerid"/>
        <result property="fcheckdate" column="fcheckdate"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fupstockwhensave" column="fupstockwhensave"/>
        <result property="fseltrantype" column="fseltrantype"/>
        <result property="ffmanagerid" column="ffmanagerid"/>
        <result property="fdate" column="fdate"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="fqty" column="fqty"/>
        <result property="itemcode" column="itemcode"/>
        <result property="fsourcebillid" column="fsourcebillid"/>
        <result property="dbno" column="dbno"/>
        <result property="admin" resultMap="RM.Picking.Admin"/>
        <result property="team" resultMap="RM.Picking.Team"/>
        <result property="pDetails" resultMap="RM.Picking.pDetails"/>
        <result property="baseItem" resultMap="RM.Picking.baseItem"/>
        <result property="isreturn" column="isreturn"/>
        <result property="fstatusDesc" column="fstatusDesc"/>
    </resultMap>
    <resultMap class="com.terrence.crm.dol.bean.BaseItem" id="RM.Picking.baseItem">
    	<result property="itemname" column="itemname"/>
    	<result property="formatno" column="formatno"/>
    </resultMap>
    <resultMap class="com.terrence.crm.dol.bean.PickingDetail" id="RM.Picking.pDetails">
    	<result property="itemcode" column="itemcode"/>
    </resultMap>
	<resultMap class="com.terrence.crm.dol.bean.Admin" id="RM.Picking.Admin">
		<result property="adminName" column="adminName"/>
	</resultMap>  
	<resultMap class="com.terrence.crm.dol.bean.Admin" id="RM.Picking.Emp">
		<result property="adminName" column="empName"/>
	</resultMap>
	<resultMap class="com.terrence.crm.dol.bean.Team" id="RM.Picking.Team">
		<result property="teamname" column="teamname"/>
	</resultMap>
	
	
	<resultMap id="RM.Picking.BaseItem.getById" class="com.terrence.crm.dol.bean.Picking">
        <result property="pickingid" column="pickingid"/>
        <result property="emp"  resultMap="RM.Picking.Emp"/>
        <result property="seqcode" column="seqcode"/>
        <result property="takedate" column="takedate"/>
        <result property="fbillno" column="fbillno"/>
        <result property="dispatchid" column="dispatchid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fsmanagerid" column="fsmanagerid"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fpurposeid" column="fpurposeid"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="fcheckerid" column="fcheckerid"/>
        <result property="admin" resultMap="RM.Picking.Admin"/>
        <result property="fcheckdate" column="fcheckdate"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fupstockwhensave" column="fupstockwhensave"/>
        <result property="fseltrantype" column="fseltrantype"/>
        <result property="ffmanagerid" column="ffmanagerid"/>
        <result property="fdate" column="fdate"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="fqty" column="fqty"/>
        <result property="itemcode" column="itemcode"/>
        <result property="fsourcebillid" column="fsourcebillid"/>
        <result property="dbno" column="dbno"/>
        <result property="baseItem" resultMap="RM.Picking.BaseItem.Entry"/>
        <result property="pDetails" column="pickingid" select="Picking.PickingEntry"/>
        
        <result property="checksignfpath" column="checksignfpath"/>
        <result property="empsignfpath" column="empsignfpath"/>
        
        <result property="notes" column="notes"/>
        <result property="isreturn" column="isreturn"/>
        
        <result property="teamname" column="teamname"/>
         <result property="fstatusDesc" column="fstatusDesc"/>
    </resultMap>
    
	
	
	
	
	<resultMap id="RM.Picking.BaseItem" class="com.terrence.crm.dol.bean.Picking">
        <result property="pickingid" column="pickingid"/>
        <result property="emp"  resultMap="RM.Picking.Emp"/>
        <result property="seqcode" column="seqcode"/>
        <result property="takedate" column="takedate"/>
        <result property="fbillno" column="fbillno"/>
        <result property="dispatchid" column="dispatchid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fsmanagerid" column="fsmanagerid"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fpurposeid" column="fpurposeid"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="fcheckerid" column="fcheckerid"/>
        <result property="admin" resultMap="RM.Picking.Admin"/>
        <result property="fcheckdate" column="fcheckdate"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fupstockwhensave" column="fupstockwhensave"/>
        <result property="fseltrantype" column="fseltrantype"/>
        <result property="ffmanagerid" column="ffmanagerid"/>
        <result property="fdate" column="fdate"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="fqty" column="fqty"/>
        <result property="itemcode" column="itemcode"/>
        <result property="fsourcebillid" column="fsourcebillid"/>
        <result property="dbno" column="dbno"/>
        <result property="baseItem" resultMap="RM.Picking.BaseItem.Entry"/>
        <result property="pDetails" column="pickingid" select="Picking.PickingEntry"/>
        
        <result property="isreturn" column="isreturn"/>
    </resultMap>
    <resultMap class="com.terrence.crm.dol.bean.BaseItem" id="RM.Picking.BaseItem.Entry">
    	<result property="itemname" column="itemname"/>
    	<result property="formatno" column="formatno"/>
    	<result property="unitname" column="unitname"/>
    	<result property="storage" column="storage"/>
    </resultMap>
    <resultMap class="com.terrence.crm.dol.bean.PickingDetail" id="RM.Picking.PickingEntry">
    	<result property="detailid" column="detailid"/>
    	<result property="itemcode" column="itemcode"/>
    	<result property="fqty" column="fqty"/>
    	<result property="batchno" column="batchno"/>
    	<result property="fentryid" column="fentryid"/>
    	<result property="freproducetype" column="freproducetype"/>
    	<result property="fsourcetrantype" column="fsourcetrantype"/>
    	<result property="dbno" column="dbno"/>
    	<result property="fscstockid" column="fscstockid"/>
    	<result property="baseItem" resultMap="RM.Picking.BaseItem.Entry"/>
    	<result property="fname" column="fname"/>
    	<result property="fqtylockout" column="fqtylockout"/>
    </resultMap>
    
    <resultMap class="com.terrence.crm.dol.bean.PickingDetail" id="RM.Picking.PickingEntry.issn">
    	<result property="detailid" column="detailid"/>
    	<result property="itemcode" column="itemcode"/>
    	<result property="fqty" column="fqty"/>
    	<result property="batchno" column="batchno"/>
    	<result property="fentryid" column="fentryid"/>
    	<result property="freproducetype" column="freproducetype"/>
    	<result property="fsourcetrantype" column="fsourcetrantype"/>
    	<result property="dbno" column="dbno"/>
    	<result property="fscstockid" column="fscstockid"/>
    	<result property="baseItem" resultMap="RM.Picking.BaseItem.Entry"/>
    	<result property="fname" column="fname"/>
    	<result property="issn" column="issn"/>
    	<result property="fqtylockout" column="fqtylockout"/>
    	<result property="icseriallist" column="{detailid=detailid,dbno=dbno,fscstockid=fscstockid,itemcode=itemcode}" select="Picking.find.icseriallist"/>
    	<result property="fdcstockname" column="fdcstockname"/>
    	
    </resultMap>
    
    <resultMap class="com.terrence.crm.dol.bean.Icserial" id="RM.Picking.find.icseriallist">
    	<result property="serialid" column="serialid"/>
    	<result property="fserialnum" column="fserialnum"/>
    </resultMap>
    
    
    <resultMap id="RM.Picking.BaseItem.Tools" class="com.terrence.crm.dol.bean.Picking">
        <result property="pickingid" column="pickingid"/>
        <result property="empid" column="empid"/>
        <result property="seqcode" column="seqcode"/>
        <result property="takedate" column="takedate"/>
        <result property="fbillno" column="fbillno"/>
        <result property="dispatchid" column="dispatchid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fsmanagerid" column="fsmanagerid"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fpurposeid" column="fpurposeid"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="fcheckerid" column="fcheckerid"/>
        <result property="admin" resultMap="RM.Picking.Admin"/>
        <result property="fcheckdate" column="fcheckdate"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fupstockwhensave" column="fupstockwhensave"/>
        <result property="fseltrantype" column="fseltrantype"/>
        <result property="ffmanagerid" column="ffmanagerid"/>
        <result property="fdate" column="fdate"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="fqty" column="fqty"/>
        <result property="itemcode" column="itemcode"/>
        <result property="fsourcebillid" column="fsourcebillid"/>
        <result property="dbno" column="dbno"/>
        <result property="pDetails" column="pickingid" select="Picking.PickingEntry.issn"/>
        <result property="emp"  resultMap="RM.Picking.Emp"/>

        <result property="checksignfpath" column="checksignfpath"/>
        <result property="empsignfpath" column="empsignfpath"/>
        <result property="team" resultMap="RM.Picking.BaseItem.Tools.team"/>
        
        <result property="notes" column="notes"/>
        
        <result property="isreturn" column="isreturn"/>
        <result property="teamname" column="teamname"/>
        <result property="fstatusDesc" column="fstatusDesc"/>
    </resultMap>
    
    <resultMap id="RM.Picking.BaseItem.Tools.team" class="com.terrence.crm.dol.bean.Team">
		<result property="teamname" column="teamname"/>
    </resultMap>
    
    <resultMap id="RM.Picking.Admin.Team.detail" class="com.terrence.crm.dol.bean.Picking">
        <result property="pickingid" column="pickingid"/>
        <result property="empid" column="empid"/>
        <result property="seqcode" column="seqcode"/>
        <result property="takedate" column="takedate"/>
        <result property="fbillno" column="fbillno"/>
        <result property="dispatchid" column="dispatchid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fsmanagerid" column="fsmanagerid"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fpurposeid" column="fpurposeid"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="fcheckerid" column="fcheckerid"/>
        <result property="fcheckdate" column="fcheckdate"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fupstockwhensave" column="fupstockwhensave"/>
        <result property="fseltrantype" column="fseltrantype"/>
        <result property="ffmanagerid" column="ffmanagerid"/>
        <result property="fdate" column="fdate"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="fqty" column="fqty"/>
        <result property="itemcode" column="itemcode"/>
        <result property="fsourcebillid" column="fsourcebillid"/>
        <result property="dbno" column="dbno"/>
        <result property="admin" resultMap="RM.Picking.Admin"/>
        <result property="team" resultMap="RM.Picking.Team"/>
        <result property="pDetails" column="pickingid" select="Picking.PickingDetail.team"/>
        
        <result property="baseItem" resultMap="RM.Picking.baseItem"/>
        <result property="empname" column="empname"/>
        <result property="notes" column="notes"/>
        <result property="isreturn" column="isreturn"/>
        <result property="fstatusDesc" column="fstatusDesc"/>
    </resultMap>
    
    
    <resultMap  id="RM.Picking.PickingDetail.team"  class="com.terrence.crm.dol.bean.PickingDetail">
    	<result property="itemcode" column="itemcode"/>
    	<result property="itemname" column="itemname"/>
    	<result property="itemmode" column="itemmode"/>
    </resultMap>
    
    
    <resultMap id="RM.Picking.select.returnStock" class="com.terrence.crm.dol.bean.Picking">
        <result property="pickingid" column="pickingid"/>
        <result property="empid" column="empid"/>
        <result property="seqcode" column="seqcode"/>
        <result property="takedate" column="takedate"/>
        <result property="fbillno" column="fbillno"/>
        <result property="dispatchid" column="dispatchid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fsmanagerid" column="fsmanagerid"/>
        <result property="ftrantype" column="ftrantype"/>
        <result property="fpurposeid" column="fpurposeid"/>
        <result property="fdeptid" column="fdeptid"/>
        <result property="fcheckerid" column="fcheckerid"/>
        <result property="fcheckdate" column="fcheckdate"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fupstockwhensave" column="fupstockwhensave"/>
        <result property="fseltrantype" column="fseltrantype"/>
        <result property="ffmanagerid" column="ffmanagerid"/>
        <result property="fdate" column="fdate"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="fqty" column="fqty"/>
        <result property="itemcode" column="itemcode"/>
        <result property="fsourcebillid" column="fsourcebillid"/>
        <result property="dbno" column="dbno"/>
         <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
        <result property="unitname" column="unitname"/>
        <result property="isreturn" column="isreturn"/>
        <result property="teamname" column="teamname"/>
    </resultMap>
    
    <resultMap id="RM.Picking.Callslip" class="com.terrence.crm.dol.bean.Picking">
        <result property="pickingid" column="pickingid"/>
        <result property="fbillno" column="fbillno"/>
        <result property="callslipcode" column="callslipcode"/>
    </resultMap>
    
    
    
    
    
	<!-- 用于select查询公用抽取的列 -->
	<sql id="Picking.columns">
	    <![CDATA[
        	t_picking.pickingid ,
        	t_picking.empid ,
        	t_picking.seqcode ,
        	t_picking.takedate ,
        	t_picking.fbillno ,
        	t_picking.dispatchid ,
        	t_picking.fbillerid ,
        	t_picking.fsmanagerid ,
        	t_picking.ftrantype ,
        	t_picking.fpurposeid ,
        	t_picking.fdeptid ,
        	t_picking.fcheckerid ,
        	t_picking.fcheckdate ,
        	t_picking.fstatus ,
        	t_picking.fupstockwhensave ,
        	t_picking.fseltrantype ,
        	t_picking.ffmanagerid ,
        	t_picking.fdate ,
        	t_picking.fsourcebillno,
        	t_picking.fqty,
        	t_picking.itemcode,
        	t_picking.fsourcebillid,
        	t_picking.dbno,
        	t_picking.isreturn,
        	t_picking.fstatusDesc
	    ]]>
	</sql>
	
   <insert id="Picking.insert" >
        INSERT INTO
        t_picking (
        	empid ,
        	seqcode ,
        	takedate 
        	<dynamic prepend="">
        		<isNotEmpty prepend="," property="fbillno"> fbillno</isNotEmpty>
        		<isNotEmpty prepend="," property="dispatchid"> dispatchid</isNotEmpty>
        		<isNotEmpty prepend="," property="fbillerid"> fbillerid</isNotEmpty>
        		<isNotEmpty prepend="," property="fsmanagerid"> fsmanagerid</isNotEmpty>
        		<isNotEmpty prepend="," property="ftrantype"> ftrantype</isNotEmpty>
        		<isNotEmpty prepend="," property="fpurposeid"> fpurposeid</isNotEmpty>
        		<isNotEmpty prepend="," property="fdeptid"> fdeptid</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckerid"> fcheckerid</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckdate"> fcheckdate</isNotEmpty>
        		<isNotEmpty prepend="," property="fstatus"> fstatus</isNotEmpty>
        		<isNotEmpty prepend="," property="fupstockwhensave"> fupstockwhensave</isNotEmpty>
        		<isNotEmpty prepend="," property="fseltrantype"> fseltrantype</isNotEmpty>
        		<isNotEmpty prepend="," property="ffmanagerid"> ffmanagerid</isNotEmpty>
        		<isNotEmpty prepend="," property="fdate"> fdate</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillno"> fsourcebillno</isNotEmpty>
        		<isNotEmpty prepend="," property="fqty"> fqty</isNotEmpty>
        		<isNotEmpty prepend="," property="itemcode"> itemcode</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillid">fsourcebillid</isNotEmpty>
        		<isNotEmpty prepend="," property="dbno">dbno</isNotEmpty>
        		<isNotEmpty prepend="," property="isreturn">isreturn</isNotEmpty>
        		<isNotEmpty prepend="," property="callslipcode">callslipcode</isNotEmpty>
			</dynamic>
        ) VALUES (
        	#empid# ,
        	#seqcode# ,
        	#takedate# 
        	<dynamic prepend="">
        		<isNotEmpty prepend="," property="fbillno"> #fbillno#</isNotEmpty>
        		<isNotEmpty prepend="," property="dispatchid"> #dispatchid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fbillerid"> #fbillerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fsmanagerid"> #fsmanagerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="ftrantype"> #ftrantype#</isNotEmpty>
        		<isNotEmpty prepend="," property="fpurposeid"> #fpurposeid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fdeptid"> #fdeptid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckerid"> #fcheckerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckdate"> #fcheckdate#</isNotEmpty>
        		<isNotEmpty prepend="," property="fstatus"> #fstatus#</isNotEmpty>
        		<isNotEmpty prepend="," property="fupstockwhensave"> #fupstockwhensave#</isNotEmpty>
        		<isNotEmpty prepend="," property="fseltrantype"> #fseltrantype#</isNotEmpty>
        		<isNotEmpty prepend="," property="ffmanagerid"> #ffmanagerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fdate"> #fdate#</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillno"> #fsourcebillno#</isNotEmpty>
        		<isNotEmpty prepend="," property="fqty"> #fqty#</isNotEmpty>
        		<isNotEmpty prepend="," property="itemcode"> #itemcode#</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillid">#fsourcebillid#</isNotEmpty>
        		<isNotEmpty prepend="," property="dbno">#dbno#</isNotEmpty>
        		<isNotEmpty prepend="," property="isreturn">#isreturn#</isNotEmpty>
        		<isNotEmpty prepend="," property="callslipcode">#callslipcode#</isNotEmpty>
			</dynamic>
        )
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="pickingid" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>

	
   <insert id="Picking.insert.jijia" >
        INSERT INTO
        t_picking (
        	empid 
        	<dynamic prepend="">
	        	<isNotEmpty prepend="," property="takedate"> takedate</isNotEmpty> 
	        	<isNotEmpty prepend="," property="seqcode"> seqcode</isNotEmpty> 
        		<isNotEmpty prepend="," property="fbillno"> fbillno</isNotEmpty>
        		<isNotEmpty prepend="," property="dispatchid"> dispatchid</isNotEmpty>
        		<isNotEmpty prepend="," property="fbillerid"> fbillerid</isNotEmpty>
        		<isNotEmpty prepend="," property="fsmanagerid"> fsmanagerid</isNotEmpty>
        		<isNotEmpty prepend="," property="ftrantype"> ftrantype</isNotEmpty>
        		<isNotEmpty prepend="," property="fpurposeid"> fpurposeid</isNotEmpty>
        		<isNotEmpty prepend="," property="fdeptid"> fdeptid</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckerid"> fcheckerid</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckdate"> fcheckdate</isNotEmpty>
        		<isNotEmpty prepend="," property="fstatus"> fstatus</isNotEmpty>
        		<isNotEmpty prepend="," property="fupstockwhensave"> fupstockwhensave</isNotEmpty>
        		<isNotEmpty prepend="," property="fseltrantype"> fseltrantype</isNotEmpty>
        		<isNotEmpty prepend="," property="ffmanagerid"> ffmanagerid</isNotEmpty>
        		<isNotEmpty prepend="," property="fdate"> fdate</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillno"> fsourcebillno</isNotEmpty>
        		<isNotEmpty prepend="," property="fqty"> fqty</isNotEmpty>
        		<isNotEmpty prepend="," property="itemcode"> itemcode</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillid">fsourcebillid</isNotEmpty>
        		<isNotEmpty prepend="," property="dbno">dbno</isNotEmpty>
        		<isNotEmpty prepend="," property="isreturn">isreturn</isNotEmpty>
			</dynamic>
        ) VALUES (
        	#empid# 
        	<dynamic prepend="">
        		<isNotEmpty prepend="," property="takedate"> #takedate#</isNotEmpty>
        		<isNotEmpty prepend="," property="seqcode"> #seqcode#</isNotEmpty>
        		<isNotEmpty prepend="," property="fbillno"> #fbillno#</isNotEmpty>
        		<isNotEmpty prepend="," property="dispatchid"> #dispatchid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fbillerid"> #fbillerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fsmanagerid"> #fsmanagerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="ftrantype"> #ftrantype#</isNotEmpty>
        		<isNotEmpty prepend="," property="fpurposeid"> #fpurposeid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fdeptid"> #fdeptid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckerid"> #fcheckerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckdate"> #fcheckdate#</isNotEmpty>
        		<isNotEmpty prepend="," property="fstatus"> #fstatus#</isNotEmpty>
        		<isNotEmpty prepend="," property="fupstockwhensave"> #fupstockwhensave#</isNotEmpty>
        		<isNotEmpty prepend="," property="fseltrantype"> #fseltrantype#</isNotEmpty>
        		<isNotEmpty prepend="," property="ffmanagerid"> #ffmanagerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fdate"> #fdate#</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillno"> #fsourcebillno#</isNotEmpty>
        		<isNotEmpty prepend="," property="fqty"> #fqty#</isNotEmpty>
        		<isNotEmpty prepend="," property="itemcode"> #itemcode#</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillid">#fsourcebillid#</isNotEmpty>
        		<isNotEmpty prepend="," property="dbno">#dbno#</isNotEmpty>
        		<isNotEmpty prepend="," property="isreturn">#isreturn#</isNotEmpty>
			</dynamic>
        )
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="pickingid" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>




   <insert id="Picking.insert.Tools" >
        INSERT INTO
        t_picking (
        	empid 
        	<dynamic prepend="">
        		<isNotEmpty prepend="," property="seqcode"> seqcode</isNotEmpty>
        		<isNotEmpty prepend="," property="takedate"> takedate</isNotEmpty>
        		<isNotEmpty prepend="," property="fbillno"> fbillno</isNotEmpty>
        		<isNotEmpty prepend="," property="dispatchid"> dispatchid</isNotEmpty>
        		<isNotEmpty prepend="," property="fbillerid"> fbillerid</isNotEmpty>
        		<isNotEmpty prepend="," property="fsmanagerid"> fsmanagerid</isNotEmpty>
        		<isNotEmpty prepend="," property="ftrantype"> ftrantype</isNotEmpty>
        		<isNotEmpty prepend="," property="fpurposeid"> fpurposeid</isNotEmpty>
        		<isNotEmpty prepend="," property="fdeptid"> fdeptid</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckerid"> fcheckerid</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckdate"> fcheckdate</isNotEmpty>
        		<isNotEmpty prepend="," property="fstatus"> fstatus</isNotEmpty>
        		<isNotEmpty prepend="," property="fupstockwhensave"> fupstockwhensave</isNotEmpty>
        		<isNotEmpty prepend="," property="fseltrantype"> fseltrantype</isNotEmpty>
        		<isNotEmpty prepend="," property="ffmanagerid"> ffmanagerid</isNotEmpty>
        		<isNotEmpty prepend="," property="fdate"> fdate</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillno"> fsourcebillno</isNotEmpty>
        		<isNotEmpty prepend="," property="fqty"> fqty</isNotEmpty>
        		<isNotEmpty prepend="," property="itemcode"> itemcode</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillid">fsourcebillid</isNotEmpty>
        		<isNotEmpty prepend="," property="dbno">dbno</isNotEmpty>
        		<isNotEmpty prepend="," property="iserp">iserp</isNotEmpty>
        		<isNotEmpty prepend="," property="notes">notes</isNotEmpty>
        		<isNotEmpty prepend="," property="freftype">freftype</isNotEmpty>
        		<isNotEmpty prepend="," property="isreturn">isreturn</isNotEmpty>
        		
			</dynamic>
        ) VALUES (
        	#empid# 
        	<dynamic prepend="">
        	
        		<isNotEmpty prepend="," property="seqcode"> #seqcode#</isNotEmpty>
        		<isNotEmpty prepend="," property="takedate"> #takedate#</isNotEmpty>
        		<isNotEmpty prepend="," property="fbillno"> #fbillno#</isNotEmpty>
        		<isNotEmpty prepend="," property="dispatchid"> #dispatchid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fbillerid"> #fbillerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fsmanagerid"> #fsmanagerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="ftrantype"> #ftrantype#</isNotEmpty>
        		<isNotEmpty prepend="," property="fpurposeid"> #fpurposeid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fdeptid"> #fdeptid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckerid"> #fcheckerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fcheckdate"> #fcheckdate#</isNotEmpty>
        		<isNotEmpty prepend="," property="fstatus"> #fstatus#</isNotEmpty>
        		<isNotEmpty prepend="," property="fupstockwhensave"> #fupstockwhensave#</isNotEmpty>
        		<isNotEmpty prepend="," property="fseltrantype"> #fseltrantype#</isNotEmpty>
        		<isNotEmpty prepend="," property="ffmanagerid"> #ffmanagerid#</isNotEmpty>
        		<isNotEmpty prepend="," property="fdate"> #fdate#</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillno"> #fsourcebillno#</isNotEmpty>
        		<isNotEmpty prepend="," property="fqty"> #fqty#</isNotEmpty>
        		<isNotEmpty prepend="," property="itemcode"> #itemcode#</isNotEmpty>
        		<isNotEmpty prepend="," property="fsourcebillid">#fsourcebillid#</isNotEmpty>
        		<isNotEmpty prepend="," property="dbno">#dbno#</isNotEmpty>
        		<isNotEmpty prepend="," property="iserp">#iserp#</isNotEmpty>
        		<isNotEmpty prepend="," property="notes">#notes#</isNotEmpty>
        		<isNotEmpty prepend="," property="freftype">#freftype#</isNotEmpty>
        		<isNotEmpty prepend="," property="isreturn">#isreturn#</isNotEmpty>
        		
			</dynamic>
        )
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="pickingid" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>


	<update id="Picking.update" parameterClass="com.terrence.crm.dol.bean.Picking">         
        UPDATE t_picking 
        <dynamic prepend="SET">
	        <isNotEmpty prepend="," property="empid">
	        	empid = #empid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="seqcode">
	        	seqcode = #seqcode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="takedate">
	        	takedate = #takedate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fbillno">
	        	fbillno = #fbillno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="dispatchid">
	        	dispatchid = #dispatchid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fbillerid">
	        	fbillerid = #fbillerid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsmanagerid">
	        	fsmanagerid = #fsmanagerid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftrantype">
	        	ftrantype = #ftrantype# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fpurposeid">
	        	fpurposeid = #fpurposeid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdeptid">
	        	fdeptid = #fdeptid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcheckerid">
	        	fcheckerid = #fcheckerid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcheckdate">
	        	fcheckdate = #fcheckdate# 
	        </isNotEmpty>
	        <isNull prepend="," property="fcheckerid">
	        	fcheckerid = null
	        </isNull>
	        <isNull prepend="," property="fcheckdate">
	        	fcheckdate = null
	        </isNull>
	        <isNotEmpty prepend="," property="fstatus">
	        	fstatus = #fstatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fupstockwhensave">
	        	fupstockwhensave = #fupstockwhensave# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fseltrantype">
	        	fseltrantype = #fseltrantype# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ffmanagerid">
	        	ffmanagerid = #ffmanagerid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdate">
	        	fdate = #fdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fstatusDesc">
	        	fstatusDesc = #fstatusDesc# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsourcebillno">fsourcebillno=#fsourcebillno#</isNotEmpty>
        		<isNotEmpty prepend="," property="fqty"> fqty=#fqty#</isNotEmpty>
        		<isNotEmpty prepend="," property="itemcode"> itemcode=#itemcode#</isNotEmpty>
        	<isNotEmpty prepend="," property="fsourcebillid">fsourcebillid=#fsourcebillid#</isNotEmpty>
        	<isNotEmpty prepend="," property="dbno">dbno=#dbno#</isNotEmpty>
        	<isNotEmpty prepend="," property="isreturn">isreturn=#isreturn#</isNotEmpty>
	    </dynamic>
        WHERE 
	        pickingid = #pickingid# 
    </update>
    
	<delete id="Picking.delete" parameterClass="java.lang.Long">
    <![CDATA[
        delete from t_picking where
       pickingid = #pickingid# 
    ]]>
    </delete>
    
    <delete id="Picking.deleteMultiple">
    <![CDATA[
        DELETE FROM 
        	t_picking 
        WHERE
       pickingid in ($pickingid$) 
    ]]>
    </delete>
    
    <delete id="Picking.delete.ByFsourcebillno">
    
        DELETE FROM 
        	t_picking
        WHERE
       fsourcebillno =#fsourcebillno# 
    
    </delete>
    
    
    
    <select id="Picking.getById" resultMap="RM.Picking.BaseItem.getById">
	    select <include refid="Picking.columns"/>,t_department.teamname,t_picking.notes,t_emp.adminname empname,t_emp.adminname,t_base_item.itemname
	    ,t_base_item.formatno,t_base_item.unitname,t_base_item.storage
	    ,t_emp.signfpath checksignfpath,t_emp.signfpath empsignfpath
	        from t_picking 
	        left join t_admin t_emp  on t_picking.empid=t_emp.adminid
	        left join t_department
          on t_department.teamid=t_picking.fdeptid
	        ,t_base_item 
	        where t_picking.itemcode=t_base_item.itemcode and pickingid = #pickingid# 
	    
    </select>
   <select id="Picking.getOnlyById" resultMap="RM.Picking">
	    select <include refid="Picking.columns"/> from t_picking where pickingid = #pickingid# 
    </select>
   <select id="Picking.getByIdTools" resultMap="RM.Picking.BaseItem.Tools">
	    select t_department.teamname,<include refid="Picking.columns"/>,t_picking.notes,t_admin.adminname,t_emp.adminname empname
	    ,t_admin.signfpath checksignfpath,t_emp.signfpath empsignfpath ,t_teams.teamname 
	        from t_picking 
		        left join t_admin on
		         t_picking.fcheckerid=t_admin.adminid
		        left join t_admin t_emp 
			        on t_picking.empid=t_emp.adminid
			    left join t_teams
			    	on t_picking.fdeptid=t_teams.teamid
			    left join t_department
          on t_department.teamid=t_picking.fdeptid     
	        where pickingid = #pickingid# 
    </select>
   
   
    
	<select id="Picking.getByProperty" resultMap="RM.Picking">
		select <include refid="Picking.columns"/> from t_picking where $propertyName$=#propertyValue#
	</select>
	
	<select id="Picking.getByProperty.new" resultMap="RM.Picking.new">
		select <include refid="Picking.columns"/>,t_picking.iserp,t_picking.notes,t_picking.isold
		 from t_picking where t_picking.pickingid=#pickingid#
	</select>
	
	
	<sql id="Picking.findPage.where">
	    <dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="pickingid">
	             t_picking.pickingid = #pickingid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="empid">
	             t_picking.empid = #empid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="seqcode">
	             t_picking.seqcode = #seqcode#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="takedateBegin">
	             t_picking.takedate &gt;= #takedateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="takedateEnd">
	             t_picking.takedate &lt;= #takedateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fbillno">
	             t_picking.fbillno = #fbillno#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="dispatchid">
	             t_picking.dispatchid = #dispatchid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fbillerid">
	             t_picking.fbillerid = #fbillerid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fsmanagerid">
	             t_picking.fsmanagerid = #fsmanagerid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="ftrantype">
	             t_picking.ftrantype = #ftrantype#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fpurposeid">
	             t_picking.fpurposeid = #fpurposeid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fdeptid">
	             t_picking.fdeptid = #fdeptid#
	       </isNotEmpty>
	       
	       <isNotEmpty prepend="AND" property="tidlist">
	              c.teamid in ($tidlist$)
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fcheckerid">
	             t_picking.fcheckerid = #fcheckerid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fcheckdateBegin">
	             t_picking.fcheckdate &gt;= #fcheckdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fcheckdateEnd">
	             t_picking.fcheckdate &lt;= #fcheckdateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fstatus">
	             t_picking.fstatus = #fstatus#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fupstockwhensave">
	             t_picking.fupstockwhensave = #fupstockwhensave#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fseltrantype">
	             t_picking.fseltrantype = #fseltrantype#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="ffmanagerid">
	             t_picking.ffmanagerid = #ffmanagerid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fdateBegin">
	             t_picking.fdate &gt;= #fdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fdateEnd">
	             t_picking.fdate &lt;= #fdateEnd#
	       </isNotEmpty>
	         <isNotEmpty prepend="AND" property="fsourcebillno"> 
	        	 	t_picking.fsourcebillno=#fsourcebillno#
	         </isNotEmpty>
        	<isNotEmpty prepend="AND" property="fqty">
        			t_picking.fqty=#fqty#
        	</isNotEmpty>
        	<isNotEmpty prepend="AND" property="itemcode">
        			t_picking.itemcode=#itemcode#
        	</isNotEmpty>
			<isNotEmpty prepend="AND" property="dbno">
					t_picking.dbno=#dbno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="isreturn">
					t_picking.isreturn=#isreturn#
			</isNotEmpty>    
	    </dynamic>	
	</sql>
	 
    <sql id="Picking.findPage.and">
    	<dynamic>
			<isNotEmpty prepend="AND" property="pickingid">
	             t_picking.pickingid = #pickingid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="empid">
	             t_picking.empid = #empid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="seqcode">
	             t_picking.seqcode = #seqcode#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="takedateBegin">
	             t_picking.takedate &gt;= #takedateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="takedateEnd">
	             t_picking.takedate &lt;= #takedateEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fbillno">
	             t_picking.fbillno = #fbillno#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="dispatchid">
	             t_picking.dispatchid = #dispatchid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fbillerid">
	             t_picking.fbillerid = #fbillerid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fsmanagerid">
	             t_picking.fsmanagerid = #fsmanagerid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="ftrantype">
	             t_picking.ftrantype = #ftrantype#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fpurposeid">
	             t_picking.fpurposeid = #fpurposeid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fdeptid">
	             t_picking.fdeptid = #fdeptid#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="tidlist">
	             c.teamid in ($tidlist$)
	       </isNotEmpty>
	       
	       
			<isNotEmpty prepend="AND" property="fcheckerid">
	             t_picking.fcheckerid = #fcheckerid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fcheckdateBegin">
	             t_picking.fcheckdate &gt;= #fcheckdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fcheckdateEnd">
	             t_picking.fcheckdate &lt;= #fcheckdateEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fstatus">
	             t_picking.fstatus = #fstatus#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fupstockwhensave">
	             t_picking.fupstockwhensave = #fupstockwhensave#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fseltrantype">
	             t_picking.fseltrantype = #fseltrantype#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="ffmanagerid">
	             t_picking.ffmanagerid = #ffmanagerid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fdateBegin">
	             t_picking.fdate &gt;= #fdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fdateEnd">
	             t_picking.fdate &lt;= #fdateEnd#
	       </isNotEmpty>
	          <isNotEmpty prepend="AND" property="fsourcebillno"> 
	        	 	t_picking.fsourcebillno=#fsourcebillno#
	         </isNotEmpty>
        	<isNotEmpty prepend="AND" property="fqty">
        			t_picking.fqty=#fqty#
        	</isNotEmpty>
        	<isNotEmpty prepend="AND" property="itemcode">
        			t_picking.itemcode=#itemcode#
        	</isNotEmpty>
			<isNotEmpty prepend="AND" property="dbno">
					t_picking.dbno=#dbno#
			</isNotEmpty>
			<isNotEmpty prepend="AND" property="isreturn">
					t_picking.isreturn=#isreturn#
			</isNotEmpty>    
	    </dynamic>	  
	</sql>
	
	
	<sql id="Picking.findPage.and.detail">
    	<dynamic>
			<isNotEmpty prepend="AND" property="itemcode">
	             t_picking.itemcode like '%$itemcode$%'
	        </isNotEmpty>
	    	<isNotEmpty prepend="AND" property="fsourcebillno">
	             t_picking.fsourcebillno like '%$fsourcebillno$%'
	        </isNotEmpty>
	    	<isNotEmpty prepend="AND" property="fbillno">
	             t_picking.fbillno like '%$fbillno$%'
	        </isNotEmpty>
	    	<isNotEmpty prepend="AND" property="fstatus">
	             t_picking.fstatus = #fstatus#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fqstatus">
	             t_picking.fstatus != #fqstatus#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="tidlist">
	             c.teamid in ($tidlist$)
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="freftype">
	             t_picking.freftype = #freftype#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="unfreftype">
	             t_picking.freftype is null
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="seqcode">
	       		t_picking.seqcode = #seqcode#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="itemname">
	       		t_base_item.itemname = #itemname#
	       </isNotEmpty>
	    	<isNotEmpty prepend="AND" property="fcheckdateBegin">
	             t_picking.fcheckdate &gt;= #fcheckdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fcheckdateEnd">
	             t_picking.fcheckdate &lt;= #fcheckdateEnd#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="isreturn">
					t_picking.isreturn=#isreturn#
			</isNotEmpty>
	    </dynamic>	  
	</sql>
	
	
	
	
	
    <select id="Picking.Entity" resultMap="RM.Picking">
    	SELECT 	<include refid="Picking.columns"/> FROM t_picking <include refid="Picking.findPage.where"/>
    </select>
    
    <select id="Picking.findList" resultMap="RM.Picking">
    	SELECT 
    		<include refid="Picking.columns"/> 
    	FROM 
    		t_picking
		<include refid="Picking.findPage.where"/>
		<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    
    <select id="Picking.findPage.count" resultClass="long">
    <![CDATA[
        select 
        count(*)
        from t_picking
        
        left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_teams on t_picking.fdeptid=t_teams.teamid 
	        left join t_teams c on t_admin.teamid=c.teamid
	        left join t_base_item
      		 on t_base_item.itemcode=t_picking.itemcode
    ]]>
		<include refid="Picking.findPage.where"/>    
    </select>
    <!--
    	分页查询已经使用Dialect进行分页,也可以不使用Dialect直接编写分页
    	因为分页查询将传 #offset#,#pageSize#,#lastRows# 三个参数,不同的数据库可以根于此三个参数属性应用不同的分页实现
    -->
    <select id="Sql.Picking.findPage" resultMap="RM.Picking">
    	select <include refid="Picking.columns"/>	    
	        from t_picking 	   
		<include refid="Picking.findPage.where"/>		
		<isNotEmpty property="sortColumns">ORDER BY $sortColumns$</isNotEmpty>
		
    </select>
    
	<select id="Picking.findPage" resultMap="RM.Picking.Admin.Team">
    	select <include refid="Picking.columns"/>,t_admin.adminName,t_teams.teamname,t_base_item.formatno ,t_base_item.itemname	    
	        from t_picking left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_teams on t_picking.fdeptid=t_teams.teamid 
	        left join t_teams c on t_admin.teamid=c.teamid
	        left join t_base_item
      		 on t_base_item.itemcode=t_picking.itemcode
	        where 1=1 
	        
	   <isNotEmpty property="notTop">  and 
       pickingid 
	   not in(select $notTop$ 
       pickingid 
	   from t_picking 
	   left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_teams on t_picking.fdeptid=t_teams.teamid 
	        left join t_teams c on t_admin.teamid=c.teamid
	        left join t_base_item
      		 on t_base_item.itemcode=t_picking.itemcode
	   <include refid="Picking.findPage.where"/>
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	   	</isNotEmpty>    
	   	<include refid="Picking.findPage.and"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    
    
	<select id="Picking.PickingEntry" resultMap="RM.Picking.PickingEntry">
		select pickingid,detailid,b.itemcode,b.fqty,b.batchno,b.fentryid,b.freproducetype,b.fsourcetrantype,b.dbno,b.fscstockid,t_base_item.itemname,
		t_base_item.formatno,t_base_item.unitname,t_base_item.storage,t_stock.fname, t_inventory_batch.fqtylock fqtylockout from 
		(select pickingid,detailid,itemcode,fqty,batchno,fentryid,freproducetype,fsourcetrantype,dbno,fscstockid from t_picking_detail 
		union all
		select pickingid,detailid,itemcode,fqty,batchno,fentryid,freproducetype,fsourcetrantype,dbno,fscstockid from t_sales_detail where t_sales_detail.dbno = 4) b	
		 left join t_stock on b.fscstockid=t_stock.fitemid
		 left join t_inventory_batch on b.itemcode = t_inventory_batch.itemcode and b.dbno=t_inventory_batch.dbno and b.fscstockid=t_inventory_batch.fitemid and b.batchno=t_inventory_batch.batchno 
		 ,t_base_item 
		 where b.itemcode=t_base_item.itemcode and pickingid=#pickingid#
	</select>
	
	<select id="Picking.PickingEntry.issn" resultMap="RM.Picking.PickingEntry.issn">
		select b.issn,pickingid,detailid,b.itemcode,b.fqty,b.batchno,b.fentryid,b.freproducetype,b.fsourcetrantype,b.dbno,b.fscstockid,t_base_item.itemname,
		t_base_item.formatno,t_base_item.unitname,t_base_item.storage,t_stock.fname ,fdstock.fname fdcstockname,t_inventory_batch.fqtylock fqtylockout 
		from 
			(select issn,pickingid,detailid,itemcode,fqty,batchno,fentryid,freproducetype,fsourcetrantype,dbno,fscstockid,fdcstockid from t_picking_detail 
			union all
			select issn,pickingid,detailid,itemcode,fqty,batchno,fentryid,freproducetype,fsourcetrantype,dbno,fscstockid,fscstockid fdcstockid from t_sales_detail) b
				
		 left join t_stock on b.fscstockid=t_stock.fitemid
		 left join t_stock fdstock on b.fdcstockid=fdstock .fitemid
		 left join t_inventory_batch on b.itemcode = t_inventory_batch.itemcode and b.dbno=t_inventory_batch.dbno and b.fscstockid=t_inventory_batch.fitemid and b.batchno=t_inventory_batch.batchno,
		 t_base_item 
		 where b.itemcode=t_base_item.itemcode and pickingid=#pickingid#
	</select>
	
<!-- 	 出库单列表查询重新修改wzx 
	<select id="Picking.findpage.listDetailByteamid.count" resultClass="long">
    <![CDATA[
        select 
        count(*)
        from t_picking
        
        left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_team on t_picking.fdeptid=t_team.teamid 
	        left join t_team c on t_admin.teamid=c.teamid
	        left join t_base_item on t_base_item.itemcode=t_picking.itemcode
	    ]]>    
	        <isNotEmpty property="detailcode">
	        left join  t_picking_detail on t_picking.pickingid=t_picking_detail.pickingid
	        </isNotEmpty>
	        where 1=1  
    		
	        <isNotEmpty property="detailcode" prepend="AND">
	        	t_picking_detail.itemcode like '%$detailcode$%'
	        </isNotEmpty>
		<include refid="Picking.findPage.and.detail"/>    
    </select>
	
	<select id="Picking.findpage.listDetailByteamid" resultMap="RM.Picking.Admin.Team.detail">
    	select <include refid="Picking.columns"/>
    	,t_admin.adminName,t_team.teamname,t_base_item.formatno ,t_base_item.itemname,	 emp.adminName empname   
	        from t_picking left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_team on t_picking.fdeptid=t_team.teamid 
	        left join t_team c on t_admin.teamid=c.teamid
	        left join t_base_item  on t_base_item.itemcode=t_picking.itemcode
	        left join t_admin emp on t_picking.empid=emp.adminId
	        <isNotEmpty property="detailcode">
	        left join  t_picking_detail on t_picking.pickingid=t_picking_detail.pickingid
	        </isNotEmpty>
	        where 1=1  
	        <isNotEmpty property="detailcode" prepend="AND">
	        	t_picking_detail.itemcode like '%$detailcode$%'
	        </isNotEmpty>
	        
	        
	   <isNotEmpty property="notTop">  and 
      t_picking.pickingid 
	   not in(select $notTop$ 
       t_picking.pickingid 
	   from t_picking 
	   left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_team on t_picking.fdeptid=t_team.teamid 
	        left join t_team c on t_admin.teamid=c.teamid
	        left join t_base_item on t_base_item.itemcode=t_picking.itemcode
	        
	        <isNotEmpty property="detailcode">
	        left join  t_picking_detail on t_picking.pickingid=t_picking_detail.pickingid
	        </isNotEmpty>
	        
	        where 1=1  
	        <isNotEmpty property="detailcode" prepend="AND">
	        	t_picking_detail.itemcode like '%$detailcode$%'
	        </isNotEmpty>
	        
	   <include refid="Picking.findPage.and.detail"/>
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	   	</isNotEmpty>    
	   	<include refid="Picking.findPage.and.detail"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>	
    -->
	

	<select id="Picking.PickingDetail.team" resultMap="RM.Picking.PickingDetail.team">
		select top 3 c.itemcode,c.itemname,c.itemmode from 
			(
			select itemcode,itemname,itemmode,pickingid from t_picking_detail
			union all
			select itemcode,itemname,itemmode,pickingid from t_sales_detail
			)
		c 
			where c.pickingid=#pickingid#
	</select>	

	
	
	<!-- ERP 中无启用班组 -->
	<select id="Picking.findpage.listDetailByteamidNew.count" resultClass="long"><!-- 出库单列表查询重新修改wzx 05-29-->
    <![CDATA[
       select count(*) from t_picking left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_department on t_picking.fdeptid=t_department.teamid 
	        left join t_department c on t_admin.teamid=c.teamid
	        left join t_base_item  on t_base_item.itemcode=t_picking.itemcode
	        left join t_admin emp on t_picking.empid=emp.adminId
	    ]]>    
	        where 1=1  and  t_picking.fstatus != 3
	          <isNotEmpty property="detailcode" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemcode like '%$detailcode$%' 
	        	) 
	        </isNotEmpty>
	        <isNotEmpty property="detailname" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemname like '%$detailname$%' 
	        	) 
	        </isNotEmpty>
	   		<isNotEmpty property="detailbatchno" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.batchno like '%$detailbatchno$%' 
	        	) 
	        </isNotEmpty>
	   <include refid="Picking.findPage.and.detail"/>    
    </select>
	<select id="Picking.findpage.listDetailByteamidNew.countBAK" resultClass="long"><!-- 出库单列表查询重新修改wzx 05-29-->
    <![CDATA[
       select count(*) from t_picking left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_teams on t_picking.fdeptid=t_teams.teamid 
	        left join t_teams c on t_admin.teamid=c.teamid
	        left join t_base_item  on t_base_item.itemcode=t_picking.itemcode
	        left join t_admin emp on t_picking.empid=emp.adminId
	    ]]>    
	        where 1=1  and  t_picking.fstatus != 3
	          <isNotEmpty property="detailcode" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemcode like '%$detailcode$%' 
	        	) 
	        </isNotEmpty>
	        <isNotEmpty property="detailname" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemname like '%$detailname$%' 
	        	) 
	        </isNotEmpty>
	   		<isNotEmpty property="detailbatchno" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.batchno like '%$detailbatchno$%' 
	        	) 
	        </isNotEmpty>
	   <include refid="Picking.findPage.and.detail"/>    
    </select>
	
	<select id="Picking.findpage.listDetailByteamidNew" resultMap="RM.Picking.Admin.Team.detail">
    	select <include refid="Picking.columns"/>,t_picking.notes
    	,t_admin.adminName,t_department.teamname,t_base_item.formatno ,t_base_item.itemname,	 emp.adminName empname   
	        from t_picking left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_department on t_picking.fdeptid=t_department.teamid 
	        left join t_department c on t_admin.teamid=c.teamid
	        left join t_base_item  on t_base_item.itemcode=t_picking.itemcode
	        left join t_admin emp on t_picking.empid=emp.adminId
	        
	        where 1=1  and  t_picking.fstatus != 3
	        <isNotEmpty property="detailcode" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemcode like '%$detailcode$%' 
	        	) 
	        </isNotEmpty>
	        <isNotEmpty property="detailname" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemname like '%$detailname$%' 
	        	) 
	        </isNotEmpty>
	        <isNotEmpty property="detailbatchno" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.batchno like '%$detailbatchno$%' 
	        	) 
	        </isNotEmpty>
	   <isNotEmpty property="notTop">  and 
      t_picking.pickingid 
	   not in(select $notTop$ 
       t_picking.pickingid 
	   from t_picking 
	   left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_teams on t_picking.fdeptid=t_teams.teamid 
	        left join t_teams c on t_admin.teamid=c.teamid
	        left join t_base_item on t_base_item.itemcode=t_picking.itemcode
	        
	        where 1=1  and  t_picking.fstatus != 3
	          <isNotEmpty property="detailcode" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemcode like '%$detailcode$%' 
	        	) 
	        </isNotEmpty>
	        <isNotEmpty property="detailname" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemname like '%$detailname$%' 
	        	) 
	        </isNotEmpty>
	        <isNotEmpty property="detailbatchno" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.batchno like '%$detailbatchno$%' 
	        	) 
	        </isNotEmpty>
	        
	   <include refid="Picking.findPage.and.detail"/>
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	   	</isNotEmpty>    
	   	<include refid="Picking.findPage.and.detail"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>

	<select id="Picking.findpage.listDetailByteamidNewBAK" resultMap="RM.Picking.Admin.Team.detail">
    	select <include refid="Picking.columns"/>,t_picking.notes
    	,t_admin.adminName,t_teams.teamname,t_base_item.formatno ,t_base_item.itemname,	 emp.adminName empname   
	        from t_picking left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_teams on t_picking.fdeptid=t_teams.teamid 
	        left join t_teams c on t_admin.teamid=c.teamid
	        left join t_base_item  on t_base_item.itemcode=t_picking.itemcode
	        left join t_admin emp on t_picking.empid=emp.adminId
	        
	        where 1=1  and  t_picking.fstatus != 3
	        <isNotEmpty property="detailcode" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemcode like '%$detailcode$%' 
	        	) 
	        </isNotEmpty>
	        <isNotEmpty property="detailname" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemname like '%$detailname$%' 
	        	) 
	        </isNotEmpty>
	        <isNotEmpty property="detailbatchno" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.batchno like '%$detailbatchno$%' 
	        	) 
	        </isNotEmpty>
	   <isNotEmpty property="notTop">  and 
      t_picking.pickingid 
	   not in(select $notTop$ 
       t_picking.pickingid 
	   from t_picking 
	   left join t_admin on t_picking.fbillerid=t_admin.adminId 
	        left join t_teams on t_picking.fdeptid=t_teams.teamid 
	        left join t_teams c on t_admin.teamid=c.teamid
	        left join t_base_item on t_base_item.itemcode=t_picking.itemcode
	        
	        where 1=1  and  t_picking.fstatus != 3
	          <isNotEmpty property="detailcode" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemcode like '%$detailcode$%' 
	        	) 
	        </isNotEmpty>
	        <isNotEmpty property="detailname" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.itemname like '%$detailname$%' 
	        	) 
	        </isNotEmpty>
	        <isNotEmpty property="detailbatchno" prepend="AND">
	        	t_picking.pickingid in(
	        	select c.pickingid from 
					(
						select itemcode,itemname,itemmode,pickingid,batchno from t_picking_detail
						union all
						select itemcode,itemname,itemmode,pickingid,batchno from t_sales_detail
					)
					c 	        	
	        	 where c.batchno like '%$detailbatchno$%' 
	        	) 
	        </isNotEmpty>
	        
	   <include refid="Picking.findPage.and.detail"/>
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	   	</isNotEmpty>    
	   	<include refid="Picking.findPage.and.detail"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
	<select id="Picking.find.icseriallist" resultMap="RM.Picking.find.icseriallist">
			select serialid,fserialnum from t_icserial 
			where
				itemcode=#itemcode#
				and fstockid=#fscstockid#
				and db=#dbno#
				and finterid=#detailid#
				and fsnlistid=#detailid#
	</select>

	 <select id="Picking.find.plist.data" resultMap="RM.Picking"><!-- 查询 -->
    	SELECT 
    		<include refid="Picking.columns"/> 
    	FROM 
    		t_picking
		<include refid="Picking.findPage.where"/>
		
    </select>
    
    <select id="Picking.select.returnStock.data" resultMap="RM.Picking.select.returnStock">
    	SELECT 
    		t_department.teamname,<include refid="Picking.columns"/> ,t_base_item.itemname itemname,t_base_item.formatno itemmode,t_base_item.unitname unitname
    	FROM 
    		t_picking
    		left join t_base_item on t_picking.itemcode = t_base_item.itemcode
    		left join
        t_department 
           on t_department.teamid=t_picking.fdeptid 
		<include refid="Picking.findPage.where"/>
    </select>
	
	
	<select id="Picking.tuihuo.data.select" resultMap="RM.Picking"><!-- 查询 -->
    	SELECT 
    		<include refid="Picking.columns"/> 
    	FROM 
    		t_picking
		where pickingid = #pickingid#
		
    </select>
    
    <select id="Picking.find.JOBfbillno.data" resultMap="RM.Picking"><!-- 查询 -->
    	SELECT 
    		<include refid="Picking.columns"/> 
    	FROM 
    		t_picking
		where t_picking.fbillno = #fbillno#
		
    </select>
    
    <select id="Picking.find.checkdata.select.data" resultMap="RM.Picking"><!-- 查询 -->
    	SELECT 
    		<include refid="Picking.columns"/> 
    	FROM 
    		t_picking
		where pickingid = #pickingid#
		
    </select>
    
    <select id="Picking.select.entity.list.data" resultMap="RM.Picking">
    	SELECT 
    		<include refid="Picking.columns"/> 
    	FROM 
    		t_picking
		<include refid="Picking.findPage.where"/>
		
    </select>
    <select id="Picking.select.callslip" resultMap="RM.Picking.Callslip">
    	SELECT pickingid,fbillno,callslipcode  FROM t_picking where callslipcode = #callslipcode#
    </select>
</sqlMap>
