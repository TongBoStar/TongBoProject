<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Receivable">

        
	<resultMap id="RM.Receivable" class="com.terrence.crm.dol.bean.Receivable">
        <result property="receivableid" column="receivableid"/>
        <result property="fcontractno" column="fcontractno"/>
        <result property="forderno" column="forderno"/>
        <result property="fmocode" column="fmocode"/>
        <result property="fnumber" column="fnumber"/>
        <result property="fnum" column="fnum"/>
        <result property="famount" column="famount"/>
        <result property="fitemname" column="fitemname"/>
        <result property="fclass" column="fclass"/>
        <result property="serviceprice" column="serviceprice"/>
        <result property="servicelistprice" column="servicelistprice"/>
        <result property="servicefinalprice" column="servicefinalprice"/>
        <result property="servicepricesum" column="servicepricesum"/>
        <result property="servicelistpricesum" column="servicelistpricesum"/>
        <result property="servicefinalpricesum" column="servicefinalpricesum"/>
        <result property="margin" column="margin"/>
        <result property="productid" column="productid"/>
        <result property="contractDate" column="contractDate"/>
        <result property="checkProject" column="checkProject"/>
        <result property="area" column="area"/>
        <result property="saler" column="saler"/>
        <result property="salerId" column="salerId"/>
        <result property="makeNumberCode" column="makeNumberCode"/>
        <result property="discountRate" column="discountRate"/>
        <result property="servicehead" column="servicehead"/>
        <result property="serviceinmount" column="serviceinmount"/>
        <result property="balancedate" column="balancedate"/>
        <result property="businessfee" column="businessfee"/>
        <result property="awardsalerName" column="awardsalerName"/>
        <result property="awardsalerId" column="awardsalerId"/>
        <result property="lngmoneypre" column="lngmoneypre"/>
        <result property="expirestock" column="expirestock"/>
        <result property="expirerefund" column="expirerefund"/>
    </resultMap>
	<resultMap id="RM.Receivable.Page" class="com.terrence.crm.dol.bean.Receivable">
        <result property="receivableid" column="receivableid"/>
        <result property="fcontractno" column="fcontractno"/>
        <result property="forderno" column="forderno"/>
        <result property="fmocode" column="fmocode"/>
        <result property="fnumber" column="fnumber"/>
        <result property="fnum" column="fnum"/>
        <result property="famount" column="famount"/>
        <result property="fitemname" column="fitemname"/>
        <result property="fclass" column="fclass"/>
        <result property="serviceprice" column="serviceprice"/>
        <result property="servicelistprice" column="servicelistprice"/>
        <result property="servicefinalprice" column="servicefinalprice"/>
        <result property="servicepricesum" column="servicepricesum"/>
        <result property="servicelistpricesum" column="servicelistpricesum"/>
        <result property="servicefinalpricesum" column="servicefinalpricesum"/>
        <result property="margin" column="margin"/>
        <result property="loaninterest" column="loaninterest"/>
        <result property="productid" column="productid"/>
        <result property="contractDate" column="contractDate"/>
        <result property="checkProject" column="checkProject"/>
        <result property="area" column="area"/>
        <result property="saler" column="saler"/>
        <result property="salerId" column="salerId"/>
        <result property="makeNumberCode" column="makeNumberCode"/>
        <result property="discountRate" column="discountRate"/>
        <result property="servicehead" column="servicehead"/>
        <result property="serviceinmount" column="serviceinmount"/>
        <result property="balancedate" column="balancedate"/>
        <result property="businessfee" column="businessfee"/>
        <result property="awardsalerName" column="awardsalerName"/>
        <result property="awardsalerId" column="awardsalerId"/>
        <result property="lngmoneypre" column="lngmoneypre"/>
        <result property="expirestock" column="expirestock"/>
        <result property="expirerefund" column="expirerefund"/>
        <result property="completeA" column="completeA"/>
        <result property="fordersends" column="receivableid" select="Receivable.fordersends"/>
        <result property="forderinstocks" column="receivableid" select="Receivable.forderinstocks"/>
        <result property="recePls" column="receivableid" select="Receivable.recePls"/>
        <result property="forderinvoices" column="receivableid" select="Receivable.forderinvoices"/>
        <result property="forderrefunds" column="receivableid" select="Receivable.forderrefunds"/>
    </resultMap>
	<resultMap id="RM.RecePl" class="com.terrence.crm.dol.bean.RecePl">
        <result property="fentryid" column="fentryid"/>
        <result property="receivableid" column="receivableid"/>
        <result property="pl4200fmodel" column="PL4200fmodel"/>
        <result property="pl4200fnum" column="PL4200fnum"/>
        <result property="pl4200listprice" column="PL4200listprice"/>
        <result property="pl4200finalprice" column="PL4200finalprice"/>
        <result property="pl3000fmodel" column="PL3000fmodel"/>
        <result property="pl3000fnum" column="PL3000fnum"/>
        <result property="pl3000listprice" column="PL3000listprice"/>
        <result property="pl3000finalprice" column="PL3000finalprice"/>
        <result property="ssv3500fmodel" column="SSV3500fmodel"/>
        <result property="ssv3500fnum" column="SSV3500fnum"/>
        <result property="ssv3500listprice" column="SSV3500listprice"/>
        <result property="ssv3500finalprice" column="SSV3500finalprice"/>
        <result property="pl2000fmodel" column="PL2000fmodel"/>
        <result property="pl2000fnum" column="PL2000fnum"/>
        <result property="pl2000listprice" column="PL2000listprice"/>
        <result property="pl2000finalprice" column="PL2000finalprice"/>
        <result property="pl4200listpricesum" column="PL4200listpricesum"/>
        <result property="pl4200finalpricesum" column="PL4200finalpricesum"/>
        <result property="pl3000listpricesum" column="PL3000listpricesum"/>
        <result property="pl3000finalpricesum" column="PL3000finalpricesum"/>
        <result property="ssv3500listpricesum" column="SSV3500listpricesum"/>
        <result property="ssv3500finalpricesum" column="SSV3500finalpricesum"/>
        <result property="pl2000listpricesum" column="PL2000listpricesum"/>
        <result property="pl2000finalpricesum" column="PL2000finalpricesum"/>
    </resultMap>
    <resultMap id="RM.Forderrefund" class="com.terrence.crm.dol.bean.Forderrefund">
        <result property="refundid" column="refundid"/>
        <result property="receivableid" column="receivableid"/>
        <result property="fdate" column="fdate"/>
        <result property="famount" column="famount"/>
        <result property="forderno" column="forderno"/>
    </resultMap>
    <resultMap id="RM.Forderinstock" class="com.terrence.crm.dol.bean.Forderinstock">
        <result property="fentryid" column="fentryid"/>
        <result property="receivableid" column="receivableid"/>
        <result property="forderno" column="forderno"/>
        <result property="fdate" column="fdate"/>
        <result property="fnum" column="fnum"/>
    </resultMap>
    <resultMap id="RM.Forderinvoice" class="com.terrence.crm.dol.bean.Forderinvoice">
        <result property="invoiceid" column="invoiceid"/>
        <result property="receivableid" column="receivableid"/>
        <result property="fdate" column="fdate"/>
        <result property="famount" column="famount"/>
        <result property="finvoiceno" column="finvoiceno"/>
        <result property="forderno" column="forderno"/>
    </resultMap>
    <resultMap id="RM.Fordersend" class="com.terrence.crm.dol.bean.Fordersend">
        <result property="sendid" column="sendid"/>
        <result property="receivableid" column="receivableid"/>
        <result property="forderno" column="forderno"/>
        <result property="fdate" column="fdate"/>
        <result property="fnum" column="fnum"/>
        <result property="famount" column="famount"/>
    </resultMap>  

	<!-- 用于select查询公用抽取的列 -->
	<sql id="Receivable.columns">
	    <![CDATA[
        	t_receivable.receivableid ,
        	t_receivable.fcontractno ,
        	t_receivable.forderno ,
        	t_receivable.fmocode ,
        	t_receivable.fnumber ,
        	t_receivable.fnum ,
        	t_receivable.famount ,
        	t_receivable.fitemname ,
        	t_receivable.fclass ,
        	t_receivable.serviceprice ,
        	t_receivable.servicelistprice ,
        	t_receivable.servicefinalprice ,
        	t_receivable.servicepricesum ,
        	t_receivable.servicelistpricesum ,
        	t_receivable.servicefinalpricesum ,
        	t_receivable.margin,
        	t_receivable.loaninterest,
        	t_receivable.productid,
        	t_receivable.contractDate,
        	t_receivable.checkProject,
        	t_receivable.area,
        	t_receivable.saler,
        	t_receivable.salerId,
        	t_receivable.makeNumberCode,
        	t_receivable.discountRate,
        	t_receivable.servicehead,
        	t_receivable.serviceinmount,
        	t_receivable.balancedate,
        	t_receivable.businessfee,
        	t_receivable.awardsalerName,
            t_receivable.awardsalerId ,
            t_receivable.lngmoneypre,
        	t_receivable.expirestock,
            t_receivable.expirerefund ,
            t_receivable.completeA 
	    ]]>
	</sql>
	
   <insert id="Receivable.insert" >
    <![CDATA[
        INSERT INTO
        t_receivable (
        	fcontractno ,
        	forderno ,
        	fmocode ,
        	fnumber ,
        	fnum ,
        	famount ,
        	fitemname ,
        	fclass ,
        	serviceprice ,
        	servicelistprice ,
        	servicefinalprice ,
        	servicepricesum ,
        	servicelistpricesum ,
        	servicefinalpricesum ,
        	margin,
        	loaninterest,
        	productid,
        	contractDate,
        	checkProject,
        	area,
        	saler,
        	salerId,
        	makeNumberCode,
        	discountRate,
        	servicehead,
        	serviceinmount,
        	balancedate,
        	businessfee,
        	awardsalerName,
            awardsalerId ,
            lngmoneypre,
            expirestock,
            expirerefund,
            completeA 
        ) VALUES (
        	#fcontractno# ,
        	#forderno# ,
        	#fmocode# ,
        	#fnumber# ,
        	#fnum# ,
        	#famount# ,
        	#fitemname# ,
        	#fclass# ,
        	#serviceprice# ,
        	#servicelistprice# ,
        	#servicefinalprice# ,
        	#servicepricesum# ,
        	#servicelistpricesum# ,
        	#servicefinalpricesum# ,
        	#margin#,
        	#loaninterest#,
        	#productid#,
        	#contractDate#,
        	#checkProject#,
        	#area#,
        	#saler#,
        	#salerId#,
        	#makeNumberCode#,
        	#discountRate#,
        	#servicehead#,
        	#serviceinmount#,
        	#balancedate#,
        	#businessfee#,
        	#awardsalerName#,
            #awardsalerId# ,
            #lngmoneypre#,
            #expirestock#,
            #expirerefund#,
            #completeA#
        )
    ]]> 
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="receivableid" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>

	<update id="Receivable.update" parameterClass="com.terrence.crm.dol.bean.Receivable">         
        UPDATE t_receivable 
        <dynamic prepend="SET">
	        <isNotEmpty prepend="," property="fcontractno">
	        	fcontractno = #fcontractno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="forderno">
	        	forderno = #forderno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fmocode">
	        	fmocode = #fmocode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fnumber">
	        	fnumber = #fnumber# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fnum">
	        	fnum = #fnum# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="famount">
	        	famount = #famount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fitemname">
	        	fitemname = #fitemname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fclass">
	        	fclass = #fclass# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="serviceprice">
	        	serviceprice = #serviceprice# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="servicelistprice">
	        	servicelistprice = #servicelistprice# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="servicefinalprice">
	        	servicefinalprice = #servicefinalprice# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="servicepricesum">
	        	servicepricesum = #servicepricesum# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="servicelistpricesum">
	        	servicelistpricesum = #servicelistpricesum# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="servicefinalpricesum">
	        	servicefinalpricesum = #servicefinalpricesum# 
	        </isNotEmpty>
	        <isEmpty prepend="," property="serviceprice">
	        	serviceprice = null 
	        </isEmpty>
	        <isEmpty prepend="," property="servicelistprice">
	        	servicelistprice = null 
	        </isEmpty>
	        <isEmpty prepend="," property="servicefinalprice">
	        	servicefinalprice = null 
	        </isEmpty>
	        <isEmpty prepend="," property="servicepricesum">
	        	servicepricesum = null 
	        </isEmpty>
	        <isEmpty prepend="," property="servicelistpricesum">
	        	servicelistpricesum = null
	        </isEmpty>
	        <isEmpty prepend="," property="servicefinalpricesum">
	        	servicefinalpricesum = null 
	        </isEmpty>
	        <isNotEmpty prepend="," property="margin">
	        	margin = #margin# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="loaninterest">
	        	loaninterest = #loaninterest# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="productid">
	        	productid = #productid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="contractDate">
	        	contractDate = #contractDate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="checkProject">
	        	checkProject = #checkProject# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="area">
	        	area = #area# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="saler">
	        	saler = #saler# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="salerId">
	        	salerId = #salerId# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="makeNumberCode">
	        	makeNumberCode = #makeNumberCode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="discountRate">
	        	discountRate = #discountRate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="servicehead">
	        	servicehead = #servicehead# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="serviceinmount">
	        	serviceinmount = #serviceinmount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="balancedate">
	        	balancedate = #balancedate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="businessfee">
	        	businessfee = #businessfee# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="awardsalerName">
	        	awardsalerName = #awardsalerName# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="awardsalerId">
	        	awardsalerId = #awardsalerId# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="lngmoneypre">
	        	lngmoneypre = #lngmoneypre# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="expirestock">
	        	expirestock = #expirestock# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="expirerefund">
	        	expirerefund = #expirerefund# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="completeA">
	        	completeA = #completeA# 
	        </isNotEmpty>
	    </dynamic>
        WHERE 
	        receivableid = #receivableid# 
    </update>
    
	<delete id="Receivable.delete" parameterClass="java.lang.Long">
    <![CDATA[
        delete from t_receivable where
       receivableid = #receivableid# 
    ]]>
    </delete>
    
    <delete id="Receivable.deleteMultiple">
    <![CDATA[
        DELETE FROM 
        	t_receivable 
        WHERE
       receivableid in ($receivableid$) 
    ]]>
    </delete>
    
    <select id="Receivable.getById" resultMap="RM.Receivable">
	    select <include refid="Receivable.columns"/>
	    
	        from t_receivable 
	        where 
		        receivableid = #receivableid# 
	    
    </select>
    
	<select id="Receivable.getByProperty" resultMap="RM.Receivable">
		select <include refid="Receivable.columns"/> from t_receivable where $propertyName$=#propertyValue#
	</select>
	
	<sql id="Receivable.findPage.where">
	    <dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="receivableid">
	             t_receivable.receivableid = #receivableid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fcontractno">
	             t_receivable.fcontractno like ('%$fcontractno$%')
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="forderno">
	             t_receivable.forderno like ('%$forderno$%')
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fmocode">
	             t_receivable.fmocode = #fmocode#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fnumber">
	             t_receivable.fnumber = #fnumber#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fnum">
	             t_receivable.fnum = #fnum#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="famount">
	             t_receivable.famount = #famount#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fitemname">
	             t_receivable.fitemname like ('%$fitemname$%')
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fclass">
	             t_receivable.fclass = #fclass#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="serviceprice">
	             t_receivable.serviceprice = #serviceprice#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="servicelistprice">
	             t_receivable.servicelistprice = #servicelistprice#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="servicefinalprice">
	             t_receivable.servicefinalprice = #servicefinalprice#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="servicepricesum">
	             t_receivable.servicepricesum = #servicepricesum#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="servicelistpricesum">
	             t_receivable.servicelistpricesum = #servicelistpricesum#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="servicefinalpricesum">
	             t_receivable.servicefinalpricesum = #servicefinalpricesum#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="productid">
	             t_receivable.productid = #productid#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="startTime">
	             <![CDATA[t_receivable.contractDate >= #startTime# ]]>
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="endTime">
	             <![CDATA[t_receivable.contractDate <= #endTime# ]]>
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="awardsalerName">
	             t_receivable.awardsalerName = #awardsalerName#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="awardsalerId">
	             t_receivable.awardsalerId = #awardsalerId#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="lngmoneypre">
	             t_receivable.lngmoneypre = #lngmoneypre#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="expirestock">
	             t_receivable.expirestock = #expirestock#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="expirerefund">
	             t_receivable.expirerefund = #expirerefund#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="completeA">
	             t_receivable.completeA = #completeA#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="saler">
	             t_receivable.saler = #saler#
	       </isNotEmpty>
	    </dynamic>	
	</sql>
	 
    <sql id="Receivable.findPage.and">
			<isNotEmpty prepend="AND" property="receivableid">
	             t_receivable.receivableid = #receivableid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fcontractno">
	             t_receivable.fcontractno like ('%$fcontractno$%')
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="forderno">
	             t_receivable.forderno like ('%$forderno$%')
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fmocode">
	             t_receivable.fmocode = #fmocode#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fnumber">
	             t_receivable.fnumber = #fnumber#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fnum">
	             t_receivable.fnum = #fnum#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="famount">
	             t_receivable.famount = #famount#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fitemname">
	             t_receivable.fitemname like ('%$fitemname$%')
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fclass">
	             t_receivable.fclass = #fclass#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="serviceprice">
	             t_receivable.serviceprice = #serviceprice#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="servicelistprice">
	             t_receivable.servicelistprice = #servicelistprice#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="servicefinalprice">
	             t_receivable.servicefinalprice = #servicefinalprice#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="servicepricesum">
	             t_receivable.servicepricesum = #servicepricesum#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="servicelistpricesum">
	             t_receivable.servicelistpricesum = #servicelistpricesum#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="servicefinalpricesum">
	             t_receivable.servicefinalpricesum = #servicefinalpricesum#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="productid">
	             t_receivable.productid = #productid#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="awardsalerName">
	             t_receivable.awardsalerName = #awardsalerName#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="awardsalerId">
	             t_receivable.awardsalerId = #awardsalerId#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="lngmoneypre">
	             t_receivable.lngmoneypre = #lngmoneypre#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="expirestock">
	             t_receivable.expirestock = #expirestock#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="expirerefund">
	             t_receivable.expirerefund = #expirerefund#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="completeA">
	             t_receivable.completeA = #completeA#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="saler">
	             t_receivable.saler = #saler#
	       </isNotEmpty>
	</sql>
	
    <select id="Receivable.Entity" resultMap="RM.Receivable">
    	SELECT 	<include refid="Receivable.columns"/> FROM t_receivable <include refid="Receivable.findPage.where"/>
    </select>
    
    <select id="Receivable.findList" resultMap="RM.Receivable.Page">
    	SELECT 
    		<include refid="Receivable.columns"/> 
    	FROM 
    		t_receivable
		<include refid="Receivable.findPage.where"/>
		<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    
    <select id="Receivable.findPage.count" resultClass="long">
    <![CDATA[
        select 
        count(*)
        from t_receivable
    ]]>
		<include refid="Receivable.findPage.where"/>    
    </select>
    <!--
    	分页查询已经使用Dialect进行分页,也可以不使用Dialect直接编写分页
    	因为分页查询将传 #offset#,#pageSize#,#lastRows# 三个参数,不同的数据库可以根于此三个参数属性应用不同的分页实现
    -->
    <select id="Sql.Receivable.findPage" resultMap="RM.Receivable">
    	select <include refid="Receivable.columns"/>	    
	        from t_receivable 	   
		<include refid="Receivable.findPage.where"/>		
		<isNotEmpty property="sortColumns">ORDER BY $sortColumns$</isNotEmpty>
		
    </select>
    
	<select id="Receivable.findPage" resultMap="RM.Receivable.Page">
    	select <include refid="Receivable.columns"/>	    
	        from t_receivable where 1=1 
	   <isNotEmpty property="notTop">  and 
       receivableid 
	   not in(select $notTop$ 
       receivableid 
	   from t_receivable <include refid="Receivable.findPage.where"/>
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	   	</isNotEmpty>    
	   	<include refid="Receivable.findPage.and"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
	
		
    </select>
	<select id="Receivable.forderinstocks" resultMap="RM.Forderinstock">
    	SELECT 	<include refid="Forderinstock.columns"/> FROM t_forderinstock where receivableid = #receivableid# 
    </select>
    <select id="Receivable.fordersends" resultMap="RM.Fordersend">
    	SELECT 	<include refid="Fordersend.columns"/> FROM t_fordersend where receivableid = #receivableid# 
    </select>
    <select id="Receivable.recePls" resultMap="RM.RecePl">
    	SELECT 	t_rece_pl.fentryid ,
        	t_rece_pl.receivableid ,
        	t_rece_pl.PL4200fmodel ,
        	t_rece_pl.PL4200fnum ,
        	t_rece_pl.PL4200listprice ,
        	t_rece_pl.PL4200finalprice ,
        	t_rece_pl.PL3000fmodel ,
        	t_rece_pl.PL3000fnum ,
        	t_rece_pl.PL3000listprice ,
        	t_rece_pl.PL3000finalprice ,
        	t_rece_pl.SSV3500fmodel ,
        	t_rece_pl.SSV3500fnum ,
        	t_rece_pl.SSV3500listprice ,
        	t_rece_pl.SSV3500finalprice ,
        	t_rece_pl.PL2000fmodel ,
        	t_rece_pl.PL2000fnum ,
        	t_rece_pl.PL2000listprice ,
        	t_rece_pl.PL2000finalprice ,
        	t_rece_pl.PL4200listpricesum ,
        	t_rece_pl.PL4200finalpricesum ,
        	t_rece_pl.PL3000listpricesum ,
        	t_rece_pl.PL3000finalpricesum ,
        	t_rece_pl.SSV3500listpricesum ,
        	t_rece_pl.SSV3500finalpricesum ,
        	t_rece_pl.PL2000listpricesum ,
        	t_rece_pl.PL2000finalpricesum 
        	FROM t_rece_pl where receivableid = #receivableid# 
    </select>
    <select id="Receivable.forderrefunds" resultMap="RM.Forderrefund">
    	SELECT 	<include refid="Forderrefund.columns"/> FROM t_forderrefund where receivableid = #receivableid# and fdate&lt;'2016-4'
    </select>
    <select id="Receivable.forderinvoices" resultMap="RM.Forderinvoice">
    	SELECT 	<include refid="Forderinvoice.columns"/> FROM t_forderinvoice where receivableid = #receivableid# 
    </select>
    <select id="Receivable.countAtypeBySaler" resultClass="java.lang.Double">
    <![CDATA[
    	select isnull(sum(isnull(servicefinalpricesum,0)),0) from t_receivable 
    	where (saler=#saler# or awardsalerName=#saler#) and contractDate>=#startTime# and contractDate<=#endTime# and fclass='A' and completeA=1
    ]]>
    </select>
    <select id="Receivable.countAtypeByQuarter" resultMap="RM.Receivable">
    	SELECT <include refid="Receivable.columns"/> from t_receivable where contractDate&gt;=#startTime# and contractDate&lt;=#endTime# and completeA = 1 and fclass='A'
    </select>
   <!--  <select id="Receivable.countAtypeBySaler" resultClass="java.lang.Double">
    <![CDATA[
    select isnull(sum(isNull(famount,0)),0) from t_forderrefund where receivableid in (select receivableid from t_receivable 
    	where (saler=#saler# or awardsalerName=#saler#) and contractDate>=#startTime# and contractDate<=#endTime# and fclass='A' and completeA=1)
		and fdate<'2016-01'
		
    SELECT isnull(sum(servicefinalpricesum),0) from t_receivable where contractDate>=#startTime# and contractDate<=#endTime# and (saler=#saler# or awardsalerName=#saler#) and completeA = 1 and fclass='A'
    	select sum(isNull(famount,0)) from t_forderrefund where forderno in (select forderno from t_receivable 
    	where (saler='蒋伟' or awardsalerName='蒋伟') and contractDate>='2015-04-01 00:00:00' and contractDate<'2015-06-01 00:00:00' and fclass='A')
		and fdate<'2016-01'
    ]]>
    </select> -->
</sqlMap>
