<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="DispatchWork">

        
	<resultMap id="RM.DispatchWork" class="com.terrence.crm.dol.bean.DispatchWork">
        <result property="id" column="id"/>
        <result property="itemid" column="itemid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemprocessid" column="itemprocessid"/>
        <result property="status" column="status"/>
        <result property="processid" column="processid"/>
        <result property="processname" column="processname"/>
        <result property="processnum" column="processnum"/>
        <result property="createtime" column="createtime"/>
        <result property="teamid" column="teamid"/>
        <result property="teamname" column="teamname"/>
        <result property="readymoney" column="readymoney"/>
        <result property="readytime" column="readytime"/>
        <result property="processtime" column="processtime"/>
        <result property="piecesalary" column="piecesalary"/>
        <result property="tools" column="tools"/>
        <result property="blades" column="blades"/>
        <result property="content" column="content"/>
        <result property="planstarttime" column="planstarttime"/>
        <result property="planendtime" column="planendtime"/>
        <result property="empid" column="empid"/>
        <result property="empname" column="empname"/>
        <result property="startdate" column="startdate"/>
        <result property="finishdate" column="finishdate"/>
        <result property="acceptednum" column="acceptednum"/>
        <result property="programname" column="programname"/>
        <result property="deviceid" column="deviceid"/>
        <result property="workid" column="workid"/>
        <result property="orderid" column="orderid"/>
        <result property="empstatus" column="empstatus"/>
        <result property="wsstatus" column="wsstatus"/>
        <result property="preorder" column="preorder"/>
        <result property="workseqid" column="workseqid"/>
        <result property="centerid" column="centerid"/>
    </resultMap>
   <resultMap id="RM.DispatchWork.Task" class="com.terrence.crm.dol.bean.DispatchWork">
		<result property="id" column="id"/>
		<result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemprocessid" column="itemprocessid"/>
        <result property="status" column="status"/>
        <result property="workid" column="workid"/>
        <result property="createtime" column="createtime"/>
        <result property="planstarttime" column="planstarttime"/>
        <result property="planendtime" column="planendtime"/>
         <result property="acceptednum" column="acceptednum"/>
         <result property="startdate" column="startdate"/>
        <result property="finishdate" column="finishdate"/>
        <result property="processnum" column="processnum"/>
        <result property="centerid" column="centerid"/>
        <result property="empstatus" column="empstatus"/>
         <result property="wsstatus" column="wsstatus"/>
         <result property="preprocess" column="preprocess"/>
         <result property="prestatus" column="prestatus"/>
         <result property="formatno" column="formatno"/>
         <result property="processname" column="processname"/>
         <result property="icmo" resultMap="RM.Dispatch.Icmo"/>
         <result property="team" resultMap="RM.Dispatch.Team"/>
         <result property="procedure" resultMap="RM.Dispatch.Task.Procedure"/>
        <result property="itemProcess" resultMap="RM.Dispatch.Task.ItemProcess"/>
    </resultMap>
    <resultMap class="com.terrence.crm.dol.bean.Team" id="RM.Dispatch.Team">
    <result property="teamname" column="teamname"/>
    </resultMap>
  <resultMap class="com.terrence.crm.dol.bean.Procedure" id="RM.Dispatch.Task.Procedure">
  		<result property="procedurerid" column="procedurerid"/>
        <result property="procedurename" column="procedurename"/>
        <result property="price" column="price"/>
  </resultMap>
   <resultMap class="com.terrence.crm.dol.bean.ItemProcess" id="RM.Dispatch.Task.ItemProcess">
		<result property="programname" column="programname"/>
		<result property="preparemins" column="preparemins"/>
		<result property="reservefund" column="reservefund"/>
		<result property="processmins" column="processmins"/>
		<result property="wage" column="wage"/>
		<result property="frockclarmp" column="frockclarmp"/>
		<result property="toolsname" column="toolsname"/>
		<result property="bladename" column="bladename"/>
		<result property="keypoint" column="keypoint"/>
	    <result property="ratio" column="ratio"/>
	    <result property="explain" column="explain"/>
	    <result property="teamid" column="teamid"/>
	    <result property="teamname" column="teamname"/>
   </resultMap>
    <resultMap id="RM.DispatchWork.ItemProcess.Relevance.list" class="com.terrence.crm.dol.bean.DispatchWork">
    	<result property="id" column="id"/>
    	<result property="workid" column="workid"/>
    	<result property="itemcode" column="itemcode"/>
    	<result property="programname" column="programname"/>
        <result property="processid" column="processid"/>
        <result property="processname" column="processname"/>
        <result property="teamname" column="teamname"/>
        <result property="readytime" column="readytime"/>
        <result property="processtime" column="processtime"/>
        <result property="piecesalary" column="piecesalary"/>
        <result property="tools" column="tools"/>
        <result property="blades" column="blades"/>
        <result property="content" column="content"/>
        <result property="empstatus" column="empstatus"/>
        <result property="wsstatus" column="wsstatus"/>
        <result property="planstarttime" column="planstarttime"/>
        <result property="planendtime" column="planendtime"/>
        <result property="preorder" column="preorder"/>
        <result property="workseqid" column="workseqid"/>
        
        <result property="pname" column="pname"/>
        
        	
        
    </resultMap>
   
	<resultMap id="RM.DispatchWork.ItemProcess.Relevance" class="com.terrence.crm.dol.bean.DispatchWork">
		<result property="id" column="id"/>
		<result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemprocessid" column="itemprocessid"/>
        <result property="status" column="status"/>
        <result property="workid" column="workid"/>
        <result property="createtime" column="createtime"/>
        <result property="planstarttime" column="planstarttime"/>
        <result property="planendtime" column="planendtime"/>
         <result property="acceptednum" column="acceptednum"/>
         <result property="startdate" column="startdate"/>
        <result property="finishdate" column="finishdate"/>
        <result property="processnum" column="processnum"/>
        <result property="empstatus" column="empstatus"/>
         <result property="wsstatus" column="wsstatus"/>
        <result property="itemProcess" resultMap="RM.Dispatch.ItemProcess"/>
        <result property="icmo" resultMap="RM.Dispatch.Icmo"/>
        
         <result property="formatno" column="formatno"/>
         <result property="preprocess" column="preprocess"/>
        <result property="prestatus" column="prestatus"/>     
	</resultMap>
	
	
	<resultMap id="RM.Dispatch.Icmo" class="com.terrence.crm.dol.bean.Icmo">
	<result property="priority" column="priority"/>
	</resultMap>
	<resultMap id="RM.Dispatch.ItemProcess" class="com.terrence.crm.dol.bean.ItemProcess">
		<result property="processid" column="processid"/>
		<result property="processname" column="processname"/>
		<result property="programname" column="programname"/>
		<result property="preparemins" column="preparemins"/>
		<result property="reservefund" column="reservefund"/>
		<result property="processmins" column="processmins"/>
		<result property="wage" column="wage"/>
		<result property="frockclarmp" column="frockclarmp"/>
		<result property="toolsname" column="toolsname"/>
		<result property="bladename" column="bladename"/>
		<result property="keypoint" column="keypoint"/>
		<result property="price" column="price"/>
	    <result property="ratio" column="ratio"/>
	    <result property="explain" column="explain"/>
	    <result property="teamid" column="teamid"/>
	    <result property="teamname" column="teamname"/>
	 </resultMap>
	 <resultMap class="com.terrence.crm.dol.bean.DispatchWork" id="RM.DispatchWork.procedureprice">
	 	<result property="procedureprice" column="procedureprice"/>
	 </resultMap>
	 
	
	 
	<!-- 用于select查询公用抽取的列 -->
	<sql id="DispatchWork.columns">
	    <![CDATA[
        	t_dispatch_work.id ,
        	t_dispatch_work.itemid ,
        	t_dispatch_work.itemcode ,
        	t_dispatch_work.itemname ,
        	t_dispatch_work.itemprocessid ,
        	t_dispatch_work.status ,
        	t_dispatch_work.processid,
        	t_dispatch_work.processname ,
        	t_dispatch_work.processnum ,
        	t_dispatch_work.createtime ,
        	t_dispatch_work.teamid ,
        	t_dispatch_work.teamname ,
        	t_dispatch_work.readymoney ,
        	t_dispatch_work.readytime ,
        	t_dispatch_work.processtime ,
        	t_dispatch_work.piecesalary ,
        	t_dispatch_work.tools ,
        	t_dispatch_work.blades ,
        	t_dispatch_work.content ,
        	t_dispatch_work.planstarttime ,
        	t_dispatch_work.planendtime ,
        	t_dispatch_work.empid ,
        	t_dispatch_work.empname ,
        	t_dispatch_work.startdate ,
        	t_dispatch_work.finishdate ,
        	t_dispatch_work.acceptednum ,
        	t_dispatch_work.programname ,
        	t_dispatch_work.deviceid ,
        	t_dispatch_work.workid ,
        	t_dispatch_work.orderid ,
        	t_dispatch_work.empstatus ,
        	t_dispatch_work.wsstatus,
        	t_dispatch_work.preorder  ,
        	t_dispatch_work.workseqid ,
        	t_dispatch_work.centerid 
	    ]]>
	</sql>
	
   <insert id="DispatchWork.insert" >
    <![CDATA[
        INSERT INTO
        t_dispatch_work (
        	itemcode ,
        	itemname ,
        	itemprocessid ,
        	status ,
        	processname ,
        	processid ,
        	processnum ,
        	createtime ,
        	teamid ,
        	teamname ,
        	readymoney ,
        	readytime ,
        	processtime ,
        	piecesalary ,
        	tools ,
        	blades ,
        	content ,
        	acceptednum ,
        	programname ,
        	workid ,
        	orderid,
        	wsstatus,
        	preorder,
        	workseqid ,
        	centerid 
        ) VALUES (
        	#itemcode# ,
        	#itemname# ,
        	#itemprocessid# ,
        	#status# ,
        	#processname# ,
        	#processid# ,
        	#processnum# ,
        	#createtime# ,
        	#teamid# ,
        	#teamname# ,
        	#readymoney# ,
        	#readytime# ,
        	#processtime# ,
        	#piecesalary# ,
        	#tools# ,
        	#blades# ,
        	#content# ,
        	#acceptednum# ,
        	#programname# ,
        	#workid# ,
        	#orderid# ,
        	#wsstatus#,
        	#preorder# ,
        	#workseqid# ,
        	#centerid# 
        )
    ]]> 
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="id" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>
    
    <insert id="DispatchWork.insertPlanTime" >
    <![CDATA[
        INSERT INTO
        t_dispatch_work (
        	itemcode ,
        	itemname ,
        	itemprocessid ,
        	status ,
        	processname ,
        	processid ,
        	processnum ,
        	createtime ,
        	teamid ,
        	teamname ,
        	readymoney ,
        	readytime ,
        	processtime ,
        	piecesalary ,
        	tools ,
        	blades ,
        	content ,
        	acceptednum ,
        	programname ,
        	workid ,
        	orderid,
        	wsstatus,
        	preorder,
        	workseqid ,
        	planstarttime,
        	planendtime,
        	centerid
        	
        ) VALUES (
        	#itemcode# ,
        	#itemname# ,
        	#itemprocessid# ,
        	#status# ,
        	#processname# ,
        	#processid# ,
        	#processnum# ,
        	#createtime# ,
        	#teamid# ,
        	#teamname# ,
        	#readymoney# ,
        	#readytime# ,
        	#processtime# ,
        	#piecesalary# ,
        	#tools# ,
        	#blades# ,
        	#content# ,
        	#acceptednum# ,
        	#programname# ,
        	#workid# ,
        	#orderid# ,
        	#wsstatus#,
        	#preorder# ,
        	#workseqid# ,
        	#planstarttime#,
        	#planendtime#,
        	#centerid#
        )
    ]]> 
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="id" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>
    
    
   <insert id="DispatchWork.insertAuto" >
    <![CDATA[
        INSERT INTO
        t_dispatch_work (
        	itemcode ,
        	itemname ,
        	itemprocessid ,
        	status ,
        	processname ,
        	processid ,
        	processnum ,
        	createtime ,
        	teamid ,
        	teamname ,
        	readymoney ,
        	readytime ,
        	processtime ,
        	piecesalary ,
        	tools ,
        	blades ,
        	content ,
        	acceptednum ,
        	programname ,
        	workid ,
        	orderid,
        	wsstatus,
        	empstatus,
        	preorder,
        	workseqid ,
        	planstarttime ,
        	planendtime ,
        	centerid 
        ) VALUES (
        	#itemcode# ,
        	#itemname# ,
        	#itemprocessid# ,
        	#status# ,
        	#processname# ,
        	#processid# ,
        	#processnum# ,
        	#createtime# ,
        	#teamid# ,
        	#teamname# ,
        	#readymoney# ,
        	#readytime# ,
        	#processtime# ,
        	#piecesalary# ,
        	#tools# ,
        	#blades# ,
        	#content# ,
        	#acceptednum# ,
        	#programname# ,
        	#workid# ,
        	#orderid# ,
        	#wsstatus#,
        	#empstatus#,
        	#preorder# ,
        	#workseqid# ,
        	#planstarttime# ,
        	#planendtime#,
        	#centerid# 
        )
    ]]> 
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="id" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>
    
    
 	<!--<insert id="DispatchWork.batch.create">
 	insert into t_dispatch_work (workid,itemcode,itemname,itemprocessid,status,processname,processnum,teamid,teamname,readymoney,readytime
	,processtime,piecesalary,tools,blades,content,acceptednum,programname,orderid,processid,wsstatus)
	select t_icmo.icmoid,t_icmo.itemcode,t_icmo.itemname,tip.itemprocessid,0,tip.processname,t_icmo.fqty,tip.teamid,
	tip.teamname,tip.reservefund,tip.preparemins,tip.processmins,tip.wage,tip.toolsname,tip.bladename,keypoint,0,tip.programname,tip.orderid,tip.processid,0
	 from t_icmo,t_item_process as tip,t_base_item where t_icmo.itemcode=tip.itemcode and tip.itemcode=t_base_item.itemcode and t_base_item.wfstatus=3
	 and not exists(select workid from t_dispatch_work where t_icmo.icmoid=t_dispatch_work.workid)
	 
 	</insert>
     <insert id="DispatchWork.save">
    <![CDATA[
    insert into t_dispatch_work (workid,itemcode,itemname,itemprocessid,status,processname,processnum,teamid,teamname,readymoney,readytime
,processtime,piecesalary,tools,blades,content,acceptednum,programname,orderid,processid,wsstatus)
select t_icmo.icmoid,t_icmo.itemcode,t_icmo.itemname,tip.itemprocessid,0,tip.processname,t_icmo.fqty,tip.teamid,
tip.teamname,tip.reservefund,tip.preparemins,tip.processmins,tip.wage,tip.toolsname,tip.bladename,keypoint,0,tip.programname,tip.orderid,tip.processid,0
 from t_icmo,t_item_process as tip,t_base_item where t_icmo.itemcode=tip.itemcode and t_icmo.icmoid=#icmoid# 
 and tip.itemcode=t_base_item.itemcode and t_base_item.wfstatus=3
    ]]> 
    </insert>
      -->
    <!-- 向派工表加数据 -->
    <insert id="DispatchWork.create">
    <![CDATA[
    insert into t_dispatch_work(itemcode,itemname,processid,processname,processnum,itemprocessid,status,workid,createtime,acceptednum,teamid,
    teamname,wsstatus,preorder,readymoney,readytime ,processtime ,piecesalary)
     values(#itemcode# ,#itemname#,#processid#,#processname#,#processnum#,#itemprocessid#,#status#,#workid#,getdate(),#acceptednum#,#teamid#,
     #teamname#,0,#preorder#,#readymoney#,#readytime# ,#processtime# ,#piecesalary#)
     ]]>
     <selectKey resultClass="java.lang.Long" type="post" keyProperty="id" >
            SELECT  @@identity  AS  ID
       </selectKey>
    </insert>
    <insert id="DispatchWork.addProcess">
    insert into t_dispatch_work(itemcode,itemname,processid,processname,processnum,itemprocessid,status,workid,createtime,acceptednum,teamid,
    teamname,wsstatus,preorder,readymoney,readytime ,processtime ,piecesalary) 
	select t_item_process.itemcode,t_item_process.itemname,t_item_process.processid,t_item_process.processname,t_icmo.fqty,
	t_item_process.itemprocessid,0,t_icmo.icmoid,getdate(),0,t_item_process.teamid,t_item_process.teamname,0,#preorder#,t_item_process.reservefund,
	t_item_process.preparemins,t_item_process.processmins,t_item_process.wage from t_item_process,t_icmo 
	where t_item_process.itemcode=t_icmo.itemcode and t_item_process.itemprocessid=#itemprocessid# and t_icmo.icmoid=#workid#
	<selectKey resultClass="java.lang.Long" type="post" keyProperty="id" >
            SELECT  @@identity  AS  ID
       </selectKey>
    </insert>
    <!-- 向派工表加数据时检查是否存在 
     <select id="DispatchWork.getBy" resultMap="RM.DispatchWork">
	    select <include refid="DispatchWork.columns"/>
	        from t_dispatch_work 
	        where 
		        itemid = #itemid#
    </select>
    -->
    <!-- 更新工艺，联动触发更新班组任务价格 -->
    <update id="DispatchWork.update.ForItemProcess" parameterClass="com.terrence.crm.dol.bean.DispatchWork">
    update t_dispatch_work set readymoney=tip.reservefund,readytime=tip.preparemins,processtime=tip.processmins,piecesalary=tip.wage
 	from t_item_process tip where t_dispatch_work.itemprocessid=tip.itemprocessid and t_dispatch_work.itemprocessid=#itemprocessid#
    </update>
    <update id="DispatchWork.update.processnum" parameterClass="com.terrence.crm.dol.bean.DispatchWork">
    	update t_dispatch_work set processnum=#processnum# where workid=#workid#
    </update>
	<update id="DispatchWork.update" parameterClass="com.terrence.crm.dol.bean.DispatchWork">         
        UPDATE t_dispatch_work 
        <dynamic prepend="SET">
	        <isNotEmpty prepend="," property="itemid">
	        	itemid = #itemid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemcode">
	        	itemcode = #itemcode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemname">
	        	itemname = #itemname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemprocessid">
	        	itemprocessid = #itemprocessid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="status">
	        	status = #status# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="processname">
	        	processname = #processname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="processnum">
	        	processnum = #processnum# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createtime">
	        	createtime = #createtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="teamid">
	        	teamid = #teamid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="teamname">
	        	teamname = #teamname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="readymoney">
	        	readymoney = #readymoney# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="readytime">
	        	readytime = #readytime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="processtime">
	        	processtime = #processtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="piecesalary">
	        	piecesalary = #piecesalary# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="tools">
	        	tools = #tools# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="blades">
	        	blades = #blades# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="content">
	        	content = #content# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="planstarttime">
	        	planstarttime = #planstarttime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="planendtime">
	        	planendtime = #planendtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="empid">
	        	empid = #empid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="empname">
	        	empname = #empname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="startdate">
	        	startdate = #startdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="finishdate">
	        	finishdate = #finishdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="acceptednum">
	        	acceptednum = #acceptednum# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="programname">
	        	programname = #programname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="deviceid">
	        	deviceid = #deviceid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="workid">
	        	workid = #workid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="orderid">
	        	orderid = #orderid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="empstatus">
	        	empstatus = #empstatus# 
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="wsstatus">
	        	wsstatus = #wsstatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="preorder">
	        	preorder = #preorder# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="workseqid">
	        	workseqid = #workseqid# 
	        </isNotEmpty>
	    </dynamic>
        WHERE 
	        id = #id# 
    </update>
    
	<delete id="DispatchWork.delete" parameterClass="java.lang.Long">
    <![CDATA[
        delete from t_dispatch_work where
       id = #id# 
    ]]>
    </delete>
    <!-- 触发删除未开工工序 -->
    <delete id="DispatchWork.deleteByProperty">
    <![CDATA[
        delete from t_dispatch_work where $propertyName$ in ($propertyValue$) and status in(0,1)
    ]]>
    </delete>
    <delete id="DispatchWork.deleteMultiple">
    <![CDATA[
        DELETE FROM 
        	t_dispatch_work 
        WHERE
       id in ($id$) 
    ]]>
    </delete>
    
    <delete id="DispatchWork.deleteByWorkid">
    <![CDATA[
    	delete from t_dispatch_work where workid=#workid#
    ]]>
    </delete>
    <delete id="DispatchWork.deleteByItemcode">
    <![CDATA[
    	delete from t_dispatch_work where itemcode=#itemcode#
    ]]>
    </delete>
    
    
    <select id="DispatchWork.accecpednum" resultClass="int">
    	select isnull(sum(acceptednum),0) acceptednum from t_dispatch_work where workseqid=#workseqid#
    </select>
    
    <select id="DispatchWork.getById" resultMap="RM.DispatchWork">
	    select <include refid="DispatchWork.columns"/>
	    
	        from t_dispatch_work 
	        where 
		        id = #id# 
	    
    </select>
    
	<select id="DispatchWork.getByProperty" resultMap="RM.DispatchWork">
		select <include refid="DispatchWork.columns"/> from t_dispatch_work where $propertyName$=#propertyValue#
	</select>
	
	
	<select id="DispatchWork.getProcedurePrice" resultMap="RM.DispatchWork.procedureprice">
		select
			 t_procedure.price procedureprice 
		from 
		t_dispatch_work 
		left join
		t_procedure
		 on  t_dispatch_work.processid=t_procedure.procedurerid
		
		where t_dispatch_work.id=#id#
		
		
	</select>
	
	
	<sql id="DispatchWork.findPage.where">
	    <dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="id">
	             t_dispatch_work.id = #id#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemid">
	             t_dispatch_work.itemid = #itemid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemcode">
	             t_dispatch_work.itemcode = #itemcode#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemname">
	             t_dispatch_work.itemname = #itemname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemprocessid">
	             t_dispatch_work.itemprocessid = #itemprocessid#
	       </isNotEmpty>
	       
	       <isNotEmpty prepend="AND" property="statuses">
	             t_dispatch_work.status in($statuses$)
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="processname">
	             t_dispatch_work.processname = #processname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="processnum">
	             t_dispatch_work.processnum = #processnum#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="createtimeBegin">
	             t_dispatch_work.createtime &gt;= #createtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="createtimeEnd">
	             t_dispatch_work.createtime &lt;= #createtimeEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="teamid">
	             t_dispatch_work.teamid = #teamid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="teamname">
	             t_dispatch_work.teamname = #teamname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="readymoney">
	             t_dispatch_work.readymoney = #readymoney#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="readytime">
	             t_dispatch_work.readytime = #readytime#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="processtime">
	             t_dispatch_work.processtime = #processtime#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="piecesalary">
	             t_dispatch_work.piecesalary = #piecesalary#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="tools">
	             t_dispatch_work.tools = #tools#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="blades">
	             t_dispatch_work.blades = #blades#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="content">
	             t_dispatch_work.content = #content#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="planstarttimeBegin">
	             t_dispatch_work.planstarttime &gt;= #planstarttimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="planstarttimeEnd">
	             t_dispatch_work.planstarttime &lt;= #planstarttimeEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="planendtimeBegin">
	             t_dispatch_work.planendtime &gt;= #planendtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="planendtimeEnd">
	             t_dispatch_work.planendtime &lt;= #planendtimeEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="empid">
	             t_dispatch_work.empid = #empid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="empname">
	             t_dispatch_work.empname = #empname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="startdateBegin">
	             t_dispatch_work.startdate &gt;= #startdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="startdateEnd">
	             t_dispatch_work.startdate &lt;= #startdateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="finishdateBegin">
	             t_dispatch_work.finishdate &gt;= #finishdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="finishdateEnd">
	             t_dispatch_work.finishdate &lt;= #finishdateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="acceptednum">
	             t_dispatch_work.acceptednum = #acceptednum#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="programname">
	             t_dispatch_work.programname = #programname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="deviceid">
	             t_dispatch_work.deviceid = #deviceid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="workid">
	             t_dispatch_work.workid = #workid#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="orderid">
	             t_dispatch_work.orderid = #orderid#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="empstatus">
	             t_dispatch_work.empstatus = #empstatus#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="wsstatus">
	             t_dispatch_work.wsstatus = #wsstatus#
	       </isNotEmpty> 
	       <isNotEmpty prepend="AND" property="preorder">
	             t_dispatch_work.preorder = #preorder#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="priority">
	             t_icmo.priority = #priority#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="workseqid">
	             t_dispatch_work.workseqid = #workseqid#
	       </isNotEmpty>
	       <!-- 
	       <isNotEmpty prepend="AND" property="notstatue1">
	             t_dispatch_work.status != #notstatue1#
	       </isNotEmpty> 
	       <isNotEmpty prepend="AND" property="notstatue2">
	             t_dispatch_work.status != #notstatue2#
	       </isNotEmpty>  --> 
	       <isNotEmpty prepend="AND" property="laststatue">
	             dw.status in($laststatue$)
	       </isNotEmpty>
	    </dynamic>	
	</sql>
	 
    <sql id="DispatchWork.findPage.and">
			<isNotEmpty prepend="AND" property="id">
	             t_dispatch_work.id = #id#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemid">
	             t_dispatch_work.itemid = #itemid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemcode">
	             t_dispatch_work.itemcode like ('%$itemcode$%')
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemname">
	             t_dispatch_work.itemname = #itemname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemprocessid">
	             t_dispatch_work.itemprocessid = #itemprocessid#
	       </isNotEmpty>
	       
	         <isNotEmpty prepend="AND" property="statuses">
	             t_dispatch_work.status in($statuses$)
	       </isNotEmpty>
	         <isNotEmpty prepend="AND" property="seqstatus">
	             t_dispatch_work.seqstatus in($seqstatus$)
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="processname">
	             t_dispatch_work.processname = #processname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="processnum">
	             t_dispatch_work.processnum = #processnum#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="createtimeBegin">
	             t_dispatch_work.createtime &gt;= #createtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="createtimeEnd">
	             t_dispatch_work.createtime &lt;= #createtimeEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="teamid">
	             t_dispatch_work.teamid = #teamid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="teamname">
	             t_dispatch_work.teamname = #teamname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="readymoney">
	             t_dispatch_work.readymoney = #readymoney#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="readytime">
	             t_dispatch_work.readytime = #readytime#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="processtime">
	             t_dispatch_work.processtime = #processtime#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="piecesalary">
	             t_dispatch_work.piecesalary = #piecesalary#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="tools">
	             t_dispatch_work.tools = #tools#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="blades">
	             t_dispatch_work.blades = #blades#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="content">
	             t_dispatch_work.content = #content#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="planstarttimeBegin">
	             t_dispatch_work.planstarttime &gt;= #planstarttimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="planstarttimeEnd">
	             t_dispatch_work.planstarttime &lt;= #planstarttimeEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="planendtimeBegin">
	             t_dispatch_work.planendtime &gt;= #planendtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="planendtimeEnd">
	             t_dispatch_work.planendtime &lt;= #planendtimeEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="empid">
	             t_dispatch_work.empid = #empid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="empname">
	             t_dispatch_work.empname = #empname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="startdateBegin">
	             t_dispatch_work.startdate &gt;= #startdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="startdateEnd">
	             t_dispatch_work.startdate &lt;= #startdateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="finishdateBegin">
	             t_dispatch_work.finishdate &gt;= #finishdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="finishdateEnd">
	             t_dispatch_work.finishdate &lt;= #finishdateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="acceptednum">
	             t_dispatch_work.acceptednum = #acceptednum#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="programname">
	             t_dispatch_work.programname = #programname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="deviceid">
	             t_dispatch_work.deviceid = #deviceid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="workid">
	             t_dispatch_work.workid = #workid#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="orderid">
	             t_dispatch_work.orderid = #orderid#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="empstatus">
	             t_dispatch_work.empstatus = #empstatus#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="wsstatus">
	             t_dispatch_work.wsstatus = #wsstatus#
	       </isNotEmpty> 
	       <isNotEmpty prepend="AND" property="workseqid">
	             t_dispatch_work.workseqid = #workseqid#
	       </isNotEmpty>
	  <!--      
	       <isNotEmpty prepend="AND" property="notstatue1">
	             t_dispatch_work.status != #notstatue1#
	       </isNotEmpty> 
	       <isNotEmpty prepend="AND" property="notstatue2">
	             t_dispatch_work.status != #notstatue2#
	       </isNotEmpty> 
	     -->   
	       <isNotEmpty prepend="AND" property="laststatue">
	             dw.status in($laststatue$)
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="preorder">
	             t_dispatch_work.preorder = #preorder#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="priority">
	             t_icmo.priority = #priority#
	       </isNotEmpty>
	       
	</sql>
    
    <select id="DispatchWork.findList" resultMap="RM.DispatchWork">
    	SELECT 
    		<include refid="DispatchWork.columns"/> 
    	FROM 
    		t_dispatch_work
		<include refid="DispatchWork.findPage.where"/>
		<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    <select id="DispatchWork.findListByItemprocess" resultMap="RM.DispatchWork">
    	SELECT 
    		<include refid="DispatchWork.columns"/> 
    	FROM 
    		t_dispatch_work,t_icmo
    		where t_dispatch_work.workid=t_icmo.icmoid and t_icmo.isdel=0
		<include refid="DispatchWork.findPage.and"/>
		<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    
    
  <!--   <select id="DispatchWork.Table.findList" resultMap="RM.DispatchWork.ItemProcess.Relevance.list">
		select t_dispatch_work.id,t_dispatch_work.itemcode,t_dispatch_work.itemname,t_dispatch_work.itemprocessid,t_dispatch_work.status
		,t_dispatch_work.workid,t_dispatch_work.createtime,t_dispatch_work.planstarttime,t_dispatch_work.planendtime
	,t_dispatch_work.acceptednum,t_dispatch_work.startdate,t_dispatch_work.finishdate,t_dispatch_work.processnum,t_dispatch_work.processid,t_dispatch_work.processname
	,tip.programname,tip.preparemins,tip.reservefund,tip.processmins,tip.wage,tip.frockclarmp,tip.toolsname,tip.bladename,tip.keypoint
	,tip.price,tip.ratio,t_dispatch_work.teamid,t_dispatch_work.teamname,tip.explain,t_dispatch_work.empstatus,t_dispatch_work.wsstatus from t_dispatch_work
	left join t_item_process tip on t_dispatch_work.itemprocessid=tip.itemprocessid where 1=1 <include refid="DispatchWork.findPage.and"/>	
	 <isNotEmpty property="sortColumns">ORDER BY $sortColumns$</isNotEmpty>
	</select>
-->
	<select id="DispatchWork.Table.findList" resultMap="RM.DispatchWork.ItemProcess.Relevance.list">
		select 
			t_dispatch_work.id ,
			t_dispatch_work.workid,
			t_dispatch_work.programname ,
			t_dispatch_work.itemcode,
        	t_dispatch_work.processid,
        	t_dispatch_work.processname ,
        	t_dispatch_work.teamname ,
        	t_dispatch_work.readytime ,
        	t_dispatch_work.processtime ,
        	t_dispatch_work.piecesalary ,
        	t_dispatch_work.tools ,
        	t_dispatch_work.blades ,
        	t_dispatch_work.content ,
        	t_dispatch_work.planstarttime ,
        	t_dispatch_work.planendtime ,
        	t_dispatch_work.empstatus ,
        	t_dispatch_work.wsstatus,
        	t_dispatch_work.preorder  ,
        	t_dispatch_work.workseqid ,
        	t_item_process.processname pname
    		
	from t_dispatch_work 
			left join t_item_process on t_dispatch_work.itemprocessid=t_item_process.itemprocessid
			
			
	
	
	where 1=1 <include refid="DispatchWork.findPage.and"/>	
	 order by t_dispatch_work.workseqid asc
	</select>
<!-- ============================================================================================= -->	

	<select id="DispatchWork.findCreatList" resultClass="java.util.HashMap">
		
		select t_icmo.itemcode, t_icmo.itemname, itemprocessid, t_icmo.icmoid, teamid,teamname,t_icmo.fqty 
		,t_item_process.processid,t_item_process.processname
		from t_icmo, t_item_process, t_base_item
		where t_icmo.itemcode=t_item_process.itemcode and
 		t_icmo.itemcode=t_base_item.itemcode and wfstatus=1 and
 		t_icmo.createdate>convert(varchar(10), getdate()-1 , 120) and
 		 t_item_process.createdate>convert(varchar(10), getdate()-1 , 120) and
 		 t_base_item.createdate>convert(varchar(10), getdate()-1 , 120)
		 
	</select>
	
	
<!-- ============================================================================================= -->		
    <select id="DispatchWork.findPage.count" resultClass="long">
   
    <![CDATA[
        select count(*) from 
        (select c.*,t_work_seq.status seqstatus from t_dispatch_work c 
        left join t_work_seq on c.workseqid=t_work_seq.workseqid) t_dispatch_work 
        
        left join (select t_work_seq.*,t_procedure.procedurename preprocess from t_work_seq,t_procedure 
	where t_work_seq.procedurerid=t_procedure.procedurerid) dw on t_dispatch_work.preorder=dw.workseqid,t_work_seq,t_procedure,
	t_item_process,t_base_item,t_icmo,t_process where t_dispatch_work.workseqid=t_work_seq.workseqid 
	and t_dispatch_work.processid=t_procedure.procedurerid and t_dispatch_work.itemprocessid=t_item_process.itemprocessid
	and t_dispatch_work.itemcode=t_base_item.itemcode and t_dispatch_work.workid=t_icmo.icmoid and t_dispatch_work.centerid=t_process.processid
       ]]> 
		<include refid="DispatchWork.findPage.and"/>    
    </select>
    <!--
    	分页查询已经使用Dialect进行分页,也可以不使用Dialect直接编写分页
    	因为分页查询将传 #offset#,#pageSize#,#lastRows# 三个参数,不同的数据库可以根于此三个参数属性应用不同的分页实现
    -->
    <select id="DispatchWork.findPage" resultMap="RM.DispatchWork.Task">
    select t_dispatch_work.id,t_dispatch_work.itemcode,t_dispatch_work.itemname,t_dispatch_work.itemprocessid,t_work_seq.status,t_dispatch_work.workid
	,t_dispatch_work.createtime,t_dispatch_work.planstarttime,t_dispatch_work.planendtime,t_dispatch_work.acceptednum,t_dispatch_work.startdate
	,t_dispatch_work.finishdate,t_dispatch_work.processnum,t_dispatch_work.centerid,t_dispatch_work.empstatus,t_dispatch_work.wsstatus
	,t_item_process.programname,t_item_process.preparemins,t_item_process.reservefund,t_item_process.processmins,t_item_process.wage,t_item_process.frockclarmp,t_item_process.toolsname
	,t_item_process.bladename,t_item_process.keypoint,t_item_process.ratio,t_item_process.explain,t_item_process.teamid,t_teams.teamname
	,t_base_item.formatno,isnull(t_icmo.priority,4) priority,dw.status prestatus,dw.preprocess,t_process.processname
	,t_procedure.procedurerid,t_procedure.procedurename ,t_procedure.price
	from 
	(
	select c.*,t_work_seq.status seqstatus from t_dispatch_work c left join t_work_seq on c.workseqid=t_work_seq.workseqid
	)
        t_dispatch_work   
	left join (select t_work_seq.*,t_procedure.procedurename preprocess from t_work_seq,t_procedure 
	where t_work_seq.procedurerid=t_procedure.procedurerid) dw on t_dispatch_work.preorder=dw.workseqid,t_work_seq,t_procedure,
	t_item_process,t_base_item,t_icmo,t_process,t_teams where t_dispatch_work.workseqid=t_work_seq.workseqid 
	
	and t_dispatch_work.processid=t_procedure.procedurerid 
	and t_dispatch_work.itemprocessid=t_item_process.itemprocessid
	and t_dispatch_work.itemcode=t_base_item.itemcode and t_dispatch_work.workid=t_icmo.icmoid and t_dispatch_work.centerid=t_process.processid
	and t_dispatch_work.teamid=t_teams.teamid
	<isNotEmpty property="notTop">  
       and t_dispatch_work.id not in(select $notTop$  t_dispatch_work.id  from 
       (select c.*,t_work_seq.status seqstatus from t_dispatch_work c left join t_work_seq on c.workseqid=t_work_seq.workseqid)
       t_dispatch_work  
	,t_work_seq,t_procedure,t_item_process,t_base_item,t_icmo where t_dispatch_work.workseqid=t_work_seq.workseqid 
	and t_dispatch_work.processid=t_procedure.procedurerid and t_dispatch_work.itemprocessid=t_item_process.itemprocessid
	and t_dispatch_work.itemcode=t_base_item.itemcode and t_dispatch_work.workid=t_icmo.icmoid 
       		<include refid="DispatchWork.findPage.and"/>
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	 </isNotEmpty>  
	 <include refid="DispatchWork.findPage.and"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty> 
    </select>
    <!-- 班组任务 -->
    <select id="Old.DispatchWork.findPage" resultMap="RM.DispatchWork.ItemProcess.Relevance">
    	
select t_dispatch_work.id,t_dispatch_work.itemcode,t_dispatch_work.itemname,t_dispatch_work.itemprocessid,t_dispatch_work.status
		,t_dispatch_work.workid,t_dispatch_work.createtime,t_dispatch_work.planstarttime,t_dispatch_work.planendtime
	,t_dispatch_work.acceptednum,t_dispatch_work.startdate,t_dispatch_work.finishdate,t_dispatch_work.processnum,tip.processid,tip.processname
	,tip.programname,tip.preparemins,tip.reservefund,tip.processmins,tip.wage,tip.frockclarmp,tip.toolsname,tip.bladename,tip.keypoint
	,t_process.price,tip.ratio,tip.explain,t_dispatch_work.teamid,t_dispatch_work.teamname,tip.explain,t_dispatch_work.empstatus ,t_dispatch_work.wsstatus
	,t_base_item.formatno,dw.processname preprocess,dw.status prestatus
	,isnull(t_icmo.priority,4) priority
	from t_dispatch_work left join t_base_item on t_dispatch_work.itemcode=t_base_item.itemcode left join t_item_process tip 
	on t_dispatch_work.itemprocessid=tip.itemprocessid left join t_process on t_dispatch_work.processid=t_process.processid 
	left join t_dispatch_work dw on t_dispatch_work.preorder=dw.id,t_icmo
	    where t_dispatch_work.workid=t_icmo.icmoid
	    
       
 <isNotEmpty property="notTop">  
       and t_dispatch_work.id not in(select $notTop$  t_dispatch_work.id  from  
       t_dispatch_work left join t_base_item on t_dispatch_work.itemcode=t_base_item.itemcode left join t_item_process tip 
	on t_dispatch_work.itemprocessid=tip.itemprocessid left join t_process on t_dispatch_work.processid=t_process.processid 
	left join t_dispatch_work dw on t_dispatch_work.preorder=dw.id,t_icmo
	
		 
       		<include refid="DispatchWork.findPage.where"/>
       		and t_dispatch_work.workid=t_icmo.icmoid
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	 </isNotEmpty>    
	  
	   	<include refid="DispatchWork.findPage.and"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    <!-- 
    <select id="DispatchWork.findPage" resultMap="RM.DispatchWork">
    	select <include refid="DispatchWork.columns"/>
	    
	        from t_dispatch_work 
	   
		<include refid="DispatchWork.findPage.where"/>		
		<isNotEmpty property="sortColumns">ORDER BY $sortColumns$</isNotEmpty>
		
    </select>
 -->

	
</sqlMap>
