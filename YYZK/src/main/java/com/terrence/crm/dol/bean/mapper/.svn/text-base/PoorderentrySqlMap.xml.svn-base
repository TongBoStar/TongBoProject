<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Poorderentry">

        
	<resultMap id="RM.Poorderentry" class="com.terrence.crm.dol.bean.Poorderentry">
        <result property="orderid" column="orderid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
        <result property="price" column="price"/>
        <result property="fqty" column="fqty"/>
        <result property="unitname" column="unitname"/>
        <result property="mrpclosed" column="mrpclosed"/>
        <result property="itemid" column="itemid"/>
        <result property="sendstatus" column="sendstatus"/>
        <result property="sendtime" column="sendtime"/>
        <result property="createtime" column="createtime"/>
        <result property="buystatus" column="buystatus"/>
        <result property="fcurrencyid" column="fcurrencyid"/>
        <result property="ftaxprice" column="ftaxprice"/>
        <result property="ftaxamount" column="ftaxamount"/>
        <result property="famount" column="famount"/>
        <result property="fdate" column="fdate"/>
        <result property="f101" column="f_101"/>
        <result property="f102" column="f_102"/>
        <result property="empid" column="empid"/>
        <result property="deptid" column="deptid"/>
        <result property="ispush" column="ispush"/>
        <result property="anumber" column="anumber"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="issync" column="issync"/>
        <result property="reqcomment" column="reqcomment"/>
        <result property="fcomment" column="fcomment"/>
        <result property="supplierid" column="supplierid"/>
        <result property="fcess" column="fcess"/>
        <result property="bought" column="bought"/>
        <result property="putqty" column="putqty"/>
        <result property="makecodeNumber" column="makecodeNumber"/>
    </resultMap>
	
	 
	 <resultMap id="RM.Poorderentry.poorder.list" class="com.terrence.crm.dol.bean.Poorderentry">
        <result property="orderid" column="orderid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
        <result property="price" column="price"/>
        <result property="fqty" column="fqty"/>
        <result property="unitname" column="unitname"/>
        <result property="mrpclosed" column="mrpclosed"/>
        <result property="itemid" column="itemid"/>
        <result property="sendstatus" column="sendstatus"/>
        <result property="sendtime" column="sendtime"/>
        <result property="createtime" column="createtime"/>
        <result property="buystatus" column="buystatus"/>
        <result property="fcurrencyid" column="fcurrencyid"/>
        <result property="ftaxprice" column="ftaxprice"/>
        <result property="ftaxamount" column="ftaxamount"/>
        <result property="famount" column="famount"/>
        <result property="fdate" column="fdate"/>
        <result property="f101" column="f_101"/>
        <result property="f102" column="f_102"/>
        <result property="empid" column="empid"/>
        <result property="deptid" column="deptid"/>
        <result property="ispush" column="ispush"/>
        <result property="anumber" column="anumber"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="issync" column="issync"/>
        <result property="reqcomment" column="reqcomment"/>
        <result property="fcomment" column="fcomment"/>
        <result property="supplierid" column="supplierid"/>
        <result property="fcess" column="fcess"/>
        <result property="bought" column="bought"/>
        <result property="putqty" column="putqty"/>
        <result property="spname" column="spname"/>
        <result property="admin" resultMap="RM.Admin.Poorderentry.list"/>
        <result property="supplier" resultMap="RM.Supplier.Poorderentry.fname.list"/>
        <result property="depart" resultMap="RM.Department.Poorderentry.teamname.select2"/>
        <result property="poorder" resultMap="RM.Poorder.for.Poorderentry"/>
        <result property="currency" resultMap="RM.Currency.for.poorderentry"/>
        <result property="positionid" column="positionid"/>
        <result property="positionname" column="positionname"/>
        <result property="baseitem" resultMap="RM.BaseItem.in.poorderentry"/>
        <result property="fsysdate" column="fsysdate"/>
        
        <result property="stockfname" column="stockfname"/>
        
        <result property="stockid" column="stockid"/>
        
        <result property="pdcomment" column="pdcomment"/>
        <result property="isold" column="isold"/>
        <result property="jobno" column="jobno"/>
        <result property="makecodeNumber" column="makecodeNumber"/>
    </resultMap>
    
    
    <resultMap id="RM.Poorderentry.poorder.list.detail.total.sum" class="com.terrence.crm.dol.bean.Poorderentry"><!-- 汇总列表查询 -->
        <result property="orderid" column="orderid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
        <result property="price" column="price"/>
        <result property="fqty" column="fqty"/>
        <result property="unitname" column="unitname"/>
        <result property="mrpclosed" column="mrpclosed"/>
        <result property="itemid" column="itemid"/>
        <result property="sendstatus" column="sendstatus"/>
        <result property="sendtime" column="sendtime"/>
        <result property="createtime" column="createtime"/>
        <result property="buystatus" column="buystatus"/>
        <result property="fcurrencyid" column="fcurrencyid"/>
        <result property="ftaxprice" column="ftaxprice"/>
        <result property="ftaxamount" column="ftaxamount"/>
        <result property="famount" column="famount"/>
        <result property="fdate" column="fdate"/>
        <result property="f101" column="f_101"/>
        <result property="f102" column="f_102"/>
        <result property="empid" column="empid"/>
        <result property="deptid" column="deptid"/>
        <result property="ispush" column="ispush"/>
        <result property="anumber" column="anumber"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="issync" column="issync"/>
        <result property="reqcomment" column="reqcomment"/>
        <result property="fcomment" column="fcomment"/>
        <result property="supplierid" column="supplierid"/>
        <result property="fcess" column="fcess"/>
        <result property="bought" column="bought"/>
        <result property="putqty" column="putqty"/>
        <result property="spname" column="spname"/>
        <result property="admin" resultMap="RM.Admin.Poorderentry.list"/>
        <result property="supplier" resultMap="RM.Supplier.Poorderentry.fname.list"/>
        <result property="depart" resultMap="RM.Department.Poorderentry.teamname.select2"/>
        <result property="poorder" resultMap="RM.Poorder.for.Poorderentry"/>
        <result property="currency" resultMap="RM.Currency.for.poorderentry"/>
        <result property="positionid" column="positionid"/>
        <result property="positionname" column="positionname"/>
        <result property="baseitem" resultMap="RM.BaseItem.in.poorderentry"/>
        <result property="fsysdate" column="fsysdate"/>
        
        <result property="stockfname" column="stockfname"/>
        
        <result property="stockid" column="stockid"/>
        <result property="totalsum" column="totalsum"/>
        <result property="sumtotal" column="sumtotal"/>
        <result property="pdcomment" column="pdcomment"/>
        <result property="makecodeNumber" column="makecodeNumber"/>
    </resultMap>
    
    <resultMap id="RM.Poorderentry.tongbudata" class="com.terrence.crm.dol.bean.Poorderentry"><!-- 查询同步用 -->
        <result property="orderid" column="orderid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
        <result property="price" column="price"/>
        <result property="fqty" column="fqty"/>
        <result property="unitname" column="unitname"/>
        <result property="mrpclosed" column="mrpclosed"/>
        <result property="itemid" column="itemid"/>
        <result property="sendstatus" column="sendstatus"/>
        <result property="sendtime" column="sendtime"/>
        <result property="createtime" column="createtime"/>
        <result property="buystatus" column="buystatus"/>
        <result property="fcurrencyid" column="fcurrencyid"/>
        <result property="ftaxprice" column="ftaxprice"/>
        <result property="ftaxamount" column="ftaxamount"/>
        <result property="famount" column="famount"/>
        <result property="fdate" column="fdate"/>
        <result property="f101" column="f_101"/>
        <result property="f102" column="f_102"/>
        <result property="empid" column="empid"/>
        <result property="deptid" column="deptid"/>
        <result property="ispush" column="ispush"/>
        <result property="anumber" column="anumber"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="issync" column="issync"/>
        <result property="reqcomment" column="reqcomment"/>
        <result property="fcomment" column="fcomment"/>
        <result property="supplierid" column="supplierid"/>
        <result property="fcess" column="fcess"/>
        <result property="bought" column="bought"/>
        <result property="putqty" column="putqty"/>
        <result property="makecodeNumber" column="makecodeNumber"/>
        <result property="baseitem" column="itemcode" select="Poorderentry.find.baseitem.in.poorderentry"/>
    </resultMap>
    
     <resultMap id="RM.BaseItem.in.poorderentry.tongbudata" class="com.terrence.crm.dol.bean.BaseItem">
        <result property="fitemid" column="fitemid"/>
        <result property="unitid" column="unitid"/>
    </resultMap>
    
    
    <resultMap id="RM.BaseItem.in.poorderentry" class="com.terrence.crm.dol.bean.BaseItem">
        <result property="fissnmanager" column="fissnmanager"/>
    </resultMap>
    
     <resultMap id="RM.Admin.Poorderentry.list" class="com.terrence.crm.dol.bean.Admin">
        <result property="adminName" column="adminName"/>
    </resultMap>
    <resultMap id="RM.Supplier.Poorderentry.fname.list" class="com.terrence.crm.dol.bean.Supplier">
        <result property="fname" column="fname"/>
    </resultMap>
	<resultMap id="RM.Department.Poorderentry.teamname.select2" class="com.terrence.crm.dol.bean.Department">
        <result property="teamname" column="teamname"/>
    </resultMap>
	 <resultMap id="RM.Currency.for.poorderentry" class="com.terrence.crm.dol.bean.Currency">
        <result property="fname" column="fname"/>
    </resultMap>
	 
	  
	 <resultMap id="RM.Poorder.for.Poorderentry" class="com.terrence.crm.dol.bean.Poorder">
        <result property="finterid" column="finterid"/>
        <result property="fbillno" column="fbillno"/>
        <result property="fclosed" column="fclosed"/>
        <result property="fdate" column="fdate"/>
        <result property="fmultichecklevel1" column="fmultichecklevel1"/>
        <result property="fmultichecklevel2" column="fmultichecklevel2"/>
        <result property="fmultichecklevel3" column="fmultichecklevel3"/>
        <result property="fmulticheckdate1" column="fmulticheckdate1"/>
        <result property="fmulticheckdate2" column="fmulticheckdate2"/>
        <result property="fmulticheckdate3" column="fmulticheckdate3"/>
        <result property="fstatus" column="fstatus"/>
        <result property="fempid" column="fempid"/>
        <result property="fdetpid" column="fdetpid"/>
        <result property="fexchangeratetype" column="fexchangeratetype"/>
        <result property="fareaps" column="fareaps"/>
        <result property="fpostyle" column="fpostyle"/>
        <result property="fexchangerate" column="fexchangerate"/>
        <result property="fcurrencyid" column="fcurrencyid"/>
        <result property="fbillerid" column="fbillerid"/>
        <result property="fsupplyid" column="fsupplyid"/>
        <result property="fsysstatus" column="fsysstatus"/>
        <result property="fcheckerid" column="fcheckerid"/>
        <result property="fcheckdate" column="fcheckdate"/>
        <result property="issync" column="issync"/>
        <result property="ftotalcostfor" column="ftotalcostfor"/>
        <result property="fseltrantype" column="fseltrantype"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="fcurchecklevel" column="fcurchecklevel"/>
        <result property="fcomment" column="fcomment"/>
        
        <result property="fxmark" column="fxmark"/>
    </resultMap>
    
    
    
    
    <resultMap id="RM.Poorderentry.for.icitem" class="com.terrence.crm.dol.bean.Poorderentry"><!-- 查询物料是否需要检验 -->
        <result property="orderid" column="orderid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
        <result property="price" column="price"/>
        <result property="fqty" column="fqty"/>
        <result property="unitname" column="unitname"/>
        <result property="mrpclosed" column="mrpclosed"/>
        <result property="itemid" column="itemid"/>
        <result property="sendstatus" column="sendstatus"/>
        <result property="sendtime" column="sendtime"/>
        <result property="createtime" column="createtime"/>
        <result property="buystatus" column="buystatus"/>
        <result property="fcurrencyid" column="fcurrencyid"/>
        <result property="ftaxprice" column="ftaxprice"/>
        <result property="ftaxamount" column="ftaxamount"/>
        <result property="famount" column="famount"/>
        <result property="fdate" column="fdate"/>
        <result property="f101" column="f_101"/>
        <result property="f102" column="f_102"/>
        <result property="empid" column="empid"/>
        <result property="deptid" column="deptid"/>
        <result property="ispush" column="ispush"/>
        <result property="anumber" column="anumber"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="issync" column="issync"/>
        <result property="reqcomment" column="reqcomment"/>
        <result property="fcomment" column="fcomment"/>
        <result property="bought" column="bought"/>
        <result property="putqty" column="putqty"/>
        <result property="supplierid" column="supplierid"/>
        <result property="fcess" column="fcess"/>
        <result property="makecodeNumber" column="makecodeNumber"/>
        <result property="icitem" resultMap="RM.Icitem.in.poorderentry"/>
        <result property="poorder" resultMap="RM.Poorder.for.icitem.find"/>
         <result property="supplier" resultMap="RM.Supplier.Poorderentry.fname.list"/>
        <result property="depart" resultMap="RM.Department.Poorderentry.teamname.select2"/>
    </resultMap>
    <resultMap id="RM.Icitem.in.poorderentry" class="com.terrence.crm.dol.bean.Icitems"><!-- 查询物料是否需要检验 -->
        <result property="baseitemid" column="baseitemid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="formatno" column="formatno"/>
        <result property="unitid" column="unitid"/>
        <result property="unitname" column="unitname"/>
        <result property="isbatch" column="isbatch"/>
        <result property="responsible" column="responsible"/>
        <result property="supplierid" column="supplierid"/>
        <result property="finspectionlevel" column="finspectionlevel"/>
    </resultMap>
	
	<resultMap id="RM.Poorder.for.icitem.find" class="com.terrence.crm.dol.bean.Poorder">
        <result property="fbillno" column="fbillno"/>
        <result property="fdate" column="fdate"/>
         <result property="fempid" column="fempid"/>
         <result property="fxmark" column="fxmark"/>
    </resultMap>
    
    <resultMap id="RM.Poorderentry.find.findlistp" class="com.terrence.crm.dol.bean.Poorderentry"><!-- 删除订单时的明细查询 -->
        <result property="orderid" column="orderid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
        <result property="price" column="price"/>
        <result property="fqty" column="fqty"/>
        <result property="unitname" column="unitname"/>
        <result property="mrpclosed" column="mrpclosed"/>
        <result property="itemid" column="itemid"/>
        <result property="sendstatus" column="sendstatus"/>
        <result property="sendtime" column="sendtime"/>
        <result property="createtime" column="createtime"/>
        <result property="buystatus" column="buystatus"/>
        <result property="fcurrencyid" column="fcurrencyid"/>
        <result property="ftaxprice" column="ftaxprice"/>
        <result property="ftaxamount" column="ftaxamount"/>
        <result property="famount" column="famount"/>
        <result property="fdate" column="fdate"/>
        <result property="f101" column="f_101"/>
        <result property="f102" column="f_102"/>
        <result property="empid" column="empid"/>
        <result property="deptid" column="deptid"/>
        <result property="ispush" column="ispush"/>
        <result property="anumber" column="anumber"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="issync" column="issync"/>
        <result property="reqcomment" column="reqcomment"/>
        <result property="fcomment" column="fcomment"/>
        <result property="supplierid" column="supplierid"/>
        <result property="fcess" column="fcess"/>
        <result property="bought" column="bought"/>
        <result property="putqty" column="putqty"/>
        <result property="makecodeNumber" column="makecodeNumber"/>
        <result property="detailPoid" column="detailPoid"/>
    </resultMap>


	<resultMap id="Poorderentry.zhaoshuju.delete.data" class="com.terrence.crm.dol.bean.Poorderentry">
        <result property="orderid" column="orderid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
        <result property="price" column="price"/>
        <result property="fqty" column="fqty"/>
        <result property="unitname" column="unitname"/>
        <result property="mrpclosed" column="mrpclosed"/>
        <result property="itemid" column="itemid"/>
        <result property="sendstatus" column="sendstatus"/>
        <result property="sendtime" column="sendtime"/>
        <result property="createtime" column="createtime"/>
        <result property="buystatus" column="buystatus"/>
        <result property="fcurrencyid" column="fcurrencyid"/>
        <result property="ftaxprice" column="ftaxprice"/>
        <result property="ftaxamount" column="ftaxamount"/>
        <result property="famount" column="famount"/>
        <result property="fdate" column="fdate"/>
        <result property="f101" column="f_101"/>
        <result property="f102" column="f_102"/>
        <result property="empid" column="empid"/>
        <result property="deptid" column="deptid"/>
        <result property="ispush" column="ispush"/>
        <result property="anumber" column="anumber"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="issync" column="issync"/>
        <result property="reqcomment" column="reqcomment"/>
        <result property="fcomment" column="fcomment"/>
        <result property="supplierid" column="supplierid"/>
        <result property="fcess" column="fcess"/>
        <result property="bought" column="bought"/>
        <result property="putqty" column="putqty"/>
        <result property="detailPoid" column="detailPoid"/>
        <result property="makecodeNumber" column="makecodeNumber"/>
    </resultMap>
    
    
    <resultMap id="poorder.find.detail.execution.data" class="com.terrence.crm.dol.bean.Poorderentry"><!--采购订单执行明细查询  -->
        <result property="orderid" column="orderid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
       <result property="price" column="price"/>
        <result property="fqty" column="fqty"/>
        <result property="unitname" column="unitname"/>
        <result property="mrpclosed" column="mrpclosed"/>
        <result property="itemid" column="itemid"/>
        <result property="sendstatus" column="sendstatus"/>
        <result property="sendtime" column="sendtime"/>
        <result property="createtime" column="createtime"/>
        <result property="buystatus" column="buystatus"/>
        <result property="fcurrencyid" column="fcurrencyid"/>
        <result property="ftaxprice" column="ftaxprice"/>
        <result property="ftaxamount" column="ftaxamount"/>
        <result property="famount" column="famount"/>
        <result property="fdate" column="fdate"/>
        <result property="f101" column="f_101"/>
        <result property="f102" column="f_102"/>
        <result property="empid" column="empid"/>
        <result property="deptid" column="deptid"/>
        <result property="ispush" column="ispush"/>
        <result property="anumber" column="anumber"/>
        <result property="fsourcebillno" column="fsourcebillno"/>
        <result property="issync" column="issync"/>
        <result property="reqcomment" column="reqcomment"/>
        <result property="fcomment" column="fcomment"/>
        <result property="supplierid" column="supplierid"/>
        <result property="fcess" column="fcess"/>
        <result property="bought" column="bought"/>
        <result property="putqty" column="putqty"/>
        <result property="detailPoid" column="detailPoid"/>
        <result property="fbillno" column="fbillno"/>
        <result property="suppliername" column="suppliername"/>
        <result property="adminName" column="adminName"/>
        <result property="baseitem" resultMap="MR.baseitem.buytime.data"/>
         <result property="finspectionlevel" column="finspectionlevel"/> 
       <result property="makecodeNumber" column="makecodeNumber"/>
         <result property="itemwaitList" column="orderid" select="itemwait.select.detail.poorderentry"/>
        <result property="putstorageentityList" column="orderid" select="putstorageentity.select.data.detail.pooderentry"/>
        <result property="porequestentryList" column="detailPoid" select="porequestentry.select.pooderentry.data.detail"/>
        
        <result property="waitputList" column="orderid" select="putstorageentity.select.data.detail.pooderentry.waititem"/>
        
        <result property="pooputList"  column="orderid" select="poorderentry.putstorageentity.arrival.time.select"/>
        
        <result property="poowaitList"  column="orderid" select="poorderentry.itemwait.arrival.time.select"/> 
        
    </resultMap>
	<resultMap class="com.terrence.crm.dol.bean.Poorderentry" id="poorderentry.putstorageentity.arrival.time">
		<result property="poorputvalTime" column="poorputvalTime"/>
	</resultMap>
	<resultMap class="com.terrence.crm.dol.bean.Poorderentry" id="poorderentry.itemwait.arrival.time">
		<result property="poorwaitvalTime" column="poorwaitvalTime"/>
	</resultMap>
    <resultMap id="itemwait.data.in.poorderentry.for.execution.detail" class="com.terrence.crm.dol.bean.ItemWait">
        <result property="waitid" column="waitid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="batchno" column="batchno"/>
        <result property="status" column="status"/>
        <result property="sizestatus" column="sizestatus"/>
        <result property="createdate" column="createdate"/>
        <result property="checkdate" column="checkdate"/>
        <result property="sizedate" column="sizedate"/>
        <result property="fqty" column="fqty"/>
        <result property="unit" column="unit"/>
        <result property="review1" column="review1"/>
        <result property="review2" column="review2"/>
        <result property="checker1" column="checker1"/>
        <result property="checker2" column="checker2"/>
        <result property="iscolsed" column="iscolsed"/>
        <result property="suppler" column="suppler"/>
        <result property="acceptfqty" column="acceptfqty"/>
        <result property="checkname" column="checkname"/>
        <result property="ruling" column="ruling"/>
        <result property="checkmode" column="checkmode"/>
        <result property="indate" column="indate"/>
        <result property="reportno" column="reportno"/>
        <result property="reviewstatus1" column="reviewstatus1"/>
        <result property="reviewstatus2" column="reviewstatus2"/>
        <result property="describe" column="describe"/>
        <result property="fitemid" column="fitemid"/>
        <result property="poorderno" column="poorderno"/>
        <result property="pushqty" column="pushqty"/>
        <result property="isclose" column="isclose"/>
        <result property="empid" column="empid"/>
        <result property="orderid" column="orderid"/>
        <result property="nopassfqty" column="nopassfqty"/>
        <result property="explains" column="explains"/>
        <result property="procstatus" column="procstatus"/>
        <result property="checkemp" column="checkemp"/>
        <result property="fxmark" column="fxmark"/>
         <result property="sampling" column="sampling"/>
         <result property="ftotalfqty" column="ftotalfqty"/>
         <result property="concessionsum" column="concessionsum"/>
         <result property="waitinputTime" column="waitinputTime"/>
         <result property="arrivalTime" column="arrivalTime"/>
         <result property="waitvalTime" column="waitvalTime"/>
    </resultMap>
   
    
    	<resultMap id="putstorageentity.data.in.poorderentry.for.execution.detail" class="com.terrence.crm.dol.bean.Putstorageentity">
        <result property="entityid" column="entityid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="storageid" column="storageid"/>
        <result property="createdate" column="createdate"/>
        <result property="unitid" column="unitid"/>
        <result property="fqty" column="fqty"/>
        <result property="fbatchno" column="fbatchno"/>
        <result property="poorderno" column="poorderno"/>
        <result property="fsrcinterid" column="fsrcinterid"/>
        <result property="orderid" column="orderid"/>
        <result property="fxmark" column="fxmark"/>
        <result property="fsourcewin" column="fsourcewin"/>
        <result property="oldentityid" column="oldentityid"/>
        <result property="fcommitqy" column="fcommitqy"/>
        <result property="tovoid" column="tovoid"/>
         <result property="waitid" column="waitid"/>
         <result property="fbillno" column="fbillno"/>
         <result property="putcheckdate" column="putcheckdate"/>
         <result property="shname" column="shname"/>
         <result property="inputtime" column="inputtime"/>
         
         <!-- <result property="mmeList" column="{fbatchno=fbatchno,itemcode=itemcode}" select="select.icmo.checkrecord.data"/> -->
    </resultMap>
    
    
    <resultMap id="putstorageentity.data.daohuo.itemwait.porequestentry" class="com.terrence.crm.dol.bean.Putstorageentity">
        <result property="entityid" column="entityid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="storageid" column="storageid"/>
        <result property="createdate" column="createdate"/>
        <result property="unitid" column="unitid"/>
        <result property="fqty" column="fqty"/>
        <result property="fbatchno" column="fbatchno"/>
        <result property="poorderno" column="poorderno"/>
        <result property="fsrcinterid" column="fsrcinterid"/>
        <result property="orderid" column="orderid"/>
        <result property="fxmark" column="fxmark"/>
        <result property="fsourcewin" column="fsourcewin"/>
        <result property="oldentityid" column="oldentityid"/>
        <result property="fcommitqy" column="fcommitqy"/>
        <result property="tovoid" column="tovoid"/>
         <result property="waitid" column="waitid"/>
         <result property="daoTime" column="daoTime"/>
         <result property="poordaoTime" column="poordaoTime"/>
    </resultMap>
    <resultMap id="porequestentry.data.in.poorderentry.for.execution.detail" class="com.terrence.crm.dol.bean.Porequestentry">
        <result property="poid" column="poid"/>
        <result property="inventoryid" column="inventoryid"/>
        <result property="finterid" column="finterid"/>
        <result property="itemcode" column="itemcode"/>
        <result property="itemname" column="itemname"/>
        <result property="itemmode" column="itemmode"/>
        <result property="amount" column="amount"/>
        <result property="createdate" column="createdate"/>
        <result property="startdate" column="startdate"/>
        <result property="rta" column="rta"/>
        <result property="ata" column="ata"/>
        <result property="status" column="status"/>
        <result property="issend" column="issend"/>
        <result property="unitname" column="unitname"/>
        <result property="fbillno" column="fbillno"/>
        <result property="bompushid" column="bompushid"/>
        <result property="fmrpclosed" column="fmrpclosed"/>
        <result property="fcomment" column="fcomment"/>
        <result property="ispush" column="ispush"/>
        <result property="supplyid" column="supplyid"/>
        <result property="empid" column="empid"/>
        <result property="deptid" column="deptid"/>
        <result property="f101" column="f_101"/>
        <result property="f102" column="f_102"/>
        <result property="porequest" resultMap="MR.porequest.entity.data"/>
        <result property="ddays" column="ddays"/>
        <result property="baseitem" resultMap="MR.baseitem.buytime.data"/>
        <result property="rationalityDays" column="rationalityDays"/>
        <result property="zqarrivaldate" column="zqarrivaldate"/>
    </resultMap>
    <resultMap id="MR.porequest.entity.data" class="com.terrence.crm.dol.bean.Porequest">
        <result property="checkdate" column="checkdate"/>
    </resultMap>
    
    <resultMap id="MR.baseitem.buytime.data" class="com.terrence.crm.dol.bean.BaseItem">
    	 <result property="buytime" column="buytime"/>
     </resultMap>
     
   <!-- -<resultMap id="MachineMatchEntity.sumdata.in.poorderentry" class="com.terrence.crm.dol.bean.MachineMatchEntity">
       <result property="sumrepairnum" column="sumrepairnum"/>
       <result property="sumreceivernum" column="sumreceivernum"/>
       <result property="sumitemdiscard" column="sumitemdiscard"/>
    </resultMap> -->  
    
    
    <resultMap id="Poorderentry.k3fbillno.result.data" class="com.terrence.crm.dol.bean.Poorderentry">
        <result property="jobno" column="jobno"/>
        <result property="isold" column="isold"/>
    </resultMap>
    
    
    <resultMap class="com.terrence.crm.dol.bean.Poorderentry" id="Poorderentry.find.data.for.itemcode.and.fqty">
    	<result property="itemcode" column="itemcode"/>
    	<result property="fqty" column="fqty"/>
    	<result property="fxmark" column="fxmark"/>
    </resultMap>
    
    
    
	<!-- 用于select查询公用抽取的列 -->
	<sql id="Poorderentry.columns">
	    <![CDATA[
        	t_poorderentry.orderid ,
        	t_poorderentry.finterid ,
        	t_poorderentry.itemcode ,
        	t_poorderentry.itemname ,
        	t_poorderentry.itemmode ,
        	t_poorderentry.price ,
        	t_poorderentry.fqty ,
        	t_poorderentry.unitname ,
        	t_poorderentry.mrpclosed ,
        	t_poorderentry.itemid ,
        	t_poorderentry.sendstatus ,
        	t_poorderentry.sendtime ,
        	t_poorderentry.createtime ,
        	t_poorderentry.buystatus ,
        	t_poorderentry.fcurrencyid ,
        	t_poorderentry.ftaxprice ,
        	t_poorderentry.ftaxamount ,
        	t_poorderentry.famount ,
        	t_poorderentry.fdate ,
        	t_poorderentry.f_101 ,
        	t_poorderentry.f_102 ,
        	t_poorderentry.empid ,
        	t_poorderentry.deptid ,
        	t_poorderentry.ispush ,
        	t_poorderentry.anumber ,
        	t_poorderentry.fsourcebillno ,
        	t_poorderentry.issync ,
        	t_poorderentry.reqcomment ,
        	t_poorderentry.fcomment ,
        	t_poorderentry.supplierid ,
        	t_poorderentry.fcess ,
        	t_poorderentry.bought,
        	t_poorderentry.putqty,
        	t_poorderentry.makecodeNumber
	    ]]>
	</sql>
	
   <insert id="Poorderentry.insert" >
    <![CDATA[
        INSERT INTO
        t_poorderentry (
        	finterid ,
        	itemcode ,
        	itemname ,
        	itemmode ,
        	price ,
        	fqty ,
        	unitname ,
        	mrpclosed ,
        	itemid ,
        	sendstatus ,
        	sendtime ,
        	createtime ,
        	buystatus ,
        	fcurrencyid ,
        	ftaxprice ,
        	ftaxamount ,
        	famount ,
        	fdate ,
        	f_101 ,
        	f_102 ,
        	empid ,
        	deptid ,
        	ispush ,
        	anumber ,
        	fsourcebillno ,
        	issync ,
        	reqcomment ,
        	fcomment ,
        	supplierid ,
        	fcess,
        	bought,
        	putqty,
        	makecodeNumber
        ) VALUES (
        	#finterid# ,
        	#itemcode# ,
        	#itemname# ,
        	#itemmode# ,
        	#price# ,
        	#fqty# ,
        	#unitname# ,
        	#mrpclosed# ,
        	#itemid# ,
        	#sendstatus# ,
        	#sendtime# ,
        	#createtime# ,
        	#buystatus# ,
        	#fcurrencyid# ,
        	#ftaxprice# ,
        	#ftaxamount# ,
        	#famount# ,
        	#fdate# ,
        	#f101# ,
        	#f102# ,
        	#empid# ,
        	#deptid# ,
        	#ispush# ,
        	#anumber# ,
        	#fsourcebillno# ,
        	#issync# ,
        	#reqcomment# ,
        	#fcomment# ,
        	#supplierid# ,
        	#fcess#,
        	#bought#,
        	#putqty#,
        	#makecodeNumber#
        )
    ]]> 
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="orderid" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>
    
    
    <insert id="Poorderentry.porequestentry.insert" ><!-- 添加 明细-->
        INSERT INTO
        t_poorderentry (
        	mrpclosed ,sendstatus,ispush
        	 <isNotEmpty prepend="," property="finterid">
	        	finterid  
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemcode">
	        	itemcode 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemname">
	        	itemname 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemmode">
	        	itemmode 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="price">
	        	price 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fqty">
	        	fqty 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="unitname">
	        	unitname
	        </isNotEmpty>
	       
	        <isNotEmpty prepend="," property="itemid">
	        	itemid
	        </isNotEmpty>
	      
	        <isNotEmpty prepend="," property="sendtime">
	        	sendtime
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createtime">
	        	createtime 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="buystatus">
	        	buystatus
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcurrencyid">
	        	fcurrencyid
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftaxprice">
	        	ftaxprice
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftaxamount">
	        	ftaxamount
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="famount">
	        	famount 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdate">
	        	fdate
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="f101">
	        	f_101
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="f102">
	        	f_102
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="empid">
	        	empid
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="deptid">
	        	deptid
	        </isNotEmpty>
	       
	        <isNotEmpty prepend="," property="anumber">
	        	anumber
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsourcebillno">
	        	fsourcebillno
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="issync">
	        	issync
	        </isNotEmpty>
	          <isNotEmpty prepend="," property="reqcomment">
	        	reqcomment
	        </isNotEmpty>
	          <isNotEmpty prepend="," property="fcomment">
	        	fcomment
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="supplierid">
	        	supplierid
	        </isNotEmpty>
	          <isNotEmpty prepend="," property="fcess">
	        	fcess
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bought">
	        	bought
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="putqty">
	        	putqty
	        </isNotEmpty>
	        
	         <isNotEmpty prepend="," property="detailPoid">
	        	detailPoid
	        </isNotEmpty>
	        
	         <isNotEmpty prepend="," property="stockid">
	        	stockid
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="makecodeNumber">
	        	makecodeNumber
	        </isNotEmpty>
        ) VALUES (
        		#mrpclosed# ,#sendstatus#,#ispush#
        	 <isNotEmpty prepend="," property="finterid">
	        	#finterid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemcode"	>
	        	#itemcode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemname">
	        	#itemname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemmode">
	        	#itemmode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="price">
	        	#price# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fqty">
	        	#fqty# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="unitname">
	        	#unitname# 
	        </isNotEmpty>
	       
	        <isNotEmpty prepend="," property="itemid">
	        	#itemid# 
	        </isNotEmpty>
	       
	        <isNotEmpty prepend="," property="sendtime">
	        	#sendtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createtime">
	        	#createtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="buystatus">
	        	#buystatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcurrencyid">
	        	#fcurrencyid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftaxprice">
	        	#ftaxprice# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftaxamount">
	        	#ftaxamount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="famount">
	        	#famount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdate">
	        	#fdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="f101">
	        	#f101# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="f102">
	        	#f102# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="empid">
	        	#empid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="deptid">
	        	#deptid# 
	        </isNotEmpty>
	       
	        <isNotEmpty prepend="," property="anumber">
	        	#anumber# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsourcebillno">
	        	#fsourcebillno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="issync">
	        	#issync# 
	        </isNotEmpty>
	          <isNotEmpty prepend="," property="reqcomment">
	        	#reqcomment# 
	        </isNotEmpty>
	          <isNotEmpty prepend="," property="fcomment">
	        	#fcomment# 
	        </isNotEmpty>
	          <isNotEmpty prepend="," property="supplierid">
	        	#supplierid#
	        </isNotEmpty>
	          <isNotEmpty prepend="," property="fcess">
	        	#fcess#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bought">
	        	#bought#
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="putqty">
	        	#putqty#
	        </isNotEmpty>
	        
	          <isNotEmpty prepend="," property="detailPoid">
	        	#detailPoid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="stockid">
	        	#stockid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="makecodeNumber">
	        	#makecodeNumber#
	        </isNotEmpty>
        )
    <!--
    mysql:		type="post" SELECT  select last_insert_id()
    sqlserver:	type="post" SELECT  @@identity  AS  ID
    oracle:		type="pre" 	SELECT  sequenceName.nextval AS ID FROM DUAL
    DB2:		type="pre"	values nextval for sequenceName
    -->
        <selectKey resultClass="java.lang.Long" type="post" keyProperty="orderid" >
            SELECT  @@identity  AS  ID
        </selectKey>
    </insert>

	<update id="Poorderentry.update" parameterClass="com.terrence.crm.dol.bean.Poorderentry">         
        UPDATE t_poorderentry 
        <dynamic prepend="SET">
	        <isNotEmpty prepend="," property="finterid">
	        	finterid = #finterid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemcode">
	        	itemcode = #itemcode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemname">
	        	itemname = #itemname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemmode">
	        	itemmode = #itemmode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="price">
	        	price = #price# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fqty">
	        	fqty = #fqty# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="unitname">
	        	unitname = #unitname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="mrpclosed">
	        	mrpclosed = #mrpclosed# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemid">
	        	itemid = #itemid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="sendstatus">
	        	sendstatus = #sendstatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="sendtime">
	        	sendtime = #sendtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createtime">
	        	createtime = #createtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="buystatus">
	        	buystatus = #buystatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcurrencyid">
	        	fcurrencyid = #fcurrencyid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftaxprice">
	        	ftaxprice = #ftaxprice# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftaxamount">
	        	ftaxamount = #ftaxamount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="famount">
	        	famount = #famount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdate">
	        	fdate = #fdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="f101">
	        	f_101 = #f101# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="f102">
	        	f_102 = #f102# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="empid">
	        	empid = #empid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="deptid">
	        	deptid = #deptid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ispush">
	        	ispush = #ispush# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="anumber">
	        	anumber = #anumber# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsourcebillno">
	        	fsourcebillno = #fsourcebillno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="issync">
	        	issync = #issync# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="reqcomment">
	        	reqcomment = #reqcomment# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcomment">
	        	fcomment = #fcomment# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="supplierid">
	        	supplierid = #supplierid# 
	        </isNotEmpty>
	          <isNotEmpty prepend="," property="fcess">
	        	fcess = #fcess#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bought">
	        	bought = #bought#
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="putqty">
	        	putqty = #putqty#
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="jobno">
	        	jobno=#jobno#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="isold">
	        	isold=#isold#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="makecodeNumber">
	        	makecodeNumber=#makecodeNumber#
	        </isNotEmpty>
	    </dynamic>
        WHERE 
	        orderid = #orderid# 
    </update>
    
    <update id="Poorderentry.update.for.detail" parameterClass="com.terrence.crm.dol.bean.Poorderentry"><!-- 明细修改 -->         
        UPDATE t_poorderentry 
        <dynamic prepend="SET">
	        <isNotEmpty prepend="," property="finterid">
	        	finterid = #finterid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemcode">
	        	itemcode = #itemcode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemname">
	        	itemname = #itemname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemmode">
	        	itemmode = #itemmode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="price">
	        	price = #price# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fqty">
	        	fqty = #fqty# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="unitname">
	        	unitname = #unitname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="mrpclosed">
	        	mrpclosed = #mrpclosed# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemid">
	        	itemid = #itemid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="sendstatus">
	        	sendstatus = #sendstatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="sendtime">
	        	sendtime = #sendtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createtime">
	        	createtime = #createtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="buystatus">
	        	buystatus = #buystatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcurrencyid">
	        	fcurrencyid = #fcurrencyid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftaxprice">
	        	ftaxprice = #ftaxprice# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftaxamount">
	        	ftaxamount = #ftaxamount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="famount">
	        	famount = #famount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdate">
	        	fdate = #fdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="f101">
	        	f_101 = #f101# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="f102">
	        	f_102 = #f102# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="empid">
	        	empid = #empid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="deptid">
	        	deptid = #deptid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ispush">
	        	ispush = #ispush# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="anumber">
	        	anumber = #anumber# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsourcebillno">
	        	fsourcebillno = #fsourcebillno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="issync">
	        	issync = #issync# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="reqcomment">
	        	reqcomment = #reqcomment# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcomment">
	        	fcomment = #fcomment# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="supplierid">
	        	supplierid = #supplierid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcess">
	        	fcess = #fcess#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bought">
	        	bought = #bought#
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="putqty">
	        	putqty = #putqty#
	        </isNotEmpty>
	        
	         <isNotEmpty prepend="," property="stockid">
	        	stockid = #stockid#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="makecodeNumber">
	        	makecodeNumber=#makecodeNumber#
	        </isNotEmpty>
	    </dynamic>
        WHERE 
	        orderid = #orderid# 
    </update>
    
    <update id="Poorderentry.update.forIspush" parameterClass="com.terrence.crm.dol.bean.Poorderentry"><!-- 下推修改 (批量的修改)-->         
        UPDATE t_poorderentry 
        <dynamic prepend="SET">
	        <isNotEmpty prepend="," property="finterid">
	        	finterid = #finterid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemcode">
	        	itemcode = #itemcode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemname">
	        	itemname = #itemname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemmode">
	        	itemmode = #itemmode# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="price">
	        	price = #price# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fqty">
	        	fqty = #fqty# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="unitname">
	        	unitname = #unitname# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="mrpclosed">
	        	mrpclosed = #mrpclosed# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="itemid">
	        	itemid = #itemid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="sendstatus">
	        	sendstatus = #sendstatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="sendtime">
	        	sendtime = #sendtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="createtime">
	        	createtime = #createtime# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="buystatus">
	        	buystatus = #buystatus# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcurrencyid">
	        	fcurrencyid = #fcurrencyid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftaxprice">
	        	ftaxprice = #ftaxprice# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ftaxamount">
	        	ftaxamount = #ftaxamount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="famount">
	        	famount = #famount# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fdate">
	        	fdate = #fdate# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="f101">
	        	f_101 = #f101# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="f102">
	        	f_102 = #f102# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="empid">
	        	empid = #empid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="deptid">
	        	deptid = #deptid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="ispush">
	        	ispush = #ispush# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="anumber">
	        	anumber = #anumber# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fsourcebillno">
	        	fsourcebillno = #fsourcebillno# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="issync">
	        	issync = #issync# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="reqcomment">
	        	reqcomment = #reqcomment# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcomment">
	        	fcomment = #fcomment# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="supplierid">
	        	supplierid = #supplierid# 
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="fcess">
	        	fcess = #fcess#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="bought">
	        	bought = #bought#
	        </isNotEmpty>
	         <isNotEmpty prepend="," property="putqty">
	        	putqty = #putqty#
	        </isNotEmpty>
	        <isNotEmpty prepend="," property="makecodeNumber">
	        	makecodeNumber=#makecodeNumber#
	        </isNotEmpty>
	    </dynamic>
        WHERE 
	        orderid in ($orders$) 
    </update>
    
    
    <update id="poorderentry.update.putqty" parameterClass="com.terrence.crm.dol.bean.Poorderentry"><!-- 更新入库数-->         
        UPDATE t_poorderentry
				set	putqty = #putqty#
        WHERE 
	         orderid = #orderid#
    </update>
    
     <update id="Poorderentry.update.entrypoor" parameterClass="com.terrence.crm.dol.bean.Poorderentry"><!-- 质检反审更改已购数量-->         
        UPDATE t_poorderentry
				set	bought = #bought#,ispush = #ispush#
        WHERE 
	        orderid = #orderid#
    </update>
    
    
     <update id="Poorderentry.update.data.new" parameterClass="com.terrence.crm.dol.bean.Poorderentry"><!-- 质检反审更改已购数量-->         
        UPDATE t_poorderentry
				set	bought = #bought#
				  	<isNotEmpty prepend="," property="ispush">
			        	ispush = #ispush# 
			        </isNotEmpty>
        WHERE 
	        orderid = #orderid#
    </update>
    
    <update id="Poorderentry.upate.k3fbillno.data" parameterClass="com.terrence.crm.dol.bean.Poorderentry"><!-- 更新k3单据编号-->         
        UPDATE t_poorderentry
				set	jobno = #jobno#
        WHERE 
	         finterid = #finterid#
    </update>
    
	<delete id="Poorderentry.delete" parameterClass="java.lang.Long">
    <![CDATA[
        delete from t_poorderentry where
       orderid = #orderid# 
    ]]>
    </delete>
    
    <delete id="Poorderentry.deleteMultiple">
    <![CDATA[
        DELETE FROM 
        	t_poorderentry 
        WHERE
       orderid in ($orderid$) 
    ]]>
    </delete>
    
     <delete id="Poorderentry.delete.for.list"><!-- 订单列表删除 -->
    <![CDATA[
        DELETE FROM 
        	t_poorderentry 
        WHERE
       finterid in ($finterids$) 
    ]]>
    </delete>
    
    <select id="Poorderentry.getById" resultMap="RM.Poorderentry">
	    select <include refid="Poorderentry.columns"/>
	    
	        from t_poorderentry 
	        where 
		        orderid = #orderid# 
	    
    </select>
    
	<select id="Poorderentry.getByProperty" resultMap="RM.Poorderentry">
		select <include refid="Poorderentry.columns"/> from t_poorderentry where $propertyName$=#propertyValue#
	</select>
	
	<sql id="Poorderentry.findPage.where">
	    <dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="orderid">
	             t_poorderentry.orderid = #orderid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="finterid">
	             t_poorderentry.finterid = #finterid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemcode">
	             t_poorderentry.itemcode = #itemcode#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemname">
	             t_poorderentry.itemname = #itemname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemmode">
	             t_poorderentry.itemmode = #itemmode#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="price">
	             t_poorderentry.price = #price#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fqty">
	             t_poorderentry.fqty = #fqty#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="unitname">
	             t_poorderentry.unitname = #unitname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="mrpclosed">
	             t_poorderentry.mrpclosed = #mrpclosed#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemid">
	             t_poorderentry.itemid = #itemid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="sendstatus">
	             t_poorderentry.sendstatus = #sendstatus#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="sendtimeBegin">
	             t_poorderentry.sendtime &gt;= #sendtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="sendtimeEnd">
	             t_poorderentry.sendtime &lt;= #sendtimeEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="createtimeBegin">
	             t_poorderentry.createtime &gt;= #createtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="createtimeEnd">
	             t_poorderentry.createtime &lt;= #createtimeEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="buystatus">
	             t_poorderentry.buystatus = #buystatus#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fcurrencyid">
	             t_poorderentry.fcurrencyid = #fcurrencyid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="ftaxprice">
	             t_poorderentry.ftaxprice = #ftaxprice#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="ftaxamount">
	             t_poorderentry.ftaxamount = #ftaxamount#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="famount">
	             t_poorderentry.famount = #famount#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fdateBegin">
	             t_poorderentry.fdate &gt;= #fdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fdateEnd">
	             t_poorderentry.fdate &lt;= #fdateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="f101">
	             t_poorderentry.f_101 = #f101#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="f102">
	             t_poorderentry.f_102 = #f102#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="empid">
	             t_poorderentry.empid = #empid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="deptid">
	             t_poorderentry.deptid = #deptid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="ispush">
	             t_poorderentry.ispush = #ispush#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="anumber">
	             t_poorderentry.anumber = #anumber#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fsourcebillno">
	             t_poorderentry.fsourcebillno = #fsourcebillno#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="issync">
	             t_poorderentry.issync = #issync#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="reqcomment">
	             t_poorderentry.reqcomment = #reqcomment#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fcomment">
	             t_poorderentry.fcomment = #fcomment#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="supplierid">
	             t_poorderentry.supplierid = #supplierid#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fcess">
	             t_poorderentry.fcess = #fcess#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="makecodeNumber">
	             t_poorderentry.makecodeNumber = #makecodeNumber#
	       </isNotEmpty>
	    </dynamic>	
	</sql>
	 
    <sql id="Poorderentry.findPage.and">
			<isNotEmpty prepend="AND" property="orderid">
	             t_poorderentry.orderid = #orderid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="finterid">
	             t_poorderentry.finterid = #finterid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="itemcode">
	             t_poorderentry.itemcode = #itemcode#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="itemname">
	             t_poorderentry.itemname = #itemname#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="itemmode">
	             t_poorderentry.itemmode = #itemmode#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="price">
	             t_poorderentry.price = #price#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fqty">
	             t_poorderentry.fqty = #fqty#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="unitname">
	             t_poorderentry.unitname = #unitname#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="mrpclosed">
	             t_poorderentry.mrpclosed = #mrpclosed#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="itemid">
	             t_poorderentry.itemid = #itemid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="sendstatus">
	             t_poorderentry.sendstatus = #sendstatus#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="sendtimeBegin">
	             t_poorderentry.sendtime &gt;= #sendtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="sendtimeEnd">
	             t_poorderentry.sendtime &lt;= #sendtimeEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="createtimeBegin">
	             t_poorderentry.createtime &gt;= #createtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="createtimeEnd">
	             t_poorderentry.createtime &lt;= #createtimeEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="buystatus">
	             t_poorderentry.buystatus = #buystatus#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fcurrencyid">
	             t_poorderentry.fcurrencyid = #fcurrencyid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="ftaxprice">
	             t_poorderentry.ftaxprice = #ftaxprice#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="ftaxamount">
	             t_poorderentry.ftaxamount = #ftaxamount#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="famount">
	             t_poorderentry.famount = #famount#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fdateBegin">
	             t_poorderentry.fdate &gt;= #fdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fdateEnd">
	             t_poorderentry.fdate &lt;= #fdateEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="f101">
	             t_poorderentry.f_101 = #f101#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="f102">
	             t_poorderentry.f_102 = #f102#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="empid">
	             t_poorderentry.empid = #empid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="deptid">
	             t_poorderentry.deptid = #deptid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="ispush">
	             t_poorderentry.ispush = #ispush#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="anumber">
	             t_poorderentry.anumber = #anumber#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fsourcebillno">
	             t_poorderentry.fsourcebillno = #fsourcebillno#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="issync">
	             t_poorderentry.issync = #issync#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="reqcomment">
	             t_poorderentry.reqcomment = #reqcomment#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fcomment">
	             t_poorderentry.fcomment = #fcomment#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="supplierid">
	             t_poorderentry.supplierid = #supplierid#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fcess">
	             t_poorderentry.fcess = #fcess#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="makecodeNumber">
	             t_poorderentry.makecodeNumber = #makecodeNumber#
	       </isNotEmpty>
	</sql>
	
	
	
	<sql id="Poorderentry.findPage.poorder.where">
	    <dynamic prepend="WHERE">
			<isNotEmpty prepend="AND" property="orderid">
	             t_poorderentry.orderid = #orderid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="finterid">
	             t_poorderentry.finterid = #finterid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemcode">
	             t_poorderentry.itemcode like ('%$itemcode$%') 
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemname">
	             t_poorderentry.itemname like ('%$itemname$%')
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemmode">
	             t_poorderentry.itemmode = #itemmode#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="price">
	             t_poorderentry.price = #price#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fqty">
	             t_poorderentry.fqty = #fqty#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="unitname">
	             t_poorderentry.unitname = #unitname#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="mrpclosed">
	             t_poorderentry.mrpclosed = #mrpclosed#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemid">
	             t_poorderentry.itemid = #itemid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="sendstatus">
	             t_poorderentry.sendstatus = #sendstatus#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="sendtimeBegin">
	             t_poorderentry.sendtime &gt;= #sendtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="sendtimeEnd">
	             t_poorderentry.sendtime &lt;= #sendtimeEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="createtimeBegin">
	             t_poorderentry.createtime &gt;= #createtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="createtimeEnd">
	             t_poorderentry.createtime &lt;= #createtimeEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="buystatus">
	             t_poorderentry.buystatus = #buystatus#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fcurrencyid">
	             t_poorderentry.fcurrencyid = #fcurrencyid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="ftaxprice">
	             t_poorderentry.ftaxprice = #ftaxprice#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="ftaxamount">
	             t_poorderentry.ftaxamount = #ftaxamount#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="famount">
	             t_poorderentry.famount = #famount#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fdateBegin">
	             t_poorderentry.fdate &gt;= #fdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fdateEnd">
	             t_poorderentry.fdate &lt;= #fdateEnd#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="f101">
	             t_poorderentry.f_101 = #f101#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="f102">
	             t_poorderentry.f_102 = #f102#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="empid">
	             t_poorderentry.empid = #empid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="deptid">
	             t_poorderentry.deptid = #deptid#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="ispush">
	             t_poorderentry.ispush = #ispush#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="anumber">
	             t_poorderentry.anumber = #anumber#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fsourcebillno">
	             t_poorderentry.fsourcebillno = #fsourcebillno#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="issync">
	             t_poorderentry.issync = #issync#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="reqcomment">
	             t_poorderentry.reqcomment = #reqcomment#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fcomment">
	             t_poorderentry.fcomment = #fcomment#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="supplierid">
	             t_poorderentry.supplierid = #supplierid#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fcess">
	             t_poorderentry.fcess = #fcess#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fclosed">
	             t_poorder.fclosed = #fclosed#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fstatus">
	             t_poorder.fstatus = #fstatus#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fbillerid">
	             t_poorder.fbillerid = #fbillerid#
	       </isNotEmpty>
	       
	      	<isNotEmpty prepend="AND" property="dingdanDate1">
	               convert(char(10),t_poorder.fdate,120)  &gt;= #dingdanDate1#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="dingdanDate2">
	            convert(char(10),t_poorder.fdate,120)   &lt;= #dingdanDate2#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fxmark">
	             t_poorder.fxmark = #fxmark#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fbillno">
	             t_poorder.fbillno = #fbillno#
	       </isNotEmpty>
	       
	    </dynamic>	
	</sql>
	 
    <sql id="Poorderentry.findPage.poorder.and">
			<isNotEmpty prepend="AND" property="orderid">
	             t_poorderentry.orderid = #orderid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="finterid">
	             t_poorderentry.finterid = #finterid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="itemcode">
	             t_poorderentry.itemcode like ('%$itemcode$%') 
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="itemname">
	             t_poorderentry.itemname like ('%$itemname$%')
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="itemmode">
	             t_poorderentry.itemmode = #itemmode#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="price">
	             t_poorderentry.price = #price#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fqty">
	             t_poorderentry.fqty = #fqty#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="unitname">
	             t_poorderentry.unitname = #unitname#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="mrpclosed">
	             t_poorderentry.mrpclosed = #mrpclosed#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="itemid">
	             t_poorderentry.itemid = #itemid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="sendstatus">
	             t_poorderentry.sendstatus = #sendstatus#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="sendtimeBegin">
	             t_poorderentry.sendtime &gt;= #sendtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="sendtimeEnd">
	             t_poorderentry.sendtime &lt;= #sendtimeEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="createtimeBegin">
	             t_poorderentry.createtime &gt;= #createtimeBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="createtimeEnd">
	             t_poorderentry.createtime &lt;= #createtimeEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="buystatus">
	             t_poorderentry.buystatus = #buystatus#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fcurrencyid">
	             t_poorderentry.fcurrencyid = #fcurrencyid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="ftaxprice">
	             t_poorderentry.ftaxprice = #ftaxprice#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="ftaxamount">
	             t_poorderentry.ftaxamount = #ftaxamount#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="famount">
	             t_poorderentry.famount = #famount#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fdateBegin">
	             t_poorderentry.fdate &gt;= #fdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fdateEnd">
	             t_poorderentry.fdate &lt;= #fdateEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="f101">
	             t_poorderentry.f_101 = #f101#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="f102">
	             t_poorderentry.f_102 = #f102#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="empid">
	             t_poorderentry.empid = #empid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="deptid">
	             t_poorderentry.deptid = #deptid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="ispush">
	             t_poorderentry.ispush = #ispush#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="anumber">
	             t_poorderentry.anumber = #anumber#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fsourcebillno">
	             t_poorderentry.fsourcebillno = #fsourcebillno#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="issync">
	             t_poorderentry.issync = #issync#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="reqcomment">
	             t_poorderentry.reqcomment = #reqcomment#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="fcomment">
	             t_poorderentry.fcomment = #fcomment#
	       </isNotEmpty>
	       
			<isNotEmpty prepend="AND" property="supplierid">
	             t_poorderentry.supplierid = #supplierid#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fcess">
	             t_poorderentry.fcess = #fcess#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fclosed">
	             t_poorder.fclosed = #fclosed#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fstatus">
	             t_poorder.fstatus = #fstatus#
	       </isNotEmpty>
	           <isNotEmpty prepend="AND" property="fbillerid">
	             t_poorder.fbillerid = #fbillerid#
	       </isNotEmpty>
	      
	      
	      	<isNotEmpty prepend="AND" property="dingdanDate1">
	               convert(char(10),t_poorder.fdate,120)  &gt;= #dingdanDate1#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="dingdanDate2">
	               convert(char(10),t_poorder.fdate,120)  &lt;= #dingdanDate2#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="finterids">
	             t_poorderentry.finterid  in ($finterids$)
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fxmark">
	             t_poorder.fxmark = #fxmark#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fempid">
	             t_poorder.fempid = #fempid#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fbillno">
	             t_poorder.fbillno = #fbillno#
	       </isNotEmpty>
	       
	</sql>
	
	<sql id="Poorder.findPage.select.totalsum.and"><!-- 查询用 -->
			<isNotEmpty prepend="AND" property="finterid">
	             t_poorder.finterid = #finterid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fbillno">
	             t_poorder.fbillno = #fbillno#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fclosed">
	             t_poorder.fclosed = #fclosed#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fdateBegin">
	             t_poorder.fdate &gt;= #fdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fdateEnd">
	             t_poorder.fdate &lt;= #fdateEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fmultichecklevel1">
	             t_poorder.fmultichecklevel1 = #fmultichecklevel1#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fmultichecklevel2">
	             t_poorder.fmultichecklevel2 = #fmultichecklevel2#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fmultichecklevel3">
	             t_poorder.fmultichecklevel3 = #fmultichecklevel3#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fmulticheckdate1Begin">
	             t_poorder.fmulticheckdate1 &gt;= #fmulticheckdate1Begin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fmulticheckdate1End">
	             t_poorder.fmulticheckdate1 &lt;= #fmulticheckdate1End#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fmulticheckdate2Begin">
	             t_poorder.fmulticheckdate2 &gt;= #fmulticheckdate2Begin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fmulticheckdate2End">
	             t_poorder.fmulticheckdate2 &lt;= #fmulticheckdate2End#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fmulticheckdate3Begin">
	             t_poorder.fmulticheckdate3 &gt;= #fmulticheckdate3Begin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fmulticheckdate3End">
	             t_poorder.fmulticheckdate3 &lt;= #fmulticheckdate3End#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fstatus">
	             t_poorder.fstatus = #fstatus#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fempid">
	             t_poorder.fempid = #fempid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fdetpid">
	             t_poorder.fdetpid = #fdetpid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fexchangeratetype">
	             t_poorder.fexchangeratetype = #fexchangeratetype#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fareaps">
	             t_poorder.fareaps = #fareaps#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fpostyle">
	             t_poorder.fpostyle = #fpostyle#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fexchangerate">
	             t_poorder.fexchangerate = #fexchangerate#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fcurrencyid">
	             t_poorder.fcurrencyid = #fcurrencyid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fbillerid">
	             t_poorder.fbillerid = #fbillerid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fsupplyid">
	             t_poorder.fsupplyid = #fsupplyid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fsysstatus">
	             t_poorder.fsysstatus = #fsysstatus#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fcheckerid">
	             t_poorder.fcheckerid = #fcheckerid#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fcheckdateBegin">
	             t_poorder.fcheckdate &gt;= #fcheckdateBegin#
	       </isNotEmpty>
	       <isNotEmpty prepend="AND" property="fcheckdateEnd">
	             t_poorder.fcheckdate &lt;= #fcheckdateEnd#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="issync">
	             t_poorder.issync = #issync#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="ftotalcostfor">
	             t_poorder.ftotalcostfor = #ftotalcostfor#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fseltrantype">
	             t_poorder.fseltrantype = #fseltrantype#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fsourcebillno">
	             t_poorder.fsourcebillno = #fsourcebillno#
	       </isNotEmpty>
			<isNotEmpty prepend="AND" property="fcurchecklevel">
	             t_poorder.fcurchecklevel = #fcurchecklevel#
	       </isNotEmpty>
	        <isNotEmpty prepend="AND" property="fcomment">
	        	t_poorder.fcomment = #fcomment# 
	        </isNotEmpty>
	          <isNotEmpty prepend="AND" property="fxmark">
	        	t_poorder.fxmark = #fxmark# 
	        </isNotEmpty>
	</sql>
	
    <select id="Poorderentry.Entity" resultMap="RM.Poorderentry">
    	SELECT 	<include refid="Poorderentry.columns"/> FROM t_poorderentry <include refid="Poorderentry.findPage.where"/>
    </select>
    
    <select id="Poorderentry.findList" resultMap="RM.Poorderentry">
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry
		<include refid="Poorderentry.findPage.where"/>
		<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
    </select>
    
    <select id="Poorderentry.findPage.count" resultClass="long">
    <![CDATA[
        select 
        count(*)
        from t_poorderentry
    ]]>
		<include refid="Poorderentry.findPage.where"/>    
    </select>
    <!--
    	分页查询已经使用Dialect进行分页,也可以不使用Dialect直接编写分页
    	因为分页查询将传 #offset#,#pageSize#,#lastRows# 三个参数,不同的数据库可以根于此三个参数属性应用不同的分页实现
    -->
    <select id="Sql.Poorderentry.findPage" resultMap="RM.Poorderentry">
    	select <include refid="Poorderentry.columns"/>	    
	        from t_poorderentry 	   
		<include refid="Poorderentry.findPage.where"/>		
		<isNotEmpty property="sortColumns">ORDER BY $sortColumns$</isNotEmpty>
		
    </select>
    
	<select id="Poorderentry.findPage" resultMap="RM.Poorderentry">
    	select <include refid="Poorderentry.columns"/>	    
	        from t_poorderentry where 1=1 
	   <isNotEmpty property="notTop">  and 
       orderid 
	   not in(select $notTop$ 
       orderid 
	   from t_poorderentry <include refid="Poorderentry.findPage.where"/>
	   	   <isNotEmpty property="sortColumns"> ORDER BY $sortColumns$	</isNotEmpty>) 
	   	</isNotEmpty>    
	   	<include refid="Poorderentry.findPage.and"/>
    	<isNotEmpty property="sortColumns">
			ORDER BY $sortColumns$
		</isNotEmpty>
	
		
    </select>
    
     <select id="Poorderentry.findpage.poorder.detail.count" resultClass="long"><!-- 订单列表 -->
    <![CDATA[
        select 
        count(*)
        from t_poorderentry  left join t_admin on t_poorderentry.empid = t_admin.adminId
	        left join t_currency on t_poorderentry.fcurrencyid =t_currency.fcurrencyid
	        left join t_department on t_poorderentry.deptid = t_department.teamid
	        left join t_supplier on t_poorderentry.supplierid = t_supplier.supplierid
	        left join t_poorder on t_poorderentry.finterid = t_poorder.finterid
    ]]>
		<include refid="Poorderentry.findPage.poorder.where"/>
    </select>
    <select id="Poorderentry.findpage.poorder.detail" resultMap="RM.Poorderentry.poorder.list"><!-- 订单列表 --> 
    	select <include refid="Poorderentry.columns"/>,t_admin.adminName,t_department.teamname, t_currency.fname,t_supplier.fname spname,t_poorder.finterid ,
        	t_poorder.fbillno ,t_poorder.fclosed ,t_poorder.fdate  fsysdate ,t_poorder.fmultichecklevel1 ,t_poorder.fmultichecklevel2 ,t_poorder.fmultichecklevel3 ,
        	t_poorder.fmulticheckdate1 ,t_poorder.fmulticheckdate2 ,t_poorder.fmulticheckdate3 ,t_poorder.fstatus ,t_poorder.fempid ,t_poorder.fdetpid ,
        	t_poorder.fexchangeratetype ,t_poorder.fareaps ,t_poorder.fpostyle ,t_poorder.fexchangerate ,t_poorder.fcurrencyid ,t_poorder.fbillerid ,
        	t_poorder.fsupplyid ,t_poorder.fsysstatus ,t_poorder.fcheckerid ,t_poorder.fcheckdate ,t_poorder.issync ,t_poorder.ftotalcostfor ,
        	t_poorder.fseltrantype ,t_poorder.fsourcebillno ,t_poorder.fcurchecklevel ,t_poorder.fcomment pdcomment,t_base_item.storage positionid,t_stock.fname positionname  
	       	,t_base_item.fissnmanager,stocktable.fname stockfname,t_poorderentry.stockid,t_poorder.fxmark,t_poorderentry.jobno,t_poorderentry.isold
	        from t_poorderentry 
	       
	        left join t_currency on t_poorderentry.fcurrencyid =t_currency.fcurrencyid
	        left join t_department on t_poorderentry.deptid = t_department.teamid
	        left join t_supplier on t_poorderentry.supplierid = t_supplier.supplierid
	        left join t_poorder on t_poorderentry.finterid = t_poorder.finterid
	        left join t_admin on t_poorder.fbillerid = t_admin.adminId
	        left join t_base_item on t_poorderentry.itemcode = t_base_item.itemcode
	        left join t_stock on t_base_item.storage = t_stock.fitemid
	        left join t_stock stocktable on t_poorderentry.stockid = stocktable.fitemid
	        
	        where 1=1 
	   <isNotEmpty property="notTop">  and 
       t_poorderentry.orderid
	   not in(select $notTop$ 
        t_poorderentry.orderid 
	   from t_poorderentry  
	    left join
        t_poorder 
            on t_poorderentry.finterid  = t_poorder.finterid 
	   <include refid="Poorderentry.findPage.poorder.where"/>
	   	    ORDER BY
                t_poorder.fbillno DESC,t_poorderentry.orderid DESC) 
	   	</isNotEmpty>    
	   	<include refid="Poorderentry.findPage.poorder.and"/>
    	 ORDER BY
        t_poorder.fbillno DESC,t_poorderentry.orderid DESC
    </select>
    
      <select id="Poorderentry.find.checkPush" resultMap="RM.Poorderentry">
	    select <include refid="Poorderentry.columns"/>
	    
	        from t_poorderentry 
	        where 
		        finterid = #finterid# 
	    
    </select>
      <select id="Poorderentry.find.checkNotPush" resultMap="RM.Poorderentry">
	    select <include refid="Poorderentry.columns"/>
	    
	        from t_poorderentry 
	        where 
		        finterid = #finterid#  and ispush != 1
	    
    </select>
    
    
     <select id="Poorderentry.find.PushCheckAll" resultMap="RM.Poorderentry.for.icitem"><!-- 查询物料是否需要检验 -->
	    select <include refid="Poorderentry.columns"/>,v_icitem.baseitemid ,v_icitem.itemcode ,v_icitem.itemname ,
        	v_icitem.formatno ,v_icitem.unitid ,v_icitem.unitname ,v_icitem.isbatch ,v_icitem.responsible ,
        	v_icitem.supplierid ,v_icitem.finspectionlevel,t_poorder.fbillno,t_poorder.fdate,t_poorder.fempid,t_department.teamname,t_supplier.fname,t_poorder.fxmark
	    
	        from t_poorderentry  left join v_icitem on t_poorderentry.itemcode = v_icitem.itemcode
	        left join t_poorder on t_poorderentry.finterid = t_poorder.finterid
	          left join t_department on t_poorderentry.deptid = t_department.teamid
	        left join t_supplier on t_poorderentry.supplierid = t_supplier.supplierid
	        where 
				orderid in ($orders$) ORDER BY orderid DESC
	    
    </select>
    
    <select id="Poorderentry.find.bought" resultMap="RM.Poorderentry"><!-- 查询当前的到货数 -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where orderid = #orderid#
		
    </select>
    
     <select id="Poorderentry.find.in.itemwait" resultMap="RM.Poorderentry"><!-- 查询明细 -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where itemcode = #itemcode# and finterid = #finterid#
		
    </select>
    
     <select id="Poorderentry.find.entrypoorder" resultMap="RM.Poorderentry"><!--  -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where orderid = #orderid#
		
    </select>
    
     <select id="Poorderentry.find.listPoorderentry" resultMap="RM.Poorderentry"><!-- 待入库审核时查询 -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where finterid = #finterid#
		
    </select>
    
     <select id="Poorderentry.find.pder.entity" resultMap="RM.Poorderentry"><!--  -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where orderid = #orderid#
		
    </select>
    
     <select id="Poorderentry.find.fissnmanager" resultMap="RM.Poorderentry"><!--  -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where orderid in ($orders$)
		
    </select>
    
     <select id="Poorderentry.findlist.poorderentryList" resultMap="RM.Poorderentry"><!--查询订单明细  -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where finterid = #finterid#
		
    </select>
    
     <select id="Poorderentry.find.tongbu.pentry" resultMap="RM.Poorderentry"><!--查询  -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where orderid = #orderid#
		
    </select>
    
      <select id="Poorderentry.findlist.poorderentryList.tongbu" resultMap="RM.Poorderentry.tongbudata"><!--查询订单明细(同步)  -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where finterid = #finterid#
		
    </select>
	
	<select id="Poorderentry.find.baseitem.in.poorderentry" resultMap="RM.BaseItem.in.poorderentry.tongbudata">
		SELECT fitemid,unitid from t_base_item where itemcode = #itemcode#
	</select>
	
	  <select id="Poorderentry.findfinteridlist.delete" resultMap="RM.Poorderentry"><!--查询 数据同步用 -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where finterid = #finterid#
		
    </select>
	
	 <select id="Poorderentry.find.mingxi" resultMap="RM.Poorderentry"><!--查询 数据同步用 -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where orderid = #orderid#
		
    </select>
    
    <!-- <select id="Poorderentry.find.AllXls.list" resultMap="RM.Poorderentry.poorder.list"> 订单数据导出列表 -->
      <select id="Poorderentry.find.AllXls.list" resultMap="RM.Poorderentry.poorder.list.detail.total.sum"><!-- 订单数据导出列表 -->
     	select (select sum(famount) from t_poorderentry left join t_poorder on t_poorder.finterid = t_poorderentry.finterid where 1=1 <include refid="Poorderentry.findPage.poorder.and"/> ) totalsum,
    		(select sum(fqty) from t_poorderentry left join t_poorder on t_poorder.finterid = t_poorderentry.finterid where 1=1 <include refid="Poorderentry.findPage.poorder.and"/> ) sumtotal,
    	<include refid="Poorderentry.columns"/>,t_admin.adminName,t_department.teamname, t_currency.fname,t_supplier.fname spname,t_poorder.finterid ,
        	t_poorder.fbillno ,t_poorder.fclosed ,t_poorder.fdate  fsysdate ,t_poorder.fmultichecklevel1 ,t_poorder.fmultichecklevel2 ,t_poorder.fmultichecklevel3 ,
        	t_poorder.fmulticheckdate1 ,t_poorder.fmulticheckdate2 ,t_poorder.fmulticheckdate3 ,t_poorder.fstatus ,t_poorder.fempid ,t_poorder.fdetpid ,
        	t_poorder.fexchangeratetype ,t_poorder.fareaps ,t_poorder.fpostyle ,t_poorder.fexchangerate ,t_poorder.fcurrencyid ,t_poorder.fbillerid ,
        	t_poorder.fsupplyid ,t_poorder.fsysstatus ,t_poorder.fcheckerid ,t_poorder.fcheckdate ,t_poorder.issync ,t_poorder.ftotalcostfor ,
        	t_poorder.fseltrantype ,t_poorder.fsourcebillno ,t_poorder.fcurchecklevel ,t_poorder.fcomment pdcomment,t_base_item.storage positionid,t_stock.fname positionname  
	       	,t_base_item.fissnmanager,stocktable.fname stockfname,t_poorderentry.stockid,t_poorder.fxmark
	        from t_poorderentry 
	       
	        left join t_currency on t_poorderentry.fcurrencyid =t_currency.fcurrencyid
	        left join t_department on t_poorderentry.deptid = t_department.teamid
	        left join t_supplier on t_poorderentry.supplierid = t_supplier.supplierid
	        left join t_poorder on t_poorderentry.finterid = t_poorder.finterid
	        left join t_admin on t_poorder.fbillerid = t_admin.adminId
	        left join t_base_item on t_poorderentry.itemcode = t_base_item.itemcode
	        left join t_stock on t_base_item.storage = t_stock.fitemid
	        left join t_stock stocktable on t_poorderentry.stockid = stocktable.fitemid
	        
	        where 1=1 
	        
	   	<include refid="Poorderentry.findPage.poorder.and"/>
    	 ORDER BY
        t_poorder.fbillno DESC,t_poorderentry.orderid DESC 
    	<!-- select <include refid="Poorderentry.columns"/>,t_admin.adminName,t_department.teamname, t_currency.fname,t_supplier.fname spname,t_poorder.finterid ,
        	t_poorder.fbillno ,t_poorder.fclosed ,t_poorder.fdate  fsysdate ,t_poorder.fmultichecklevel1 ,t_poorder.fmultichecklevel2 ,t_poorder.fmultichecklevel3 ,
        	t_poorder.fmulticheckdate1 ,t_poorder.fmulticheckdate2 ,t_poorder.fmulticheckdate3 ,t_poorder.fstatus ,t_poorder.fempid ,t_poorder.fdetpid ,
        	t_poorder.fexchangeratetype ,t_poorder.fareaps ,t_poorder.fpostyle ,t_poorder.fexchangerate ,t_poorder.fcurrencyid ,t_poorder.fbillerid ,
        	t_poorder.fsupplyid ,t_poorder.fsysstatus ,t_poorder.fcheckerid ,t_poorder.fcheckdate ,t_poorder.issync ,t_poorder.ftotalcostfor ,
        	t_poorder.fseltrantype ,t_poorder.fsourcebillno ,t_poorder.fcurchecklevel ,t_poorder.fcomment,t_base_item.storage positionid,t_stock.fname positionname  
	       	,t_base_item.fissnmanager,stocktable.fname stockfname,t_poorderentry.stockid
	        from t_poorderentry 
	       
	        left join t_currency on t_poorderentry.fcurrencyid =t_currency.fcurrencyid
	        left join t_department on t_poorderentry.deptid = t_department.teamid
	        left join t_supplier on t_poorderentry.supplierid = t_supplier.supplierid
	        left join t_poorder on t_poorderentry.finterid = t_poorder.finterid
	        left join t_admin on t_poorder.fbillerid = t_admin.adminId
	        left join t_base_item on t_poorderentry.itemcode = t_base_item.itemcode
	        left join t_stock on t_base_item.storage = t_stock.fitemid
	        left join t_stock stocktable on t_poorderentry.stockid = stocktable.fitemid
	        
	        where 1=1 
	         
	     
  
	   	<include refid="Poorderentry.findPage.poorder.and"/>
    	 ORDER BY
        t_poorder.fbillno DESC,t_poorderentry.orderid DESC -->
    </select>
	
	 <select id="Poorderentry.find.listp" resultMap="RM.Poorderentry.find.findlistp"><!--删除订单明细查询  -->
    	SELECT 
    		<include refid="Poorderentry.columns"/>,detailPoid
    	FROM 
    		t_poorderentry where finterid in ($finterids$)
		
    </select>
    
     <select id="Poorderentry.find.detail.datalist" resultMap="RM.Poorderentry"><!-- 订单明细界面删除明细查询 -->
    	SELECT 
    		<include refid="Poorderentry.columns"/> 
    	FROM 
    		t_poorderentry where orderid in ($orders$)
		
    </select>
    
     <select id="Poorderentry.find.for.quest.datalist" resultMap="Poorderentry.zhaoshuju.delete.data"><!-- 订单明细界面删除明细查询 -->
    	SELECT 
    		<include refid="Poorderentry.columns"/>,t_poorderentry.detailPoid 
    	FROM 
    		t_poorderentry where orderid = #orderid#
		
    </select>
    
    <!--汇总列表查询 -->
    <select id="Poorderentry.findpage.poorder.detail.Total.Sum.count" resultClass="long"><!-- 订单汇总列表 -->
    <![CDATA[
        select 
        count(*)
        from t_poorderentry  left join t_admin on t_poorderentry.empid = t_admin.adminId
	        left join t_currency on t_poorderentry.fcurrencyid =t_currency.fcurrencyid
	        left join t_department on t_poorderentry.deptid = t_department.teamid
	        left join t_supplier on t_poorderentry.supplierid = t_supplier.supplierid
	        left join t_poorder on t_poorderentry.finterid = t_poorder.finterid
    ]]>
		<include refid="Poorderentry.findPage.poorder.where"/>
    </select>
    <select id="Poorderentry.findpage.poorder.detail.Total.Sum" resultMap="RM.Poorderentry.poorder.list.detail.total.sum"><!-- 订单汇总列表 --> 
    	select (select sum(famount) from t_poorderentry left join t_poorder on t_poorder.finterid = t_poorderentry.finterid where 1=1 <include refid="Poorderentry.findPage.poorder.and"/> ) totalsum,
    		(select sum(fqty) from t_poorderentry left join t_poorder on t_poorder.finterid = t_poorderentry.finterid where 1=1 <include refid="Poorderentry.findPage.poorder.and"/> ) sumtotal,
    	<include refid="Poorderentry.columns"/>,t_admin.adminName,t_department.teamname, t_currency.fname,t_supplier.fname spname,t_poorder.finterid ,
        	t_poorder.fbillno ,t_poorder.fclosed ,t_poorder.fdate  fsysdate ,t_poorder.fmultichecklevel1 ,t_poorder.fmultichecklevel2 ,t_poorder.fmultichecklevel3 ,
        	t_poorder.fmulticheckdate1 ,t_poorder.fmulticheckdate2 ,t_poorder.fmulticheckdate3 ,t_poorder.fstatus ,t_poorder.fempid ,t_poorder.fdetpid ,
        	t_poorder.fexchangeratetype ,t_poorder.fareaps ,t_poorder.fpostyle ,t_poorder.fexchangerate ,t_poorder.fcurrencyid ,t_poorder.fbillerid ,
        	t_poorder.fsupplyid ,t_poorder.fsysstatus ,t_poorder.fcheckerid ,t_poorder.fcheckdate ,t_poorder.issync ,t_poorder.ftotalcostfor ,
        	t_poorder.fseltrantype ,t_poorder.fsourcebillno ,t_poorder.fcurchecklevel ,t_poorder.fcomment pdcomment,t_base_item.storage positionid,t_stock.fname positionname  
	       	,t_base_item.fissnmanager,stocktable.fname stockfname,t_poorderentry.stockid,t_poorder.fxmark
	        from t_poorderentry 
	       
	        left join t_currency on t_poorderentry.fcurrencyid =t_currency.fcurrencyid
	        left join t_department on t_poorderentry.deptid = t_department.teamid
	        left join t_supplier on t_poorderentry.supplierid = t_supplier.supplierid
	        left join t_poorder on t_poorderentry.finterid = t_poorder.finterid
	        left join t_admin on t_poorder.fbillerid = t_admin.adminId
	        left join t_base_item on t_poorderentry.itemcode = t_base_item.itemcode
	        left join t_stock on t_base_item.storage = t_stock.fitemid
	        left join t_stock stocktable on t_poorderentry.stockid = stocktable.fitemid
	        
	        where 1=1 
	   <isNotEmpty property="notTop">  and 
       t_poorderentry.orderid
	   not in(select $notTop$ 
        t_poorderentry.orderid 
	   from t_poorderentry  
	    left join
        t_poorder 
            on t_poorderentry.finterid  = t_poorder.finterid 
	   <include refid="Poorderentry.findPage.poorder.where"/>
	   	    ORDER BY
                t_poorder.fbillno DESC,t_poorderentry.orderid DESC) 
	   	</isNotEmpty>    
	   	<include refid="Poorderentry.findPage.poorder.and"/>
    	 ORDER BY
        t_poorder.fbillno DESC,t_poorderentry.orderid DESC
    </select>
	
	
	
	
	<select id="Poorderentry.find.poorder.execution.details" resultMap="poorder.find.detail.execution.data"><!--查询采购订单执行明细  -->
    	SELECT <include refid="Poorderentry.columns"/>,t_poorderentry.detailPoid,t_poorder.fbillno fbillno,t_supplier.fname suppliername,
    		t_admin.adminName adminName
    		,t_base_item.buytime,t_ICItemQuality.finspectionlevel finspectionlevel 
    		FROM 
    		t_poorderentry  
    		 left join t_base_item on t_poorderentry.itemcode = t_base_item.itemcode
    		left join t_ICItemQuality on t_base_item.baseitemid = t_ICItemQuality.baseitemid
    		left join t_poorder on t_poorderentry.finterid = t_poorder.finterid
    		left join t_supplier on t_poorderentry.supplierid = t_supplier.supplierid
    		left join t_admin on t_poorderentry.empid = t_admin.adminId
    	where SUBSTRING(CONVERT(varchar(20),t_poorderentry.fdate,120),1,7)=#monthly# and t_base_item.itemlevel=$itemlevel$
    	
		
    </select>
    <select id="itemwait.select.detail.poorderentry" resultMap="itemwait.data.in.poorderentry.for.execution.detail">
    	select 
    	t_item_wait.waitid ,t_item_wait.itemcode ,t_item_wait.batchno ,t_item_wait.status ,t_item_wait.sizestatus ,
        	t_item_wait.createdate ,t_item_wait.checkdate ,t_item_wait.sizedate ,t_item_wait.fqty ,t_item_wait.unit ,
        	t_item_wait.review1 ,t_item_wait.review2 ,t_item_wait.iscolsed ,t_item_wait.suppler ,t_item_wait.acceptfqty ,
        	t_item_wait.checkname ,t_item_wait.ruling ,t_item_wait.checker1 ,t_item_wait.checker2 ,t_item_wait.checkmode ,
        	t_item_wait.indate ,t_item_wait.reportno ,t_item_wait.reviewstatus1,t_item_wait.reviewstatus2,t_item_wait.describe,
        	t_item_wait.fitemid,t_item_wait.poorderno,t_item_wait.pushqty,t_item_wait.isclose,t_item_wait.empid,t_item_wait.orderid,
        	t_item_wait.nopassfqty,t_item_wait.explains,t_item_wait.procstatus,t_item_wait.checkemp,t_item_wait.fxmark,t_item_wait.ftotalfqty,
        	t_item_wait.sampling,datediff(dd,t_item_wait.createdate,t_putstorageentity.createdate) waitinputTime,t_item_wait.concessionsum,
        	datediff(dd,t_porequestentry.rta,t_item_wait.createdate)  arrivalTime,
        	datediff(dd,t_poorderentry.fdate,t_item_wait.createdate) waitvalTime 
    	from t_item_wait 
    	left join t_poorderentry on t_item_wait.orderid = t_poorderentry.orderid
		left join t_porequestentry on t_poorderentry.detailPoid = t_porequestentry.poid
    	left join t_putstorageentity on t_item_wait.waitid = t_putstorageentity.waitid
    	where t_item_wait.orderid = #orderid# order by t_item_wait.waitid
    </select>
    
    <select id="putstorageentity.select.data.detail.pooderentry" resultMap="putstorageentity.data.in.poorderentry.for.execution.detail">
    	select 
    	t_putstorageentity.entityid ,t_putstorageentity.finterid ,t_putstorageentity.itemcode ,t_putstorageentity.storageid ,t_putstorageentity.createdate ,
        	t_putstorageentity.unitid ,t_putstorageentity.fqty ,t_putstorageentity.fbatchno ,t_putstorageentity.poorderno ,
        	t_putstorageentity.fsrcinterid ,t_putstorageentity.orderid,t_putstorageentity.fxmark,t_putstorageentity.fsourcewin,
        	t_putstorageentity.oldentityid,t_putstorageentity.fcommitqy,t_putstorageentity.tovoid,t_putstorageentity.waitid,t_putstorage.fbillno fbillno,t_putstorage.checkdate putcheckdate
			,t_putstorage.checker,t_admin.adminName shname,datediff(dd,t_putstorageentity.createdate,t_putstorage.checkdate)  inputtime
        	from t_putstorageentity 
        	left join t_putstorage on t_putstorageentity.finterid = t_putstorage.finterid
        	left join t_admin on t_putstorage.checker = t_admin.adminId
        	where t_putstorageentity.orderid = #orderid# order by t_putstorageentity.waitid
    </select>
    <select id="porequestentry.select.pooderentry.data.detail" resultMap="porequestentry.data.in.poorderentry.for.execution.detail">
    	select 
    	t_porequestentry.poid ,
        	t_porequestentry.inventoryid ,t_porequestentry.finterid ,t_porequestentry.itemcode ,t_porequestentry.itemname ,
        	t_porequestentry.itemmode ,t_porequestentry.amount ,t_porequestentry.createdate ,t_porequestentry.startdate ,
        	t_porequestentry.rta ,t_porequestentry.ata ,t_porequestentry.status ,t_porequestentry.issend ,
        	t_porequestentry.unitname ,t_porequestentry.fbillno ,t_porequestentry.bompushid ,t_porequestentry.fmrpclosed ,
        	t_porequestentry.fcomment ,t_porequestentry.ispush ,t_porequestentry.supplyid ,t_porequestentry.empid ,
        	t_porequestentry.deptid ,t_porequestentry.f_101 ,t_porequestentry.f_102,t_porequest.checkdate,
        	datediff(dd,t_porequestentry.createdate,t_porequest.checkdate) ddays,t_base_item.buytime,
        	datediff(dd,t_porequestentry.rta,DATEADD(dd,t_base_item.buytime,t_porequestentry.createdate)) rationalityDays,
        	DATEADD(dd,t_base_item.buytime,t_porequestentry.createdate) zqarrivaldate
    	from 
    	t_porequestentry 
    	left join t_porequest on t_porequestentry.finterid = t_porequest.finterid
    	left join t_base_item on t_porequestentry.itemcode = t_base_item.itemcode
    	where t_porequestentry.poid = #detailPoid#
    </select>
    
    
    <select id="putstorageentity.select.data.detail.pooderentry.waititem" resultMap="putstorageentity.data.daohuo.itemwait.porequestentry"><!-- 免检的、有申请单和没有申请单 -->
    	select 
    	t_putstorageentity.entityid ,t_putstorageentity.finterid ,t_putstorageentity.itemcode ,t_putstorageentity.storageid ,t_putstorageentity.createdate ,
        	t_putstorageentity.unitid ,t_putstorageentity.fqty ,t_putstorageentity.fbatchno ,t_putstorageentity.poorderno ,
        	t_putstorageentity.fsrcinterid ,t_putstorageentity.orderid,t_putstorageentity.fxmark,t_putstorageentity.fsourcewin,
        	t_putstorageentity.oldentityid,t_putstorageentity.fcommitqy,t_putstorageentity.tovoid,t_putstorageentity.waitid,
        	datediff(dd,t_porequestentry.rta,t_putstorageentity.createdate) daoTime,
        	datediff(dd,t_poorderentry.fdate,t_putstorageentity.createdate) poordaoTime
        	from t_putstorageentity 
        	left join t_poorderentry on t_putstorageentity.orderid = t_poorderentry.orderid 
			left join t_porequestentry on t_poorderentry.detailPoid = t_porequestentry.poid
        	where t_putstorageentity.orderid = #orderid# and t_putstorageentity.orderid not in (select  t_item_wait.orderid from t_item_wait where orderid is not null ) 
        	order by t_putstorageentity.waitid
    </select>
    
    <select id="poorderentry.putstorageentity.arrival.time.select" resultMap="poorderentry.putstorageentity.arrival.time">
    	SELECT 
    		datediff(dd,t_poorderentry.fdate,t_putstorageentity.createdate) poorputvalTime 
    		
    		FROM 
    		t_poorderentry  
    		left join t_putstorageentity on t_poorderentry.orderid = t_putstorageentity.orderid 
    	where t_poorderentry.orderid = #orderid# and t_putstorageentity.orderid not in (select  t_item_wait.orderid from t_item_wait where orderid is not null ) 
    </select>
    <select id="poorderentry.itemwait.arrival.time.select" resultMap="poorderentry.itemwait.arrival.time">
    	SELECT 
    		datediff(dd,t_poorderentry.fdate,t_item_wait.createdate) poorwaitvalTime 
    		
    		FROM 
    		t_poorderentry  
    		left join t_item_wait on t_poorderentry.orderid = t_item_wait.orderid
    	where t_poorderentry.orderid = #orderid#
    </select>
    
   <!--   <select id="select.icmo.checkrecord.data" resultMap="MachineMatchEntity.sumdata.in.poorderentry">
    	
		select sum(t_check_record.repairnum) sumrepairnum,sum(t_check_record.receivernum) sumreceivernum,
		sum(t_check_record.itemdiscard) sumitemdiscard from t_machine_match_entity
		left join t_machine_match on t_machine_match_entity.fmatchid = t_machine_match.fmatchid
		left join t_work_plan on t_machine_match.workplanid = t_work_plan.workplanid
		left join t_icmo on t_work_plan.fbillno = t_icmo.fbillno
		left join t_check_record on t_icmo.icmoid = t_check_record.workid
		
		where  t_machine_match_entity.itemcode=#itemcode#
		<isNotEmpty prepend="and" property="fbatchno">
	        	t_machine_match_entity.batchno=#fbatchno#
	        </isNotEmpty>
		  and t_icmo.isdel != -1 and t_machine_match_entity.batchno is not null
    
    </select>-->
    
    
    <select id="Poorderentry.find.k3fbillno.data" resultMap="Poorderentry.k3fbillno.result.data"><!-- 订单明细界面删除明细查询 -->
    	SELECT 
    		 jobno,isold
    	FROM 
    		t_poorderentry where orderid = #orderid#
		
    </select>
    
    <select id="Poorderentry.find.finterid.fqty.for.baseitem.data" resultMap="Poorderentry.find.data.for.itemcode.and.fqty">
    	select fqty,itemcode ,t_poorder.fxmark fxmark
    	from t_poorderentry
    	left join t_poorder on t_poorderentry.finterid = t_poorder.finterid 
    	 where orderid = #orderid#
    </select>
    
    
    
    
    
    
</sqlMap>
